<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Weichanglu</title>
  <icon>https://www.gravatar.com/avatar/749a0cb196d7f8d7b7f41d5a5fa372e4</icon>
  <subtitle>ä½ çŸ¥é“çš„è¶Šå¤šï¼Œä½ ä¸çŸ¥é“çš„è¶Šå¤š</subtitle>
  <link href="/feed.xml" rel="self"/>
  
  <link href="https://cl9000.github.io/"/>
  <updated>2020-11-05T10:37:43.857Z</updated>
  <id>https://cl9000.github.io/</id>
  
  <author>
    <name>cl9000</name>
    <email>cl9000@126.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>pythonï¼šERROR:root:code for hash md5 was not found.</title>
    <link href="https://cl9000.github.io/2020/11/05/python-error-root-code-for-hash-md5/"/>
    <id>https://cl9000.github.io/2020/11/05/python-error-root-code-for-hash-md5/</id>
    <published>2020-11-05T10:35:48.000Z</published>
    <updated>2020-11-05T10:37:43.857Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="python-errorrootcode-for-hash-md5-was-not-found">python: ERROR:root:code for hash md5 was not found.</span></h3><h3><span id="è§£å†³æ–¹æ¡ˆé”™è¯¯æ—¥å¿—åœ¨ä¸‹é¢">è§£å†³æ–¹æ¡ˆï¼ˆé”™è¯¯æ—¥å¿—åœ¨ä¸‹é¢ğŸ‘‡ï¼‰</span></h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><ul><li>æ‰§è¡Œå‘½ä»¤</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls /usr/<span class="built_in">local</span>/Cellar/openssl</span></span><br></pre></td></tr></table></figure><ul><li>ç»ˆç«¯å›åº”</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.0.2s</span><br></pre></td></tr></table></figure><ul><li>æ ¹æ®ç°æœ‰ç‰ˆæœ¬ï¼ˆ<strong>æ ¹æ®è‡ªå·±ç»ˆç«¯çš„å“åº”ä¿®æ”¹ï¼Œä¾‹å¦‚1.0.2t</strong>ï¼‰ï¼Œè¿è¡Œï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> brew switch openssl 1.0.2s</span></span><br></pre></td></tr></table></figure><ul><li>ç»ˆç«¯å›åº”</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cleaning /usr/local/Cellar/openssl/1.0.2s</span><br><span class="line">Opt link created for /usr/local/Cellar/openssl/1.0.2s</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨åœ¨Python 2.7 virtualenvä¸­è¿è¡Œä»¥ä¸‹æµ‹è¯•å‘½ä»¤ï¼š</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">import</span> hashlib;</span>m=hashlib.md5();print(m.hexdigest())</span><br></pre></td></tr></table></figure><ul><li>ç»ˆç«¯å›åº”</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d41d8cd98f00b204e9800998ecf8427e</span><br></pre></td></tr></table></figure><p>å¦‚æ­¤ä¾¿æ­£å¸¸è§£å†³äº†</p><p><strong>å¦‚ä¸‹é”™è¯¯æ—¥å¿—ï¼š</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">ERROR:root:code for hash md5 was not found.</span><br><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">147</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    globals()[__func_name] = __get_hash(__func_name)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">97</span>, <span class="keyword">in</span> __get_builtin_constructor</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">'unsupported hash type '</span> + <span class="keyword">name</span>)</span><br><span class="line">ValueError: unsupported <span class="keyword">hash</span> <span class="keyword">type</span> <span class="keyword">md5</span></span><br><span class="line"><span class="keyword">ERROR</span>:root:code <span class="keyword">for</span> <span class="keyword">hash</span> <span class="keyword">sha1</span> was <span class="keyword">not</span> found.</span><br><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">147</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    globals()[__func_name] = __get_hash(__func_name)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">97</span>, <span class="keyword">in</span> __get_builtin_constructor</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">'unsupported hash type '</span> + <span class="keyword">name</span>)</span><br><span class="line">ValueError: unsupported <span class="keyword">hash</span> <span class="keyword">type</span> <span class="keyword">sha1</span></span><br><span class="line"><span class="keyword">ERROR</span>:root:code <span class="keyword">for</span> <span class="keyword">hash</span> sha224 was <span class="keyword">not</span> found.</span><br><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">147</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    globals()[__func_name] = __get_hash(__func_name)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">97</span>, <span class="keyword">in</span> __get_builtin_constructor</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">'unsupported hash type '</span> + <span class="keyword">name</span>)</span><br><span class="line">ValueError: unsupported <span class="keyword">hash</span> <span class="keyword">type</span> sha224</span><br><span class="line"><span class="keyword">ERROR</span>:root:code <span class="keyword">for</span> <span class="keyword">hash</span> sha256 was <span class="keyword">not</span> found.</span><br><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">147</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    globals()[__func_name] = __get_hash(__func_name)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">97</span>, <span class="keyword">in</span> __get_builtin_constructor</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">'unsupported hash type '</span> + <span class="keyword">name</span>)</span><br><span class="line">ValueError: unsupported <span class="keyword">hash</span> <span class="keyword">type</span> sha256</span><br><span class="line"><span class="keyword">ERROR</span>:root:code <span class="keyword">for</span> <span class="keyword">hash</span> sha384 was <span class="keyword">not</span> found.</span><br><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">147</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    globals()[__func_name] = __get_hash(__func_name)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">97</span>, <span class="keyword">in</span> __get_builtin_constructor</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">'unsupported hash type '</span> + <span class="keyword">name</span>)</span><br><span class="line">ValueError: unsupported <span class="keyword">hash</span> <span class="keyword">type</span> sha384</span><br><span class="line"><span class="keyword">ERROR</span>:root:code <span class="keyword">for</span> <span class="keyword">hash</span> sha512 was <span class="keyword">not</span> found.</span><br><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">147</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    globals()[__func_name] = __get_hash(__func_name)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hashlib.py"</span>, line <span class="number">97</span>, <span class="keyword">in</span> __get_builtin_constructor</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">'unsupported hash type '</span> + <span class="keyword">name</span>)</span><br><span class="line">ValueError: unsupported <span class="keyword">hash</span> <span class="keyword">type</span> sha512</span><br><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/Cellar/python@2/2.7.15_3/bin/pip"</span>, line <span class="number">11</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    load_entry_point(<span class="string">'pip==19.0.2'</span>, <span class="string">'console_scripts'</span>, <span class="string">'pip'</span>)()</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py"</span>, line <span class="number">489</span>, <span class="keyword">in</span> load_entry_point</span><br><span class="line">    <span class="keyword">return</span> get_distribution(dist).load_entry_point(<span class="keyword">group</span>, <span class="keyword">name</span>)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py"</span>, line <span class="number">2793</span>, <span class="keyword">in</span> load_entry_point</span><br><span class="line">    <span class="keyword">return</span> ep.load()</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py"</span>, line <span class="number">2411</span>, <span class="keyword">in</span> <span class="keyword">load</span></span><br><span class="line">    <span class="keyword">return</span> self.resolve()</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py"</span>, line <span class="number">2417</span>, <span class="keyword">in</span> resolve</span><br><span class="line">    <span class="keyword">module</span> = __import__(self.module_name, fromlist=[<span class="string">'__name__'</span>], <span class="keyword">level</span>=<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pip/_internal/__init__.py"</span>, line <span class="number">19</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    <span class="keyword">from</span> pip._vendor.urllib3.exceptions <span class="keyword">import</span> DependencyWarning</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pip/_vendor/urllib3/__init__.py"</span>, line <span class="number">8</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    <span class="keyword">from</span> .connectionpool <span class="keyword">import</span> (</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pip/_vendor/urllib3/connectionpool.py"</span>, line <span class="number">29</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    <span class="keyword">from</span> .connection <span class="keyword">import</span> (</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pip/_vendor/urllib3/connection.py"</span>, line <span class="number">38</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    <span class="keyword">from</span> .util.ssl_ <span class="keyword">import</span> (</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pip/_vendor/urllib3/util/__init__.py"</span>, line <span class="number">6</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    <span class="keyword">from</span> .ssl_ <span class="keyword">import</span> (</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python2.7/site-packages/pip/_vendor/urllib3/util/ssl_.py"</span>, line <span class="number">8</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    <span class="keyword">from</span> hashlib <span class="keyword">import</span> <span class="keyword">md5</span>, <span class="keyword">sha1</span>, sha256</span><br><span class="line">ImportError: cannot <span class="keyword">import</span> <span class="keyword">name</span> <span class="keyword">md5</span></span><br></pre></td></tr></table></figure><h3><span id="ref">ref</span></h3><ul><li><a href="https://stackoverflow.com/questions/59269208/errorrootcode-for-hash-md5-was-not-found-when-using-any-hg-mercurial-command#" target="_blank" rel="noopener">â€œERROR:root:code for hash md5 was not foundâ€ when using any hg mercurial commands<br></a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3&gt;&lt;span id=&quot;python-errorrootcode-for-hash-md5-was-not-found&quot;&gt;python: ERROR:root:code for hash md5 was not found.&lt;/span&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;span id=
      
    
    </summary>
    
    
    
      <category term="python error" scheme="https://cl9000.github.io/tags/python-error/"/>
    
      <category term="ERROR:root:code" scheme="https://cl9000.github.io/tags/ERROR-root-code/"/>
    
  </entry>
  
  <entry>
    <title>iOS-virtualPositon</title>
    <link href="https://cl9000.github.io/2020/10/19/iOS-virtualPositon/"/>
    <id>https://cl9000.github.io/2020/10/19/iOS-virtualPositon/</id>
    <published>2020-10-19T04:18:29.000Z</published>
    <updated>2020-10-19T05:28:08.400Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨<strong>i4</strong> ä¿®æ”¹è½¯ä»¶è™šæ‹Ÿä½ç½®ï¼Œæ­¥éª¤å…¥ä¸‹</p><ol><li>Mac appStoreï¼ˆæˆ–PC-i4å®˜ç½‘ï¼‰ä¸‹è½½ i4ï¼ˆçˆ±æ€åŠ©æ‰‹ï¼‰<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/ios-location001.png" alt="ios-location001.png"></li><li>æ•°æ®çº¿è¿æ¥æ‰‹æœºåï¼Œå·¥å…· - è™šæ‹Ÿå®šä½<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/ios-location002.png" alt="ios-location002.png"></li><li>æœç´¢ä½ç½®æˆ–ç»çº¬åº¦å½•å…¥è®¾ç½®<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/ios-location003.png" alt="ios-location003.png"></li></ol><p><strong>æ³¨æ„</strong><br>iOS14ç³»ç»Ÿä»…æ”¯æŒ3ä¸ªå°æ—¶ï¼Œè‹¥æ¢å¤çœŸå®ä½ç½®ï¼Œéœ€è¦é‡æ–°å¯åŠ¨æ‰‹æœºã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä½¿ç”¨&lt;strong&gt;i4&lt;/strong&gt; ä¿®æ”¹è½¯ä»¶è™šæ‹Ÿä½ç½®ï¼Œæ­¥éª¤å…¥ä¸‹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Mac appStoreï¼ˆæˆ–PC-i4å®˜ç½‘ï¼‰ä¸‹è½½ i4ï¼ˆçˆ±æ€åŠ©æ‰‹ï¼‰&lt;br&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/cl9000/wel-i
      
    
    </summary>
    
    
    
      <category term="i4" scheme="https://cl9000.github.io/tags/i4/"/>
    
      <category term="å·¥å…·" scheme="https://cl9000.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="è™šæ‹Ÿå®šä½" scheme="https://cl9000.github.io/tags/%E8%99%9A%E6%8B%9F%E5%AE%9A%E4%BD%8D/"/>
    
  </entry>
  
  <entry>
    <title>Docker</title>
    <link href="https://cl9000.github.io/2020/01/17/Docker/"/>
    <id>https://cl9000.github.io/2020/01/17/Docker/</id>
    <published>2020-01-17T06:11:39.000Z</published>
    <updated>2020-04-26T08:40:08.731Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="docker">docker</span></h3><blockquote><p><a href="https://dashboard.daocloud.io/cluster-private/a8b80bb5-bc0f-4b58-80d7-270586d4692b" target="_blank" rel="noopener">DaoCloud Services - dashboard.daocloud</a><br><a href="http://guide-wiki.daocloud.io:8090/dcs/daocloud-services-9152632.html" target="_blank" rel="noopener">DaoCloud Services æ–‡æ¡£</a><br><a href="https://www.runoob.com/docker/docker-compose.html" target="_blank" rel="noopener">èœé¸Ÿæ•™ç¨‹ - Docker</a><br><a href="https://blog.csdn.net/tony1130/article/details/53181071" target="_blank" rel="noopener">åœ¨MacOSä¸‹ï¼ŒDockerã€€imagesä¿å­˜åœ¨å“ªä¸ªè·¯å¾„ä¸‹</a><br><a href="https://blog.csdn.net/jiangyu1013/article/details/84572582" target="_blank" rel="noopener">Docker æ–¹å¼ éƒ¨ç½² vue é¡¹ç›® ï¼ˆdocker + vue + nginxï¼‰</a><br><a href="https://blog.csdn.net/jason_jeson/article/details/78200623" target="_blank" rel="noopener">Docker é€šè¿‡Nginxé•œåƒéƒ¨ç½²Vueé¡¹ç›®</a><br><a href="https://yeasy.gitbooks.io/docker_practice/network/dns.html" target="_blank" rel="noopener">Docker â€”â€” ä»å…¥é—¨åˆ°å®è·µ</a><br><a href="https://tvvo.gitbooks.io/cloud-insight-docs/content/chapter1.html" target="_blank" rel="noopener">Cloud Insightæ–‡æ¡£ä¸­å¿ƒ</a></p></blockquote><h3><span id="docker-compose">docker-compose</span></h3><p><strong>docker-compose ERROR</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ERROR</span>: <span class="keyword">Version</span> <span class="keyword">in</span> <span class="string">"./docker-compose.yml"</span> is unsupported. </span><br><span class="line">You might be seeing this <span class="keyword">error</span> because you're using the wrong Compose <span class="keyword">file</span> <span class="keyword">version</span>. </span><br><span class="line">Either specify a <span class="keyword">version</span> of <span class="string">"2"</span> (or <span class="string">"2.0"</span>) and place your service definitions </span><br><span class="line">under the `services` key, or omit the `<span class="keyword">version</span>` key and place your service definitions at the root of the <span class="keyword">file</span> to <span class="keyword">use</span> <span class="keyword">version</span> 1.</span><br><span class="line"><span class="keyword">For</span> <span class="keyword">more</span> <span class="keyword">on</span> the Compose <span class="keyword">file</span> <span class="keyword">format</span> versions, see https:<span class="comment">//docs.docker.com/compose/compose-file/</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒæ–¹æ¡ˆï¼š<br><a href="https://stackoverflow.com/questions/57456212/error-version-in-docker-compose-yml-is-unsupported" target="_blank" rel="noopener">1-ERROR: Version in â€œ./docker-compose.ymlâ€ is unsupported</a><br><a href="https://stackoverflow.com/questions/42139982/version-in-docker-compose-yml-is-unsupported-you-might-be-seeing-this-error/49407448#49407448" target="_blank" rel="noopener">2-ERROR: Version in â€œ./docker-compose.ymlâ€ is unsupported</a><br>è§£å†³æ–¹æ¡ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rm /usr/<span class="built_in">local</span>/bin/docker-compose</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo curl -L <span class="string">"https://github.com/docker/compose/releases/download/1.24.1/docker-compose-<span class="variable">$(uname -s)</span>-<span class="variable">$(uname -m)</span>"</span> -o /usr/<span class="built_in">local</span>/bin/docker-compose</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker-compose --version</span></span><br></pre></td></tr></table></figure><p><a href="https://www.hi-linux.com/posts/12554.html?spm=a2c4e.10696291.0.0.6b3219a4a5aIgH" target="_blank" rel="noopener">è¿ç»´ä¹‹ç¾ - ä½¿ç”¨ Docker-Compose ç¼–æ’å®¹å™¨</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3&gt;&lt;span id=&quot;docker&quot;&gt;docker&lt;/span&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://dashboard.daocloud.io/cluster-private/a8b80bb5-bc0f-4b58-80d7-2705
      
    
    </summary>
    
    
    
      <category term="Docker" scheme="https://cl9000.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Hexoåšå®¢éƒ¨ç½²åˆ°Codingã€Giteeã€GitHub</title>
    <link href="https://cl9000.github.io/2019/12/20/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0Coding-gitee-GitHub/"/>
    <id>https://cl9000.github.io/2019/12/20/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0Coding-gitee-GitHub/</id>
    <published>2019-12-20T03:01:53.000Z</published>
    <updated>2020-08-28T08:28:28.303Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="hexoåšå®¢éƒ¨ç½²åˆ°coding-gitee-github">Hexoåšå®¢éƒ¨ç½²åˆ°Codingã€giteeã€GitHub</span></h2><p>ç”±äºCodingå¹³å°è¿›è¡Œäº†æ›´æ–°ï¼ŒHexoåšå®¢éƒ¨ç½²åˆ° æ–°ç‰ˆCoding å’Œ gitee ç­‰å¹³å°ï¼ŒGitHubå·²ç»å‰é¢ä»‹ç»è¿‡ï¼Œç°åœ¨æ›´æ–°éƒ¨ç½²æµç¨‹ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°æ­å»ºåšå®¢çš„å°ä¼™ä¼´ä»¬ï¼Œå¦‚æœæ•™ç¨‹æœ‰é”™ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤ŸæŒ‡å‡ºæ¥ï¼Œæˆ‘ä¼šåŠæ—¶ä¿®æ”¹çš„ï¼Œè°¢è°¢å¤§å®¶çš„æ”¯æŒï¼</p><!-- ![æœ¬åœ°å›¾ç‰‡](/NationalDay70_1920x1080.jpg) --><h2><span id="codingå¹³å°">Codingå¹³å°</span></h2><ol><li>é¦–å…ˆå»å»<a href="https://coding.net/" target="_blank" rel="noopener">Codingå®˜ç½‘æ³¨å†Œ</a>è´¦å·ï¼Œè¿›å…¥å®˜ç½‘ï¼Œé€‰æ‹©å…è´¹æ³¨å†Œã€‚</li></ol><!-- ![æœ¬åœ°å›¾ç‰‡](/0.jpg) --><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-0.jpg" width="400" height="600" alt="å›¾ç‰‡åç§°" align="center"><ol start="2"><li>æ³¨å†Œå®Œæˆä¹‹åå°±ä¼šè¿›å…¥ä¸»é¡µé¢ï¼Œç„¶åç‚¹å‡»åˆ›å»ºæ–°é¡¹ç›®ï¼Œå¦‚ä¸‹å›¾:<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-1.jpg" alt="æœ¬åœ°å›¾ç‰‡"></li></ol><blockquote><ul><li>ä»£ç æ‰˜ç®¡é¡¹ç›®ï¼šç”¨äºæ‰˜ç®¡ä»£ç ä»“åº“ï¼Œæ”¯æŒå¤šä¸ªä»“åº“ï¼Œå¹¶å¯é€‰æ‹©å¼€å¯ CI/CD å’Œåˆ¶å“åº“åŠŸèƒ½</li><li>é¡¹ç›®ç®¡ç†é¡¹ç›®ï¼šæ”¯æŒ Scrum æ•æ·ç®¡ç†å’Œä¼ ç»Ÿä»»åŠ¡ç®¡ç†é¡¹ç›®ï¼ŒåŒ…å«éœ€æ±‚ã€ä»»åŠ¡å’Œç¼ºé™·</li><li>DevOpsé¡¹ç›®ï¼šåŒ…å«é¡¹ç›®ç®¡ç†ã€ä»£ç æ‰˜ç®¡ã€CI/CD å’Œåˆ¶å“åº“ç­‰åŠŸèƒ½ï¼Œæä¾›å®Œæ•´çš„ç ”å‘æµç¨‹</li></ul></blockquote><p><code>å¯ä»¥ç‚¹è¿›å»çœ‹çœ‹å„ä¸ªé¡¹ç›®æ¨¡æ¿çš„ç”¨å¤„ã€‚</code><br>åœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸‰ä¸ªï¼ŒDevOpsé¡¹ç›®ï¼Œè¿™ä¸ªå«æœ‰æ„å»ºä¸éƒ¨ç½²åŠŸèƒ½ã€‚</p><ol start="3"><li><p>é€‰æ‹©ç¬¬ä¸‰ä¸ªDevOpsé¡¹ç›®åï¼Œä¼šå‡ºç°ä¸‹é¢çš„é¡µé¢ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-2.jpg" alt="æœ¬åœ°å›¾ç‰‡"></p></li><li><p>è®¾ç½®å…¬é’¥ï¼Œå¯ä»¥è®¾ç½®å…¨å±€ã€é’ˆå¯¹å•ä¸ªé¡¹ç›®çš„ã€‚<br>4.1ã€ å•é¡¹ç›®çš„å…¬é’¥ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-3.jpg" alt="æœ¬åœ°å›¾ç‰‡"><br>4.2ã€ å…¨å±€å…¬é’¥ - (è®¾ç½®äº†çœŸå¤šé¡¹ç›®çš„å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥)<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-4.jpg" alt="æœ¬åœ°å›¾ç‰‡"><br><strong>å…¬é’¥å¯ä»¥ä½¿ç”¨Githubï¼Œæˆ–åŸæ¥å·²ç»ç”Ÿæˆçš„ã€‚</strong></p></li></ol><blockquote><p>Macï¼ŒæŸ¥çœ‹<code>ssh</code></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls -al ~/.ssh  // æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨çš„è¯ï¼Œå¯ä½¿ç”¨Macè‡ªå¸¦çš„ssh æ–°ç”Ÿæˆä¸€ä¸ªã€‚</span><br><span class="line">// å­˜åœ¨</span><br><span class="line">cat id_rsa.pub</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ <code>ssh - ç»“å°¾</code>ï¼Œç²˜è´´åˆ°æ–°å¢çš„å¯†é’¥ä¸­ï¼Œåç§°è‡ªå®šä¹‰ï¼Œé€‰æ‹© <code>æ°¸ä¹…æœ‰æ•ˆ</code>ï¼Œç„¶åæ–°å»ºã€‚<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-5.jpg" alt="æœ¬åœ°å›¾ç‰‡"><br>æµ‹è¯•éªŒè¯ï¼š<br><code>$ ssh -T git@git.coding.net</code><br>ç¬¬ä¸€æ¬¡å»ºç«‹è¿æ¥ä¼šè¦æ±‚ä¿¡ä»»ä¸»æœºï¼Œè¾“å…¥ç›¸å…³çš„ç”¨æˆ·åæˆ–è€…å¯†ç ï¼Œåœ¨æ§åˆ¶å°è¾“å…¥éªŒè¯ï¼ŒéªŒè¯æˆåŠŸå³å¯ã€‚</p><ol start="5"><li>ç„¶åå¤åˆ¶ä½ çš„é¡¹ç›®åœ°å€ï¼Œç²˜è´´åˆ°é…ç½®æ–‡ä»¶ <code>_config.yml</code>ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-6.jpg" alt="æœ¬åœ°å›¾ç‰‡"><br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-7.jpg" alt="æœ¬åœ°å›¾ç‰‡"></li></ol><p>ç„¶åå†æ‰§è¡Œ <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code> éƒ¨ç½²ï¼Œè¿™æ˜¯ä»“åº“ä¸­ä¾¿æœ‰äº†éƒ¨ç½²ä»£ç ã€‚</p><ol start="6"><li>æ‰“å¼€ coding çš„ç®¡ç†é¡µé¢ï¼Œæ‰¾åˆ° é™æ€ç½‘ç«™ï¼Œå‘å¸ƒé™æ€ç½‘ç«™ã€‚<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-8.jpg" alt="æœ¬åœ°å›¾ç‰‡"><br>å¡«å†™åŸºæœ¬çš„ä¿¡æ¯ï¼Œç‚¹å‡»ä¿å­˜ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-9.jpg" alt="æœ¬åœ°å›¾ç‰‡"><br>ç‚¹å‡»ä¿å­˜ï¼Œå°±ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªé¡µé¢ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-10.jpg" alt="æœ¬åœ°å›¾ç‰‡"><br>é¦–æ¬¡ç‚¹å‡» <code>ç«‹å³éƒ¨ç½²</code> ï¼Œä¹‹åå°±ä¼šæœ‰éƒ¨ç½²è®°å½•ï¼Œè‹¥éœ€è¦é…ç½®è‡ªå·±çš„åŸŸåï¼Œç‚¹å‡»ä¸Šå›¾çš„ <code>è®¾ç½®</code> è¿›è¡Œè®¾ç½®ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-11.jpg" alt="æœ¬åœ°å›¾ç‰‡"></li><li>Coding é‡Œé¢è¿˜æœ‰äº›å…¶å®ƒçš„æ‰©å±•åŠŸèƒ½ï¼Œé¡¹ç›®åè°ƒã€åˆ¶å“åº“ã€æµ‹è¯•ç®¡ç†ã€æ–‡æ¡£ç®¡ç†ç­‰ã€‚è¿™ä¹Ÿæ˜¯ä¸€äº›å…¬å¸çš„æµç¨‹ï¼Œè‡ªå·±å¯ä»¥å°è¯•ä¸‹ã€‚</li></ol><h2><span id="giteeå¹³å°ç äº‘">Giteeå¹³å°ï¼ˆç äº‘ï¼‰</span></h2><ol><li>æµç¨‹åŸºæœ¬ä¸€è‡´ï¼Œæ¯”è¾ƒç®€å•ï¼Œ<a href="https://gitee.com/" target="_blank" rel="noopener">ç äº‘å®˜ç½‘æ³¨å†Œ</a></li><li>å»ºç«‹ä»“åº“ï¼Œæ·»åŠ å…¬é’¥ï¼Œé…ç½®æœ¬åœ°ä»“åº“åœ°å€<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-12.jpg" alt="æœ¬åœ°å›¾ç‰‡"></li><li>ä¸Šä¼ éƒ¨ç½²åšå®¢ä»£ç  <code>$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code></li><li>ç‚¹å‡» <code>æœåŠ¡ - Gitee Pages</code>ï¼Œè¿›å…¥é¡µé¢æŸ¥çœ‹ç›¸å…³è§„åˆ™ï¼Œç‚¹å‡»éƒ¨ç½²å³å¯ï¼Œ<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/Hexo-Coding-Gitee-13.jpg" alt="æœ¬åœ°å›¾ç‰‡"></li></ol><p>Gitee å¹³å°ï¼Œå…è´¹ç‰ˆä¸ä¼šè‡ªåŠ¨éƒ¨ç½²<br>Gitee å¯ä»¥åŒæ­¥å…¶å®ƒçš„ä»“åº“ä»£ç ï¼Œä¾‹å¦‚GitHubï¼Œå¦‚æœå·²éƒ¨ç½²äº†GitHubå¯ç›´æ¥æ‹‰å–ï¼Œéƒ¨ç½²ï¼Œæ›´å¿«æ·ã€‚</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><p><a href="https://cloud.tencent.com/developer/article/1580237" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1580237</a></p><br><blockquote style="border-left: 4px solid #3F51B5;padding: 16px 20px;font-size: 14px;border-radius: 0 2px 2px 0;">    <p>æœ¬æ–‡åœ°å€ï¼š    <a href="/2019/12/20/Hexoåšå®¢éƒ¨ç½²åˆ°Coding-gitee-GitHub/" target="_blank" rel="external">/2019/12/20/Hexoåšå®¢éƒ¨ç½²åˆ°Coding-gitee-GitHub/</a></p></blockquote><br>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;hexoåšå®¢éƒ¨ç½²åˆ°coding-gitee-github&quot;&gt;Hexoåšå®¢éƒ¨ç½²åˆ°Codingã€giteeã€GitHub&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;ç”±äºCodingå¹³å°è¿›è¡Œäº†æ›´æ–°ï¼ŒHexoåšå®¢éƒ¨ç½²åˆ° æ–°ç‰ˆCoding å’Œ gitee ç­‰å¹³å°ï¼ŒGitHu
      
    
    </summary>
    
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/tags/HEXO/"/>
    
      <category term="GitHub" scheme="https://cl9000.github.io/tags/GitHub/"/>
    
      <category term="Coding" scheme="https://cl9000.github.io/tags/Coding/"/>
    
      <category term="Gitee" scheme="https://cl9000.github.io/tags/Gitee/"/>
    
      <category term="ç äº‘" scheme="https://cl9000.github.io/tags/%E7%A0%81%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>å›½å†…è§£å†³ reCAPTCHA æ— æ³•è®¿é—®</title>
    <link href="https://cl9000.github.io/2019/10/21/%E8%A7%A3%E5%86%B3recaptcha%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE/"/>
    <id>https://cl9000.github.io/2019/10/21/%E8%A7%A3%E5%86%B3recaptcha%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE/</id>
    <published>2019-10-21T03:08:32.000Z</published>
    <updated>2020-10-21T03:25:46.935Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/reCAPTCHA.png" alt="reCAPTCHA.png"></p><ol><li><p>æ‰“å¼€ Chrome æˆ– Firefox æµè§ˆå™¨ï¼Œæ­¤ä»¥Chromeä¸ºä¸»</p></li><li><p>ä¸‹è½½ gooreplacer <a href="https://pan.baidu.com/s/1n24QfvGstMfI27HpF3LVXw" target="_blank" rel="noopener">é“¾æ¥:https://pan.baidu.com/s/1n24QfvGstMfI27HpF3LVXw  å¯†ç :rb0d</a> æˆ–æ–¹æ³•äºŒï¼ˆæ­¤å¤„ä¸ä½œå…·ä½“ä»‹ç»ï¼Œå†…æœ‰è¯¦ç»†æ“ä½œæ–¹æ³•ï¼‰</p></li><li><p>æ‰“å¼€ <code>chrome://extensions/</code>ï¼Œå°†ä¸‹è½½çš„ <code>gooreplacer.crx</code> æ‹–è¿›æ‰©å±•ï¼Œæ·»åŠ å®‰è£…</p></li><li><p>ç‚¹å‡» Gooreplacerï¼Œæ‰“å¼€ Gooreplaceræ“ä½œé¢æ¿</p></li><li><p>ç‚¹å‡» <code>æ–°å¢</code></p></li><li><p>åœ¨Sourceï¼ˆåŒ¹é…æ¨¡å¼ï¼‰æ¡†å†…å¡«å…¥ <code>www.google.com/recaptcha</code></p></li><li><p>åœ¨Destination ï¼ˆç›®æ ‡åœ°å€ï¼‰æ å¡«å…¥ <code>recaptcha.net/recaptcha</code></p></li><li><p>ç‚¹å‡» Submit ï¼ˆæäº¤ï¼‰</p></li><li><p>é‡å¯æµè§ˆå™¨ï¼Œç„¶åè®¿é—®éœ€è¦recaptchaçš„ç½‘ç«™</p></li></ol><p>æ³¨æ„ï¼šä¸‹è½½åŒ…å†…è¿˜æœ‰å¦ä¸€ç§æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å°è¯•ï¼Œæ­¤ä»…ä¸ºæ”¶é›†æ–¹æ³•ï¼Œä¸åšç›¸å…³è§£é‡Šï¼Œä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/reCAPTCHA.png&quot; alt=&quot;reCAPTCHA.png&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ‰“å¼€ Chrome æˆ– Firefox æµ
      
    
    </summary>
    
    
    
      <category term="reCAPTCHA" scheme="https://cl9000.github.io/tags/reCAPTCHA/"/>
    
      <category term="GoogleäººæœºéªŒè¯" scheme="https://cl9000.github.io/tags/Google%E4%BA%BA%E6%9C%BA%E9%AA%8C%E8%AF%81/"/>
    
      <category term="gooreplacer" scheme="https://cl9000.github.io/tags/gooreplacer/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨GitHubæ­å»ºå…è´¹å›¾åºŠ</title>
    <link href="https://cl9000.github.io/2019/09/26/Github%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/"/>
    <id>https://cl9000.github.io/2019/09/26/Github%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/</id>
    <published>2019-09-26T10:43:32.000Z</published>
    <updated>2020-04-27T01:43:54.556Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="åœ¨githubæ­å»ºå…è´¹å›¾åºŠ-macç‰ˆæœ¬">åœ¨GitHubæ­å»ºå…è´¹å›¾åºŠ - Macç‰ˆæœ¬</span></h2><p>ç”¨åˆ°ï¼š<a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>ã€ <a href="https://www.jsdelivr.com/" target="_blank" rel="noopener">jsDelivr</a>ã€ <a href="https://github.com/Molunerfinn/PicGo/releases" target="_blank" rel="noopener">PicGo</a>  æˆ– <a href="https://apps.apple.com/cn/app/ipic-markdown-%E5%9B%BE%E5%BA%8A-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%B7%A5%E5%85%B7/id1101244278?mt=12" target="_blank" rel="noopener">iPic</a>ï¼Œè¿™é‡Œä½¿ç”¨ <strong>PicGo</strong></p><p><a href="https://toolinbox.net/iPic/" target="_blank" rel="noopener">iPic å‚è€ƒ</a></p><h2><span id="ä¸ºç”š">ä¸ºç”š</span></h2><p>ä¹‹å‰ä¸ºäº†æ‰˜ç®¡çªå›¾ç‰‡ä½¿ç”¨çš„å›¾åºŠæ˜¯ä¸ƒç‰›äº‘å›¾åºŠï¼Œç”¨ç€è¿˜ä¸é”™ï¼Œä½†åæ¥å¼€å§‹æ”¶è´¹äº†ï¼Œåˆè¿ç§»åˆ°æ–°æµªå›¾åºŠï¼Œå¸èŠ±å…‰äº†ï¼Œç„¶ååˆæ”¾åœ¨äº†æœ¬åœ°å»åŠ è½½ï¼Œä½†åæœŸå‘å¸ƒå…¶ä»–å¹³å°ä¸å¥½ä½¿â€¦ï¼Œç½‘ä¸Šæ‰¾äº†ä¸€å †å›¾åºŠéƒ½å¼€å§‹å¼€å§‹æ”¶è´¹äº†ï¼Œæ¯•ç«Ÿäººå®¶ä¹Ÿè¦åƒé¥­ã€‚</p><p>äºæ˜¯æœ‰äº†ç°åœ¨åœ¨Githubä¸Šæ‰˜ç®¡ï¼Œç›´æ¥è®¿é—®çš„è¯ï¼Œå›½å†…é€Ÿåº¦å¾ˆæ…¢ï¼Œä¾¿å€ŸåŠ©äº†ä¸€ä¸ªå…è´¹çš„CDN <a href="https://www.jsdelivr.com/" target="_blank" rel="noopener">jsDelivr</a>ï¼Œä¹‹å‰ä¸€ç›´ç”¨å…¶è®¿é—®èµ„æºæ–‡ä»¶ï¼Œé€Ÿåº¦è¿˜å¯ä»¥çš„ï¼Œä½†åŸºæœ¬åªèƒ½ç”¨äºä¸ªäººé¡¹ç›®ã€‚</p><h2><span id="ä¸‹è½½picgo">ä¸‹è½½PicGo</span></h2><p><a href="https://github.com/Molunerfinn/PicGo/releases" target="_blank" rel="noopener">PicGoä¸‹è½½é“¾æ¥</a> æŸ¥çœ‹ä¸åŒçš„ç‰ˆæœ¬ï¼Œæ ¹æ®ç³»ç»Ÿå¹³å°ä¸‹è½½å¯¹åº”ç¨‹åºï¼Œ<strong>Mac</strong> é€‰æ‹© <strong>dmg</strong> æ–‡ä»¶è¿›è¡Œä¸‹è½½å³å¯ã€‚</p><h2><span id="é…ç½®-github">é…ç½® GitHub</span></h2><p>é¦–å…ˆå»Githubåˆ›å»ºä¸ªå›¾ç‰‡ä»“åº“ï¼Œåç§°è‡ªå®šä¹‰ï¼Œé…ç½®æ—¶åç§°è¦å†™å¯¹</p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/gh-wel-imgs-0.png" alt></p><p>æ–°å»º Personal access tokensï¼Œ åç§°è‡ªå®šä¹‰ï¼Œè‡ªå·±ç”¨çš„è¯å…¨éƒ¨é’©ä¸Šã€‚ï¼ˆå…¶å®æƒé™åªè¦ repo å³å¯ï¼‰ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/gh-wel-imgs-1.png" alt></p><h2><span id="é…ç½®-picgo">é…ç½® PicGo</span></h2><p>ä¸‹è½½å®Œæˆåå®‰è£…æ‰“å¼€ï¼ŒMacè®¾ç½®ä¸‹å…è®¸ä»»ä½•æ¥æº</p><p>è¿è¡Œ PicGo å¹¶è¿›è¡Œé…ç½®ï¼Œå¸¦ <code>*</code> çš„æ˜¯å¿…é¡»è®¾ç½®é¡¹ï¼š<br><strong>ä»“åº“åç§°ï¼š</strong> <code>&lt;ç”¨æˆ·å&gt;/&lt;preject&gt;</code>  ä¾‹å¦‚: cl9000/wel-imgs<br><strong>åˆ†æ”¯ï¼š</strong> <code>master</code><br><strong>tokenï¼š</strong> ç”Ÿæˆçš„ <code>Personal access tokens</code><br><strong>æŒ‡å®šå­˜å‚¨è·¯å¾„ï¼š</strong> <code>images/</code>   ï¼ˆPicGoä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå°†è‡ªåŠ¨åœ¨Githubä»“åº“ä¸­åˆ›å»ºæ­¤æ–‡ä»¶å¤¹ã€‚æ³¨æ„æœ«å°¾è¦åŠ  <strong>/</strong>ï¼‰<br><strong>è‡ªå®šä¹‰åŸŸåï¼š</strong> <code>https://cdn.jsdelivr.net/gh/ç”¨æˆ·å/å›¾åºŠä»“åº“å</code><br>ï¼ˆå¦‚æœè®¾ç½®äº†è‡ªå®šä¹‰åŸŸåï¼ŒPicGoç”Ÿæˆçš„è®¿é—®é“¾æ¥ï¼Œå°†æ˜¯ <code>è‡ªå®šä¹‰åŸŸå+æ–‡ä»¶å</code> çš„è®¿é—®æ–¹å¼ï¼Œè¿™é‡Œä½¿ç”¨ jsDelivr åŠ é€Ÿè®¿é—®ã€‚ï¼‰</p><p><a href="https://picgo.github.io/PicGo-Doc/zh/guide/" target="_blank" rel="noopener">PicGoé…ç½®æ–‡æ¡£</a></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/gh-wel-imgs-2.png" alt></p><p>iPicç”¨æ³•å·®ä¸å¤šï¼Œ <a href="https://toolinbox.net/iPic/" target="_blank" rel="noopener">iPic å‚è€ƒ</a>ã€‚</p><h2><span id="åè®°">åè®°</span></h2><p><strong>æ³¨æ„ï¼š</strong> è¿™ä¸ªè½¯ä»¶ç›®å‰ä¸æ”¯æŒåˆ é™¤åŠŸèƒ½ï¼Œåˆ é™¤éœ€è¦å»GitHubæ‰‹åŠ¨åˆ é™¤ã€‚<br>ä½¿ç”¨ <a href="https://www.electronjs.org/" target="_blank" rel="noopener">Electron</a> å¼€å‘ã€‚</p><h2><span id="refrence">Refrence</span></h2><ul><li><a href="https://picgo.github.io/PicGo-Doc/zh/guide/" target="_blank" rel="noopener">PicGo</a></li><li><a href="https://github.com/Molunerfinn/PicGo/releases" target="_blank" rel="noopener">PicGo ä¸‹è½½åœ°å€</a></li><li><a href="https://cl9000.github.io/">åœ¨GitHubæ­å»ºå…è´¹å›¾åºŠ cl9000</a></li><li><a href="http://www.blossomingmay.com/blog/2019-08/%E5%A6%82%E4%BD%95%E5%9C%A8%E8%87%AA%E5%B7%B1%E7%9A%84github%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/" target="_blank" rel="noopener">å¦‚ä½•åœ¨è‡ªå·±çš„GitHubæ­å»ºå›¾åºŠ</a></li><li><a href="https://www.cnblogs.com/lfri/p/12210721.html" target="_blank" rel="noopener">GitHub+jsDelivr+PicGoæ­å»ºå¿«é€Ÿå…è´¹å›¾åºŠ</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;åœ¨githubæ­å»ºå…è´¹å›¾åºŠ-macç‰ˆæœ¬&quot;&gt;åœ¨GitHubæ­å»ºå…è´¹å›¾åºŠ - Macç‰ˆæœ¬&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;ç”¨åˆ°ï¼š&lt;a href=&quot;https://github.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitH
      
    
    </summary>
    
    
      <category term="Github" scheme="https://cl9000.github.io/categories/Github/"/>
    
      <category term="å›¾åºŠ" scheme="https://cl9000.github.io/categories/Github/%E5%9B%BE%E5%BA%8A/"/>
    
    
      <category term="Github" scheme="https://cl9000.github.io/tags/Github/"/>
    
      <category term="å›¾åºŠ" scheme="https://cl9000.github.io/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
  <entry>
    <title>Nginx åå‘ä»£ç†è§£å†³è·¨åŸŸã€Macé…ç½®hosts</title>
    <link href="https://cl9000.github.io/2019/07/14/Nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E3%80%81Mac%E9%85%8D%E7%BD%AEhosts/"/>
    <id>https://cl9000.github.io/2019/07/14/Nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E3%80%81Mac%E9%85%8D%E7%BD%AEhosts/</id>
    <published>2019-07-14T05:23:31.000Z</published>
    <updated>2020-07-20T07:40:59.826Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="nginx-åå‘ä»£ç†è§£å†³è·¨åŸŸ-macé…ç½®hosts">Nginx åå‘ä»£ç†è§£å†³è·¨åŸŸã€Macé…ç½®hosts</span></h2><blockquote><p>Nginx æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„é«˜æ€§èƒ½Webå’Œåå‘ä»£ç†æœåŠ¡ã€‚åˆ©ç”¨å¥½é…ç½®æ–‡ä»¶ï¼Œå°†ä¼šå¾ˆæ–¹ä¾¿ã€‚<a href="https://baike.baidu.com/item/nginx" target="_blank" rel="noopener">Nginx ç™¾åº¦ç™¾ç§‘</a></p></blockquote><h3><span id="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†">æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</span></h3><p>æ­£å‘ä»£ç†çš„ä¾‹å­ï¼šéšè—äº†çœŸå®çš„è¯·æ±‚å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯ä¸çŸ¥é“çœŸå®çš„å®¢æˆ·ç«¯æ˜¯è°ï¼Œå®¢æˆ·ç«¯è¯·æ±‚çš„æœåŠ¡éƒ½ç”±ä»£ç†æœåŠ¡å™¨ä»£æ›¿æ¥è¯·æ±‚ã€‚ <strong>VPN å°±æ˜¯æ­£å‘ä»£ç†</strong><br>åå‘ä»£ç†çš„ä¾‹å­ï¼šåå‘ä»£ç†éšè—äº†çœŸå®çš„æœåŠ¡ç«¯</p><h3><span id="ä½¿ç”¨nodeæ­å»ºç®€æ˜“æœåŠ¡å™¨">ä½¿ç”¨nodeæ­å»ºç®€æ˜“æœåŠ¡å™¨</span></h3><p>å…ˆç”¨nodeå†™ä¸€ä¸ªæœåŠ¡æ¥å£ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (req.url === <span class="string">'/favicon.ico'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> parseUrl = url.parse(req.url, <span class="literal">true</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'parseUrl'</span>, parseUrl.pathname)</span><br><span class="line">  <span class="keyword">if</span> (parseUrl.pathname === <span class="string">'/api/getData'</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> list = &#123;<span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'name'</span>: <span class="string">'å¼ ä¸‰'</span>&#125;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123;<span class="string">'content-Type'</span>:<span class="string">'text/html;charset=UTF-8'</span>&#125;)  </span><br><span class="line">    res.end(<span class="built_in">JSON</span>.stringify(list))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    res.write(<span class="string">`port: 8088`</span>)</span><br><span class="line">    res.end()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">server.listen(<span class="number">8088</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'server is starting on port 8088'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå¯åŠ¨å‘½ä»¤ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">node</span> <span class="title">index</span>.js</span><br></pre></td></tr></table></figure><p>è®¿é—®æµ‹è¯•ä¸€ä¸‹ï¼Œæµ‹è¯•åœ°å€ <a href="http://localhost:8088/api/getData" target="_blank" rel="noopener">http://localhost:8088/api/getData</a><br>å“åº”è¿”å›æœåŠ¡å†™å…¥æµ‹è¯•æ•°æ®å³å¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"å¼ ä¸‰"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="è·¨åŸŸé—®é¢˜">è·¨åŸŸé—®é¢˜</span></h3><h4><span id="ç®€æ˜“æµ‹è¯•æ¥å£é¡µé¢">ç®€æ˜“æµ‹è¯•æ¥å£é¡µé¢</span></h4><p>å†™ä¸€ä¸ªç®€æ˜“çš„ ajax è¯·æ±‚é¡µé¢ï¼Œç”¨http-serverå¯åŠ¨è®¿é—®ä¸‹ï¼ŒF12æŸ¥çœ‹æ—¥å¿—ï¼Œå¯ä»¥å‘ç°è¯·æ±‚è·¨åŸŸäº†ï¼š</p><blockquote><p>http-server å¯åŠ¨ è®¿é—®æ¥å£ä¸ºå…¨åœ°å€ï¼š <code>http://127.0.0.1:8088/api/getData</code><br>Nginx åå‘ä»£ç† è®¿é—®æ¥å£ä¸ºç›¸å¯¹åœ°å€ï¼š  <code>/api/getData</code></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">dir</span>=<span class="string">"ltr"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"referrer"</span> <span class="attr">content</span>=<span class="string">"never"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>æµ‹è¯•è·¨åŸŸ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="actionscript">  (<span class="function"><span class="keyword">function</span><span class="params">(para)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">/* æœåŠ¡è¯·æ±‚ */</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// getè¯·æ±‚</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> SERVER_URL = <span class="string">''</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> ajax = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// ajax.open('GET', 'http://t.weather.sojson.com/api/weather/city/101030100');</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// ajax.open('GET', '/api/weather/city/101030100', true); // æˆ– http://localhost:80/api/weather/city/101030100</span></span></span><br><span class="line"><span class="actionscript">    ajax.open(<span class="string">'GET'</span>, <span class="string">'http://127.0.0.1:8088/api/getData'</span>, <span class="literal">true</span>); <span class="comment">// http-server å¯åŠ¨è®¿é—®</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// ajax.open('GET', '/api/getData', true); // Nginx åå‘ä»£ç†</span></span></span><br><span class="line">    ajax.send();</span><br><span class="line"><span class="actionscript">    ajax.onreadystatechange = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">      if (ajax.readyState == 4 &amp;&amp; ajax.status == 200) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ajax.responseText);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">// postè¯·æ±‚</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// var xhr = new XMLHttpRequest();</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// xhr.open('post', SERVER_URL + '/api/getData');</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// xhr.send('name=233');</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// xhr.onreadystatechange = function () &#123;</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//   if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) &#123;</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//     console.log(xhr.responseText);</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// &#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'id = '</span> + para.id);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'name = '</span> + para.name);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'url = '</span> + para.url);</span></span><br><span class="line">  &#125;)(&#123;</span><br><span class="line">    id: 13,</span><br><span class="line"><span class="actionscript">    name: <span class="string">'å¼ ä¸‰'</span>,</span></span><br><span class="line"><span class="actionscript">    url: <span class="string">'http://www.bing.com?'</span></span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨è®¿é—®æµ‹è¯•åœ°å€ï¼š<a href="http://localhost/html5/" target="_blank" rel="noopener">http://localhost/html5/</a>, ç«¯å£æ˜¯80ï¼Œå¯é»˜è®¤ä¸å¸¦<br>è·¨åŸŸé—®é¢˜è¿”å›æ—¥å¿—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Access to XMLHttpRequest at <span class="string">'http://127.0.0.1:8088/api/getData'</span> <span class="keyword">from</span> origin <span class="string">'http://127.0.0.1:8080'</span> has been blocked by CORS policy: No <span class="string">'Access-Control-Allow-Origin'</span> header is present on the requested resource.</span><br><span class="line">GET http:<span class="comment">//127.0.0.1:8088/api/getData net::ERR_FAILED</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/kuayulog.png" alt="kuayulog.png"></p><blockquote><p>å…³äºè·¨åŸŸçš„é—®é¢˜ä¸€èˆ¬æ˜¯ç”±åå°æ·»åŠ è¯·æ±‚å¤´æˆ–CORSè¿›è¡Œè§£å†³ï¼Œæˆ–Nginxåå‘ä»£ç†ï¼Œå‰ç«¯ä¸éœ€è¦åšé¢å¤–æ“ä½œï¼Œæ­¤å¤„ä»…ä¸ºå‰ç«¯å•ç‹¬æµ‹è¯•ã€‚</p></blockquote><h4><span id="ä½¿ç”¨macè‡ªå¸¦nginxæˆ–é‡æ–°å•ç‹¬è‡ªå®šä¹‰å®‰è£…">ä½¿ç”¨Macè‡ªå¸¦Nginxï¼Œæˆ–é‡æ–°å•ç‹¬è‡ªå®šä¹‰å®‰è£…</span></h4><p>Mac è‡ªå¸¦ Nginx è·¯å¾„åŠå¯åŠ¨å…³é—­æ“ä½œå‘½ä»¤ï¼š</p> <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>nginx    <span class="regexp">//</span> ç¬¦å·é“¾æ¥è·¯å¾„</span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/var/</span>www  <span class="regexp">//</span> é»˜è®¤æœåŠ¡å™¨æ ¹ç›®å½•</span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/etc/</span>nginx <span class="regexp">//</span> nginxé…ç½®ç›®å½•ï¼Œnginxé…ç½®ç›¸å…³çš„æ–‡ä»¶éƒ½åœ¨è¿™ä¸ªç›®å½•</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨ nginx</span></span><br><span class="line">nginx   <span class="regexp">//</span> or: <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>nginx</span><br><span class="line"><span class="comment">###  é‡æ–°åŠ è½½é…ç½® | é‡å¯ | åœæ­¢ |é€€å‡º</span></span><br><span class="line">nginx -s reload|reopen|stop|quit </span><br><span class="line"><span class="comment"># æµ‹è¯•é…ç½®æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯</span></span><br><span class="line">nginx -t</span><br></pre></td></tr></table></figure><h4><span id="nginxconfé…ç½®é…ç½®åå‘ä»£ç†">nginx.confé…ç½®ï¼Œé…ç½®åå‘ä»£ç†</span></h4><p>é…ç½®ä»£ç†ï¼Œä¸‹é¢æ„æ€å°±æ˜¯æˆ‘ä»¬è¯·æ±‚ä¸­æœ‰ api è¿™æ ·çš„å°±ä¼šä»£ç†åˆ° <code>http://127.0.0.1:8088</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦è®¿é—® <code>http://localhost:80/api/getData</code>ï¼Œè¿™ä¸ªä¸è·¨åŸŸçš„æ¥å£ï¼Œç„¶åå°±ä¼šç”±Nginxæˆªå–æ¥å£å¹¶åå‘ä»£ç†åˆ° <code>http://localhost:8088/api/getData</code>ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">      <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">      <span class="attribute">server_name</span> localhost,test2.com;</span><br><span class="line"></span><br><span class="line">      <span class="comment">#charset koi8-r;</span></span><br><span class="line">      <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">      <span class="attribute">location</span> / &#123;</span><br><span class="line">          <span class="attribute">root</span>   html;</span><br><span class="line">          <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span><span class="regexp"> ^~</span> /html5 &#123;</span><br><span class="line">         <span class="attribute">alias</span> /Users/weichanglu/Desktop/Login;</span><br><span class="line">         </span><br><span class="line">         <span class="comment"># HTML5 History æ¨¡å¼é…ç½®</span></span><br><span class="line">         <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /html5/index.html;</span><br><span class="line">         <span class="comment">#index  index.html;</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment"># URLé‡å†™ ä»…å°† /api ä¸‹çš„urlåå‘ä»£ç†åˆ°åç«¯åœ°å€</span></span><br><span class="line">      <span class="attribute">location</span><span class="regexp"> ^~</span> /api &#123;</span><br><span class="line">          <span class="comment"># rewrite ^/api/(.*)$ /$1 break; ## /api/xxx æ”¹ä¸º /xxx</span></span><br><span class="line">          <span class="attribute">proxy_pass</span> http://127.0.0.1:8088; <span class="comment"># è½¬å‘åœ°å€</span></span><br><span class="line">          <span class="comment"># proxy_pass http://t.weather.sojson.com;</span></span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å¥½ä¹‹åéœ€è¦é‡å¯ä¸€ä¸‹ Nginx æœåŠ¡ï¼Œæ‰§è¡Œä¸€ä¸‹é‡å¯å‘½åå³å¯ã€‚è‹¥æœ‰é—®é¢˜ï¼Œå¯å…ˆåœæ‰ Ngixï¼Œå†é‡æ–°å¯åŠ¨ã€‚<br>è‹¥ 80 ç«¯å£ä¸å¯ç”¨ï¼Œå¯æ¢ç”¨å…¶å®ƒç«¯å£ï¼Œæˆ–è€…æ¸…æ‰Macè‡ªå¸¦ Apache çš„80ç«¯å£<br>æŸ¥çœ‹Nginxå ç”¨è¿›ç¨‹ï¼š <code>$ ps aux | grep nginx</code></p><h4><span id="éªŒè¯è·¨åŸŸçš„è§£å†³">éªŒè¯è·¨åŸŸçš„è§£å†³</span></h4><p>ä½¿ç”¨ Nginx éœ€è¦æŠŠ ajax è¯·æ±‚çš„æ¥å£æ¢æˆç›¸å¯¹åœ°å€ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ajax.open('GET', 'http://t.weather.sojson.com/api/weather/city/101030100');</span></span><br><span class="line"><span class="comment">// ajax.open('GET', '/api/weather/city/101030100', true);</span></span><br><span class="line"><span class="comment">// ajax.open('GET', 'http://127.0.0.1:8088/api/getData', true);</span></span><br><span class="line">   ajax.open(<span class="string">'GET'</span>, <span class="string">'/api/getData'</span>, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨é‡æ–°è®¿é—®æµ‹è¯•ä¸€ä¸‹ï¼Œåœ°å€ <a href="http://localhost/html5/" target="_blank" rel="noopener">http://localhost/html5/</a><br>ç°åœ¨å°±ä¸ä¼šåœ¨æœ‰è·¨åŸŸçš„é—®é¢˜äº†ã€‚</p><h3><span id="è‡ªå®šä¹‰åŸŸåæœ¬åœ°æµ‹è¯•ä¿®æ”¹hostsæ–‡ä»¶">è‡ªå®šä¹‰åŸŸåï¼Œæœ¬åœ°æµ‹è¯•ï¼Œä¿®æ”¹hostsæ–‡ä»¶</span></h3><blockquote><p>Hostsæ˜¯ä¸€ä¸ªæ²¡æœ‰æ‰©å±•åçš„ç³»ç»Ÿæ–‡ä»¶ï¼Œå¯ä»¥ç”¨è®°äº‹æœ¬ç­‰å·¥å…·æ‰“å¼€ï¼Œå…¶ä½œç”¨å°±æ˜¯å°†ä¸€äº›å¸¸ç”¨çš„ç½‘å€åŸŸåä¸å…¶å¯¹åº”çš„IPåœ°å€å»ºç«‹ä¸€ä¸ªå…³è”â€œæ•°æ®åº“â€ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªéœ€è¦ç™»å½•çš„ç½‘å€æ—¶ï¼Œç³»ç»Ÿä¼šé¦–å…ˆè‡ªåŠ¨ä»Hostsæ–‡ä»¶ä¸­å¯»æ‰¾å¯¹åº”çš„IPåœ°å€ï¼Œä¸€æ—¦æ‰¾åˆ°ï¼Œç³»ç»Ÿä¼šç«‹å³æ‰“å¼€å¯¹åº”ç½‘é¡µï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ç³»ç»Ÿä¼šå†å°†ç½‘å€æäº¤DNSåŸŸåè§£ææœåŠ¡å™¨è¿›è¡ŒIPåœ°å€çš„è§£æã€‚ <a href="https://baike.baidu.com/item/hosts/10474546" target="_blank" rel="noopener">hosts ç™¾åº¦ç™¾ç§‘</a></p></blockquote><h4><span id="nginxæ·»åŠ æµ‹è¯•åŸŸå-ä¿®æ”¹hostsæ–‡ä»¶">Nginxæ·»åŠ æµ‹è¯•åŸŸåã€ä¿®æ”¹hostsæ–‡ä»¶</span></h4><p>åœ¨Nginxä¸­æ·»åŠ è‡ªå®šä¹‰æµ‹è¯•åŸŸåï¼Œå¹¶é‡å¯ Nginx</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span> localhost,test2.com;</span><br><span class="line"></span><br><span class="line"><span class="comment">#charset koi8-r;</span></span><br><span class="line"><span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line">    <span class="attribute">root</span>   html;</span><br><span class="line">    <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Mac hostsæ–‡ä»¶è·¯å¾„(command + shift + G å¿«é€Ÿå‰å¾€æ–‡ä»¶å¤¹)<br><code>/etc/hosts</code></p><blockquote><p>æ³¨æ„ï¼šhostæ–‡ä»¶æ˜¯ä¸ª<code>æ–‡æœ¬ç¼–è¾‘æ–‡ç¨¿ç±»å‹</code>ï¼ï¼ï¼éœ€è¦å¤åˆ¶åˆ°å¤–éƒ¨ç¼–è¾‘å®Œåï¼Œåœ¨è¿›è¡ŒéªŒè¯æ›¿æ¢å³å¯ç”Ÿæ•ˆï¼Œè‹¥ä¸ç”Ÿæ•ˆï¼Œåé¢æˆ–æœ‰æ¸…ç† Chrom æµè§ˆå™¨çš„DNSé“¾æ¥æ–¹æ³•ã€‚</p></blockquote><p>ç¼–è¾‘ hosts æ–‡ä»¶ï¼Œå‚è€ƒå…¶å®ƒæ–°å¢ä¸€è¡Œï¼š<br><code>127.0.0.1 test2.com</code><br>ä¸ºäº†éªŒè¯æ˜¯å¦ç”Ÿæ•ˆï¼Œå¯ä»¥å†æ–°å¢ä¸€è¡Œï¼š<br><code>127.0.0.1 www.taobao.com</code><br>æ›¿æ¢æ‰æºæ–‡ä»¶åï¼Œæµè§ˆå™¨è¾“å…¥ <a href="https://www.taobao.com/" target="_blank" rel="noopener">https://www.taobao.com/</a>ï¼Œçœ‹æ˜¯å¦è¿˜å¯ä»¥è®¿é—®ï¼Œä¸èƒ½æ­£å¸¸è®¿é—®è¯´æ˜å·²ç»ç”Ÿæ•ˆã€‚ï¼ˆéªŒè¯å®Œå³å¯åˆ é™¤ï¼Œå¦åˆ™åŸç½‘ç«™ä¸å¯è®¿é—®ï¼‰</p><p>æµ‹è¯•åŸŸååœ°å€: <a href="http://test2.com/html5/" target="_blank" rel="noopener">http://test2.com/html5/</a>ï¼Œæ­£å¸¸è®¿é—®ï¼Œè¯´æ˜å·²ç”Ÿæ•ˆ</p><h4><span id="è‹¥hostsæ–‡ä»¶å¹¶ä¸ç”Ÿæ•ˆ">è‹¥hostsæ–‡ä»¶å¹¶ä¸ç”Ÿæ•ˆ</span></h4><p>Chromeæµè§ˆå™¨è¾“å…¥ï¼š<a href="chrome://net-internals/#dns" target="_blank" rel="noopener">chrome://net-internals/#dns</a><br>é€‰æ‹© <code>DNS</code>  <strong>Host resolver cache</strong> ç‚¹å‡»ä¸‹ <strong>Clear host cache</strong><br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/chrome-dns.png" alt="chrome-dns.png"></p><p>å†é‡æ–°è®¿é—®ï¼š<br><a href="http://test2.com/html5/" target="_blank" rel="noopener">http://test2.com/html5/</a> æ­£å¸¸è®¿é—®ï¼Œè¯´æ˜å·²ç”Ÿæ•ˆ</p><p><a href="https://www.taobao.com/" target="_blank" rel="noopener">https://www.taobao.com/</a> ä¸èƒ½æ­£å¸¸è®¿é—®è¯´æ˜å·²ç»ç”Ÿæ•ˆã€‚ï¼ˆéªŒè¯å®Œå³å¯åˆ é™¤ï¼Œå¦åˆ™åŸç½‘ç«™ä¸å¯è®¿é—®ï¼‰</p><h3><span id="æ—§æ–¹æ³•">æ—§æ–¹æ³•</span></h3><ul><li>CORS å…¨ç§°Cross-Origin Resource Sharingï¼Œæ˜¯HTML5è§„èŒƒå®šä¹‰çš„å¦‚ä½•è·¨åŸŸè®¿é—®èµ„æºã€‚<br>æœåŠ¡ç«¯è¿›è¡Œè®¾ç½®CORSç­–ç•¥<br>Access-Control-Allow-Origin: <a href="http://test.com" target="_blank" rel="noopener">http://test.com</a><br>Access-Control-Allow-Methods: POST, GET, PUT, OPTIONS<br>Access-Control-Max-Age: 86400</li></ul><ul><li>JSONPé€šå¸¸ä»¥å‡½æ•°è°ƒç”¨çš„å½¢å¼è¿”å›<br>éœ€è¦é¦–å…ˆåœ¨é¡µé¢ä¸­å‡†å¤‡å¥½å›è°ƒå‡½æ•°ï¼Œä¾‹å¦‚ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"jsonp"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"getData()"</span> <span class="attr">style</span>=<span class="string">"width: 100px;height: 45px;"</span>&gt;</span>åˆ·æ–°è¯·æ±‚<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// æå‰å‡†å¤‡å¥½çš„å›è°ƒæ–¹æ³•</span><br><span class="line">function refreshPrice(data) &#123;</span><br><span class="line">  var p = document.getElementById('jsonp');</span><br><span class="line">  p.innerHTML = 'è‚¡ç¥¨å½“å‰ä»·æ ¼ï¼š' + data['0000001'].name +': ' + data['0000001'].price + 'ï¼›' + data['1399001'].name + ': ' + data['1399001'].price; </span><br><span class="line">&#125;</span><br><span class="line">// è§¦å‘å‡½æ•°</span><br><span class="line">function getData() &#123;</span><br><span class="line">  var js = document.createElement('script'),</span><br><span class="line">      head = document.getElementsByTagName('head')[0];</span><br><span class="line">  js.src = 'http://api.money.126.net/data/feed/0000001,1399001?callback=refreshPrice';</span><br><span class="line">  head.appendChild(js);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™å°±å®Œæˆäº†è·¨åŸŸåŠ è½½æ•°æ®ã€‚å»ºè®®ä¸»è¦ç”¨äºæµ‹è¯•ï¼Œ<br>è·¨åŸŸä¸€èˆ¬åå°è¿›è¡Œè§£å†³ CORS</p><h3><span id="å‚è€ƒ">å‚è€ƒ</span></h3><p><a href="https://zhuanlan.zhihu.com/p/94197713" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/94197713</a><br><a href="https://www.cnblogs.com/hustskyking/p/hosts-modify.html" target="_blank" rel="noopener">ä¿®æ”¹Hostsä¸ºä½•ä¸ç”Ÿæ•ˆï¼Œæ˜¯DNSç¼“å­˜ï¼Ÿ</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;nginx-åå‘ä»£ç†è§£å†³è·¨åŸŸ-macé…ç½®hosts&quot;&gt;Nginx åå‘ä»£ç†è§£å†³è·¨åŸŸã€Macé…ç½®hosts&lt;/span&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Nginx æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„é«˜æ€§èƒ½Webå’Œåå‘ä»£ç†æœåŠ¡ã€‚åˆ©ç”¨å¥½é…ç½®æ–‡ä»¶ï¼Œå°†ä¼šå¾ˆæ–¹ä¾¿ã€‚&lt;a h
      
    
    </summary>
    
    
    
      <category term="Nginx" scheme="https://cl9000.github.io/tags/Nginx/"/>
    
      <category term="è·¨åŸŸ" scheme="https://cl9000.github.io/tags/%E8%B7%A8%E5%9F%9F/"/>
    
      <category term="åå‘ä»£ç†" scheme="https://cl9000.github.io/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"/>
    
      <category term="hosts" scheme="https://cl9000.github.io/tags/hosts/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Githubï¼ŒjsDelivrï¼ŒTravisCI æ­å»ºè½»é‡ CDN</title>
    <link href="https://cl9000.github.io/2019/04/22/%E5%85%8D%E8%B4%B9-%E5%BF%AB%E9%80%9F-%E5%8F%AF%E9%9D%A0CDN/"/>
    <id>https://cl9000.github.io/2019/04/22/%E5%85%8D%E8%B4%B9-%E5%BF%AB%E9%80%9F-%E5%8F%AF%E9%9D%A0CDN/</id>
    <published>2019-04-22T05:55:58.000Z</published>
    <updated>2020-08-28T08:22:42.603Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="ä½¿ç”¨-githubjsdelivr-travisci-æ­å»ºè½»é‡-cdn">ä½¿ç”¨ Githubï¼ŒjsDelivrï¼Œ TravisCI æ­å»ºè½»é‡ CDN</span></h2><h2><span id="å…è´¹-å¿«é€Ÿ-å¯é -cdn">å…è´¹-å¿«é€Ÿ-å¯é  CDN</span></h2><p>å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆè‹±è¯­ï¼šContent Delivery Networkæˆ–Content Distribution Networkï¼Œç¼©å†™ï¼šCDNï¼‰æ˜¯æŒ‡ä¸€ç§é€è¿‡äº’è”ç½‘äº’ç›¸è¿æ¥çš„ç”µè„‘ç½‘ç»œç³»ç»Ÿï¼Œåˆ©ç”¨æœ€é è¿‘æ¯ä½ç”¨æˆ·çš„æœåŠ¡å™¨ï¼Œæ›´å¿«ã€æ›´å¯é åœ°å°†éŸ³ä¹ã€å›¾ç‰‡ã€å½±ç‰‡ã€åº”ç”¨ç¨‹åºåŠå…¶ä»–æ–‡ä»¶å‘é€ç»™ç”¨æˆ·ï¼Œæ¥æä¾›é«˜æ€§èƒ½ã€å¯æ‰©å±•æ€§åŠä½æˆæœ¬çš„ç½‘ç»œå†…å®¹ä¼ é€’ç»™ç”¨æˆ·ã€‚    <strong>---- [ä¸‡ç»´ç™¾ç§‘]</strong></p><h2><span id="jsdelivr-å®˜ç½‘">jsDelivr å®˜ç½‘</span></h2><p><strong><a href="http://www.jsdelivr.com/" target="_blank" rel="noopener">jsDelivr â€“ Open Source CDN</a></strong></p><!-- ![jsDelivr-index.jpg](https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/jsDelivr-index.jpg) --><p><a href="/2019/04/22/å…è´¹-å¿«é€Ÿ-å¯é CDN/jsDelivr-index.jpg"><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/jsDelivr-index.jpg" width="100%" height="100%" alt="å›¾ç‰‡åç§°" align="center"></a><br><a href="/2019/04/22/å…è´¹-å¿«é€Ÿ-å¯é CDN/jsDelivr-points.jpg"><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/jsDelivr-points.jpg" width="100%" height="100%" alt="å›¾ç‰‡åç§°" align="center"></a></p><h2><span id="ä½¿ç”¨">ä½¿ç”¨</span></h2><h3><span id="1-ä½¿ç”¨æ–¹å¼-å®˜ç½‘é¦–é¡µæœ‰å„ä¸ªå¹³å°çš„å¼•ç”¨èµ„æºæ–¹å¼">1ã€ä½¿ç”¨æ–¹å¼ å®˜ç½‘é¦–é¡µæœ‰å„ä¸ªå¹³å°çš„å¼•ç”¨èµ„æºæ–¹å¼</span></h3><h4><span id="npm">#NPM</span></h4><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/<span class="regexp">/åŠ è½½npmä¸Šæ‰˜ç®¡çš„ä»»ä½•é¡¹ç›®</span></span><br><span class="line"><span class="regexp">https:/</span><span class="regexp">/cdn.jsdelivr.net/npm</span><span class="regexp">/package@version/file</span></span><br><span class="line"></span><br><span class="line">/<span class="regexp">/åŠ è½½jQuery v3.2.1</span></span><br><span class="line"><span class="regexp">https:/</span><span class="regexp">/cdn.jsdelivr.net/npm</span><span class="regexp">/jquery@3.2.1/dist</span><span class="regexp">/jquery.min.js</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ä½¿ç”¨ç‰ˆæœ¬èŒƒå›´è€Œä¸æ˜¯ç‰¹å®šç‰ˆæœ¬</span></span><br><span class="line"><span class="regexp">https:/</span><span class="regexp">/cdn.jsdelivr.net/npm</span><span class="regexp">/jquery@3.2/dist</span><span class="regexp">/jquery.min.js</span></span><br><span class="line"><span class="regexp">https:/</span><span class="regexp">/cdn.jsdelivr.net/npm</span><span class="regexp">/jquery@3/dist</span><span class="regexp">/jquery.min.js</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/å®Œå…¨çœç•¥è¯¥ç‰ˆæœ¬ä»¥è·å–æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/æ‚¨ä¸åº”è¯¥åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨å®ƒ</span></span><br><span class="line"><span class="regexp">https:/</span><span class="regexp">/cdn.jsdelivr.net/npm</span><span class="regexp">/jquery/dist</span><span class="regexp">/jquery.min.js</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/å°†â€œ .minâ€æ·»åŠ åˆ°ä»»ä½•JS /</span> CSSæ–‡ä»¶ä»¥è·å–ç¼©å°ç‰ˆæœ¬</span><br><span class="line">/<span class="regexp">/å¦‚æœä¸å­˜åœ¨ï¼Œæˆ‘ä»¬ä¼šä¸ºæ‚¨ç”Ÿæˆ</span></span><br><span class="line"><span class="regexp">https:/</span><span class="regexp">/cdn.jsdelivr.net/npm</span><span class="regexp">/jquery@3.2.1/src</span><span class="regexp">/core.min.js</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/çœç•¥æ–‡ä»¶è·¯å¾„ä»¥è·å–é»˜è®¤æ–‡ä»¶</span></span><br><span class="line"><span class="regexp">https:/</span><span class="regexp">/cdn.jsdelivr.net/npm</span><span class="regexp">/jquery@3.2</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/åœ¨æœ«å°¾æ·»åŠ /</span>ä»¥è·å–ç›®å½•åˆ—è¡¨</span><br><span class="line"><span class="symbol">https:</span>/<span class="regexp">/cdn.jsdelivr.net/npm</span><span class="regexp">/jquery/</span></span><br></pre></td></tr></table></figure><h4><span id="github">#GitHub</span></h4><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span>åŠ è½½ä»»ä½•GitHubç‰ˆæœ¬ï¼Œæäº¤æˆ–åˆ†æ”¯</span><br><span class="line"><span class="string">//</span>æ³¨æ„ï¼šæˆ‘ä»¬å»ºè®®å¯¹æ”¯æŒnpmçš„é¡¹ç›®ä½¿ç”¨npm</span><br><span class="line">https:<span class="string">//cdn.jsdelivr.net/gh/user/repo</span>@<span class="keyword">version</span>/file</span><br><span class="line"><span class="string">...</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><h4><span id="wordpress">#WordPress</span></h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//ä»WordPress.orgæ’ä»¶SVNå­˜å‚¨åº“ä¸­åŠ è½½ä»»ä½•æ’ä»¶</span><br><span class="line">http<span class="variable">s:</span>//cdn.jsdelivr.net/<span class="keyword">wp</span>/plugins/project/<span class="keyword">tags</span>/<span class="keyword">version</span>/<span class="keyword">file</span></span><br><span class="line"></span><br><span class="line">//åŠ è½½ç¡®åˆ‡çš„ç‰ˆæœ¬</span><br><span class="line">http<span class="variable">s:</span>//cdn.jsdelivr.net/<span class="keyword">wp</span>/plugins/<span class="keyword">wp</span>-slimstat/<span class="keyword">tags</span>/<span class="number">4.6</span>.<span class="number">5</span>/<span class="keyword">wp</span>-slimstat.js</span><br><span class="line"></span><br><span class="line">//åŠ è½½æœ€æ–°ç‰ˆæœ¬</span><br><span class="line">//æ‚¨ä¸åº”è¯¥åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨å®ƒ</span><br><span class="line">http<span class="variable">s:</span>//cdn.jsdelivr.net/<span class="keyword">wp</span>/plugins/<span class="keyword">wp</span>-slimstat/trunk/<span class="keyword">wp</span>-slimstat.js</span><br><span class="line"></span><br><span class="line">//ä»WordPress.orgä¸»é¢˜SVNå­˜å‚¨åº“ä¸­åŠ è½½ä»»ä½•ä¸»é¢˜</span><br><span class="line">http<span class="variable">s:</span>//cdn.jsdelivr.net/<span class="keyword">wp</span>/themes/project/<span class="keyword">version</span>/<span class="keyword">file</span></span><br><span class="line"></span><br><span class="line">//åŠ è½½ç¡®åˆ‡çš„ç‰ˆæœ¬</span><br><span class="line">http<span class="variable">s:</span>//cdn.jsdelivr.net/<span class="keyword">wp</span>/themes/twenty-åå…«teen / <span class="number">1.7</span> / assets / js / html5.js</span><br><span class="line"></span><br><span class="line">//å°†â€œ .<span class="built_in">min</span>â€æ·»åŠ åˆ°ä»»ä½•JS / CSSæ–‡ä»¶ä»¥è·å–ç¼©å°ç‰ˆæœ¬</span><br><span class="line">//å¦‚æœä¸å­˜åœ¨ï¼Œæˆ‘ä»¬ä¼šä¸ºæ‚¨ç”Ÿæˆ</span><br></pre></td></tr></table></figure><p><strong>ä»¥ä¸‹ ä½¿ç”¨<code>github</code>ä½œä¸ºå­˜å‚¨ï¼Œ jsDelivr åš CDN æœåŠ¡å™¨</strong></p><blockquote><p>æ³¨ï¼šjsDeliverèµ„æºé™åˆ¶20Mã€‚</p></blockquote><h3><span id="2-æ–°å»ºgithubä»“åº“ä¸æ˜¯é‡ç‚¹è‡ªå·±æ–°å»º">2ã€æ–°å»ºgitHubä»“åº“ï¼ˆä¸æ˜¯é‡ç‚¹ï¼Œè‡ªå·±æ–°å»ºï¼‰</span></h3><p>â€» æ–°å»ºä»“åº“ï¼Œå¹¶å°†ä»“åº“ clone è‡³æœ¬åœ°ï¼Œä¸Šä¼ ç›¸å…³èµ„æºæ–‡ä»¶ï¼Œå¹¶æäº¤æ¨é€åˆ°ä»“åº“ã€‚<strong>ä¸‹å›¾å·²åœˆé‡ç‚¹â€»</strong>ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/jsDelivr-gitHub0.jpg" alt="jsDelivr-gitHub0.jpg"></p><p>â€» è¿›å…¥ <code>releases</code> è¿›è¡Œæ‰‹åŠ¨æ‰“åŒ…ï¼Œå¦‚ä¸‹å›¾ï¼š<code>tu</code>ï¼›<strong>åé¢è®²ä½¿ç”¨ <strong><a href="https://travis-ci.org/" target="_blank" rel="noopener">TravisCI</a></strong> åšè‡ªåŠ¨æ›´æ–°</strong><br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/jsDelivr-gitHub1.jpg" alt="jsDelivr-gitHub1.jpg"></p><h3><span id="3-å¼•ç”¨æ–¹å¼åœˆåŸŸåé‡ç‚¹">3ã€å¼•ç”¨æ–¹å¼ï¼ˆåœˆåŸŸåé‡ç‚¹ï¼‰</span></h3><p>â€» å¼•ç”¨</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿‡ä¸€ä¼šå°±å¯ä»¥è®¿é—®æµ‹è¯•äº†</span></span><br><span class="line"><span class="meta">## GitHub æ–¹å¼</span></span><br><span class="line"><span class="symbol">https:</span><span class="comment">//cdn.jsdelivr.net/gh/user/repo@version/file</span></span><br><span class="line"><span class="symbol">https:</span><span class="comment">//cdn.jsdelivr.net/gh/githubç”¨æˆ·å/é¡¹ç›®å@ç‰ˆæœ¬å·/...</span></span><br><span class="line">ä¾‹å¦‚</span><br><span class="line"><span class="symbol">https:</span><span class="comment">//cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test@1.0/images/2.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="meta">## NPM æ–¹å¼</span></span><br><span class="line"><span class="symbol">https:</span><span class="comment">//cdn.jsdelivr.net/npm/package@version/file</span></span><br></pre></td></tr></table></figure><p>â€» æ–‡ä»¶æµè§ˆå’Œæµé‡ç»Ÿè®¡<br>jsDelivr æä¾›äº†ä¸€ä¸ªå¯ä»¥çœ‹ CDN æ–‡ä»¶å’Œä½¿ç”¨æµé‡çš„åœ°å€ï¼š<a href="https://cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test</a> ï¼Œå¦‚ä¸‹å›¾ï¼šï¼ˆæ–°åˆ›å»ºçš„è¦ç­‰æ®µæ—¶é—´æ‰ä¼šæœ‰ç»Ÿè®¡ç»“æœï¼‰ã€‚</p><h2><span id="æ¼”ç¤ºdemo">æ¼”ç¤ºDEMO</span></h2><blockquote><p><a href="https://cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test@1.0/" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test@1.0/</a><br><a href="https://cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test@1.0/images/2.jpg" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test@1.0/images/2.jpg</a><br><a href="https://cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test@1.0/js/wenzi.js" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/cl9000/jsDelivr-Test@1.0/js/wenzi.js</a></p></blockquote><h2><span id="jsdelivrå‚è€ƒ">jsDelivrå‚è€ƒ</span></h2><blockquote><p><a href="https://www.jsdelivr.com/package/gh/cl9000/jsDelivr-Test" target="_blank" rel="noopener">cl9000/jsDelivr-Test</a><br><a href="http://www.jsdelivr.com/" target="_blank" rel="noopener">http://www.jsdelivr.com/</a><br><a href="https://yremp.live/jsdeliver/" target="_blank" rel="noopener">https://yremp.live/jsdeliver/</a><br><a href="https://chi.miantiao.me/make-a-cdn-by-github-jsdelivr-travisci/" target="_blank" rel="noopener">https://chi.miantiao.me/make-a-cdn-by-github-jsdelivr-travisci/</a></p></blockquote><h2><span id="æŒç»­é›†æˆ-ci">æŒç»­é›†æˆ CI</span></h2><p><a href="https://github.blog/2017-11-07-github-welcomes-all-ci-tools/" target="_blank" rel="noopener">CI Tools</a><br><a href="https://zhuanlan.zhihu.com/p/59686072" target="_blank" rel="noopener">CI</a><br>CI (Continuous Integrationï¼ŒæŒç»­é›†æˆ)ã€‚<br>CI è½¯ä»¶ç›‘è§†ä»“åº“ï¼Œå¯ä»¥åœ¨å¼€å‘è€…å‘é€æäº¤åç«‹åˆ»æ‰§è¡Œè‡ªåŠ¨æµ‹è¯•ã€æ„å»ºã€éƒ¨ç½²ã€‚é€šè¿‡æŒç»­æ‰§è¡Œè¿™æ ·ä¸€ä¸ªæ“ä½œï¼Œæé«˜æ•ˆç‡ï¼Œç®€åŒ–æ„å»ºéƒ¨ç½²ï¼Œä¸€æ¬¡é…ç½®â€¦ã€‚<br>å¸¸è§çš„CIæœ‰ï¼šã€€Travis CI ã€ Jenkins ã€Circle CI</p><h2><span id="travis-ci">Travis CI</span></h2><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>Travis-CIæ˜¯ä¸€ä¸ªä½¿ç”¨<a href="http://www.ruanyifeng.com/blog/2016/07/yaml.html" target="_blank" rel="noopener">YAML</a>æ ¼å¼é…ç½®ç”¨äºæŒç»­é›†æˆå®Œæˆè‡ªåŠ¨åŒ–æµ‹è¯•æ„å»ºéƒ¨ç½²çš„å¼€æºé¡¹ç›®</p><p>ç›®å‰ Travis-CI åˆ†ï¼š</p><ul><li><a href="http://travis-ci.org/" target="_blank" rel="noopener">http://travis-ci.org/</a> ==  Githubå…¬å¼€é¡¹ç›®        <strong>&lt;æœ¬æ–‡è®²è¿™ä¸ª&gt;</strong></li><li><a href="http://travis-ci.com/" target="_blank" rel="noopener">http://travis-ci.com/</a> ==  Githubç§æœ‰ä»˜è´¹é¡¹ç›®ï¼ˆç§æœ‰åº“ï¼‰<br>å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://docs.travis-ci.com/" target="_blank" rel="noopener">https://docs.travis-ci.com/</a></li></ul><h2><span id="travis-ä½¿ç”¨">Travis ä½¿ç”¨</span></h2><p>Travis æ³¨å†Œç™»å½• <strong><a href="https://travis-ci.org/" target="_blank" rel="noopener">Travis CI å®˜ç½‘ travis-ci.org</a></strong> ï¼Œä½¿ç”¨ GitHub è´¦å·æˆæƒç™»å½•å³å¯ï¼Œç™»å½•ä¹‹åï¼ŒTravis å°±ä¼šå®æ—¶åŒæ­¥ä½  GitHub è´¦å·çš„ä»“åº“ï¼Œç„¶åæ‰“å¼€ä¸ªäººé¡µé¢å¹¶ç»™ä½ æƒ³è¦æ„å»ºçš„é¡¹ç›®å¯ç”¨ Travisï¼ŒTravis ä¼šç›‘å¬è¿™ä¸ªä»“åº“çš„æ‰€æœ‰å˜åŒ–ã€‚å¦‚ä¸‹å›¾ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/TravisCI-0.jpg" alt="TravisCI-0.jpg"></p><h2><span id="travisyml-é…ç½®æ–‡ä»¶">.travis.yml é…ç½®æ–‡ä»¶</span></h2><p>æ–°å»º <code>.travis.yml</code> é…ç½®æ–‡ä»¶æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ã€‚ <code>ï¼ˆMacå¯ä»¥ä½¿ç”¨</code>touch<code>å‘½ä»¤åˆ›å»ºæ­¤æ–‡ä»¶ï¼Œæ˜¾ç¤ºéšè—æ–‡ä»¶å¿«æ·é”®ï¼šcommand+shift+. ï¼‰</code><br>Travis ä¼šæ ¹æ® .travis.yml é‡Œçš„å†…å®¹è¿›è¡Œæ„å»ºï¼Œä¸‹é¢æ˜¯ä¸ªç®€å•çš„ æ„å»ºå¹¶éƒ¨ç½²å‘å¸ƒåˆ° GitHub-releases çš„é…ç½®ã€‚<code>&lt;ä½¿ç”¨ goï¼ˆå¯ä½¿ç”¨å…¶å®ƒè¯­è¨€ï¼‰ï¼Œåªæ˜¯ç¬¦åˆè§„åˆ™ï¼Œå¿…é¡»è®¾ç½®ä¸€é—¨è¯­è¨€&gt;</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">notifications:</span>  <span class="comment"># æ¯æ¬¡æ„å»ºçš„æ—¶å€™æ˜¯å¦é‚®ä»¶é€šçŸ¥</span></span><br><span class="line">  <span class="attr">email:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">language:</span> <span class="string">go</span> <span class="comment"># æŒ‡å®šé¡¹ç›®è¯­è¨€</span></span><br><span class="line"><span class="attr">go:</span> <span class="number">1.10</span><span class="string">.x</span>   <span class="comment"># æŒ‡å®šè¯­è¨€ç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line"><span class="attr">before_install:</span> <span class="string">"echo before_install ==="</span></span><br><span class="line"><span class="attr">install:</span> <span class="literal">true</span> <span class="comment"># è·³è¿‡ install é˜¶æ®µï¼Œå› ä¸ºå·²ç»å®šä¹‰äº† before_install</span></span><br><span class="line"></span><br><span class="line"><span class="attr">before_script:</span> <span class="string">"echo before_script ==="</span></span><br><span class="line"><span class="attr">script:</span> <span class="string">""</span> <span class="comment"># æ‰§è¡Œè„šæœ¬</span></span><br><span class="line"></span><br><span class="line"><span class="attr">before_deploy:</span> <span class="string">"echo ready? - before_deploy ===="</span></span><br><span class="line"><span class="attr">after_deploy:</span> <span class="string">"echo end! - after_deploy ====="</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">provider:</span> <span class="string">releases</span> <span class="comment"># éƒ¨ç½²åˆ° GitHub Releaseï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒTravis CI è¿˜æ”¯æŒå‘å¸ƒåˆ° fir.imã€AWSã€Google App Engine ç­‰</span></span><br><span class="line">  <span class="attr">api_key:</span> <span class="string">$&#123;GH_TOKEN&#125;</span> <span class="comment"># å¡«å†™ GitHub çš„ token ï¼ˆSettings -&gt; Personal access tokens -&gt; Generate new tokenï¼‰</span></span><br><span class="line">  <span class="comment"># api_key:</span></span><br><span class="line">    <span class="comment"># secure: "GuH73nqFGRjOLL8me8/upKFBaro8pDMYogvDhK3McMbCH3A4uW68Sx9BRHMXbF67VU0Zmd4rh2kS6zF2NodiLK9HQHydUD4s4l1vwGQ4Hi67zXH3XSPVhMTx3SKLrO7gDmKha9npd/6g8A0gQL9H+XAsqTvcNCVCAfkqOV58DxEFHEQZFlgQawDTwhi3LFacrN2RfjtSzAx0MNHFW/2FTH8QAdYqTHCw/H8HIYg1PsheMVVKwBXgWPO4fXDAo5r7nJT95FR2NsI8sm2smeVp+aQ3jf32TSOIxNppn4qYh6qT307EmOkO4WKHWOWfH/WEyqx65336v6ltw8hQiQXcKXv/iwp69Zyvjva8Lq1pXRiB38oVSVyRRvTByqEMj2pyXNCBufM106YsfhAuB2V+9JwPvW3JRR+9qi68WzkpDE7BaB6oyTBoj4Plu/qf3aIdR02dxt1E+nLrAB42tWWbCUIqhnhhZ4yArjYa3v6S+u+BREIBLyM1ZBa2MQ7D3UwtRCIYbVfI9aJq2IjWOV9Fo4si7l3/muSbmeCJ5alulLQNMLK6eN/GKTfKhok5ajVb3YuzcAf24VZPDsdFfTQ2SbKfY9uER0rvwi5OV0T+yVbJAeMkk5Pvt58au1m/psiPPlAqNMwHT/bb2OZyNPgV6e7wATLpPfN8r9wS07GFP0s="</span></span><br><span class="line">    <span class="comment"># secure: $&#123;GH_TOKEN&#125; # (Octokit::Unauthorized) ä½¿ç”¨ Travis å¯¹tokenè¿›è¡Œçš„åŠ å¯†</span></span><br><span class="line">  <span class="attr">file:</span> <span class="string">jsDelivr-Test.zip</span> <span class="comment"># éƒ¨ç½²æ–‡ä»¶è·¯å¾„ã€æ–‡ä»¶å</span></span><br><span class="line">  <span class="attr">skip_cleanup:</span> <span class="literal">true</span>  <span class="comment"># è®¾ç½®ä¸º true ä»¥è·³è¿‡æ¸…ç†</span></span><br><span class="line">  <span class="attr">draft:</span> <span class="literal">true</span> <span class="comment"># ä¸å‘è¡¨drafs</span></span><br><span class="line">  <span class="attr">on:</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">cl9000/jsDelivr-Test</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># tags è®¾ç½®ä¸º true è¡¨ç¤ºåªæœ‰åœ¨æœ‰ tag çš„æƒ…å†µä¸‹æ‰éƒ¨ç½²</span></span><br><span class="line"></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">global:</span></span><br><span class="line">    <span class="comment"># å°†å…¶æ·»åŠ åˆ° Travis çš„ç¯å¢ƒå˜é‡ä¸­</span></span><br><span class="line">    <span class="comment"># - GH_URL: github.com:cl9000/jsDelivr-Test.git</span></span><br></pre></td></tr></table></figure><p>å…·ä½“çš„é…ç½®è¯¦æƒ…å¯å‚é˜…å®˜ç½‘æ–‡æ¡£ï¼š</p><h5><span id="travis-å®˜ç½‘æ–‡æ¡£é…ç½®"><strong>Â· <a href="https://docs.travis-ci.com/" target="_blank" rel="noopener">Travis å®˜ç½‘æ–‡æ¡£é…ç½®</a></strong></span></h5><h5><span id="éƒ¨ç½²æ–¹å¼-deployment"><strong>Â· <a href="https://docs.travis-ci.com/user/deployment" target="_blank" rel="noopener">éƒ¨ç½²æ–¹å¼ /deployment</a></strong></span></h5><h5><span id="åŠ å¯†å¯†é’¥-encryption-keys"><strong>Â· <a href="https://docs.travis-ci.com/user/encryption-keys#stq=&amp;stp=0" target="_blank" rel="noopener">åŠ å¯†å¯†é’¥ /Encryption keys</a></strong></span></h5><h5><span id="githubå‘å¸ƒä¸Šä¼ releases-github-releases-uploading"><strong>Â· <a href="https://docs.travis-ci.com/user/deployment/releases/" target="_blank" rel="noopener">GitHubå‘å¸ƒä¸Šä¼ releases /GitHub Releases Uploading</a></strong></span></h5><h5><span id="å®˜æ–¹æ¨¡æ¿-githubå‘å¸ƒä¸Šä¼ releases-github-releases-uploading"><strong>Â· <a href="https://docs.travis-ci.com/user/deployment/releases/" target="_blank" rel="noopener">å®˜æ–¹æ¨¡æ¿ - GitHubå‘å¸ƒä¸Šä¼ releases - GitHub Releases Uploading</a></strong></span></h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">provider:</span> <span class="string">releases</span></span><br><span class="line">  <span class="attr">api_key:</span> <span class="string">"GITHUB OAUTH TOKEN"</span></span><br><span class="line">  <span class="attr">file:</span> <span class="string">"FILE TO UPLOAD"</span></span><br><span class="line">  <span class="attr">skip_cleanup:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">on:</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2><span id="åŠ å¯†æ„å»ºä¸­ä½¿ç”¨åˆ°çš„å¯†ç å’Œtoke">åŠ å¯†æ„å»ºä¸­ä½¿ç”¨åˆ°çš„å¯†ç å’Œtoke</span></h2><p>TODO: å¾…è¡¥å……ã€‚ã€‚ã€‚ã€‚<br>è‡ªåŠ¨åŒ–æ„å»ºä¸­éœ€è¦ç”¨åˆ°å¯†ç å’Œè¯ä¹¦ï¼Œå¿…é¡»ä¿è¯çš„å®‰å…¨æ€§ã€‚ä¸ºæ­¤Travis CIä¸ºæ­¤æä¾›äº†2ç§è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>ä¸€ç§æ˜¯å¯¹æ•æ„Ÿä¿¡æ¯ã€å¯†ç ã€è¯ä¹¦ã€tokenç­‰è¿›è¡Œå¯¹ç§°åŠ å¯†ï¼Œåœ¨CIæ„å»ºç¯å¢ƒæ—¶è§£å¯†ï¼›</li><li>ä¸€ç§æ˜¯å°†å¯†ç ç­‰é€šè¿‡Travis CIçš„æ§åˆ¶å°ï¼ˆå³ç½‘ç«™ï¼‰è®¾ç½®ä¸ºæ„å»ºæ—¶çš„ç¯å¢ƒå˜é‡ï¼›</li></ul><h2><span id="åˆ›å»º-github-personal-access-token">åˆ›å»º Github Personal Access Token</span></h2><p>ä¸‰æ–¹CIï¼Œæ— è®ºæ˜¯å‘å¸ƒåˆ°GitHubï¼Œè¿˜æ˜¯å…¶å®ƒä¸‰æ–¹ä»“åº“ï¼Œéƒ½éœ€è¦éªŒè¯èº«ä»½çš„æˆæƒå¯†é’¥ï¼Œæˆ–è´¦æˆ·å¯†ç ã€‚<a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>é‡Œç”¨çš„å°±æ˜¯<a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line" target="_blank" rel="noopener">Personal access tokens</a>ã€‚<br>é¦–å…ˆå»GitHub æ–°å»ºä¸€ä¸ª <code>Personal access tokens</code>ï¼Œå…·ä½“çš„æƒé™å¯æŒ‰è‡ªå·±çš„éœ€è¦è®¾ç½®ï¼Œæäº¤ä¼šç”Ÿæˆä¸€ä¸ªtokenï¼Œå…ˆä¿å­˜ä¸‹æ¥å¤‡ç”¨ã€‚</p><blockquote><p>ï¼ˆGithub Personal Access Token åˆ›å»ºåé€€å‡ºï¼Œæ— æ³•å†æ¬¡æŸ¥çœ‹ï¼›å¿˜è®°äº†tokenå°±åªæœ‰é‡æ–°ç”Ÿæˆ tokenã€‚ï¼‰</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/TravisCI-GH-Token-0.jpg" alt="TravisCI-GH-Token-0.jpg"></p><p>ç”Ÿæˆäº†Github Personal Access Tokenåå°±å°†å…¶åº”ç”¨åˆ° .travis.ymlä¸­ã€‚</p><h2><span id="travis-åº”ç”¨-github-personal-access-tokençš„ä¸¤ç§æ–¹æ¡ˆ">Travis åº”ç”¨ Github Personal Access Tokençš„ä¸¤ç§æ–¹æ¡ˆ</span></h2><h3><span id="ä¸€-å°†-token-ç›´æ¥è®¾ç½®ä¸ºç¯å¢ƒå˜é‡å‚æ•°">ä¸€ã€å°† Token ç›´æ¥è®¾ç½®ä¸ºç¯å¢ƒå˜é‡å‚æ•°</span></h3><ul><li>è¿›å…¥ Travis å¯¹åº”çš„é¡¹ç›®é¡µé¢ï¼Œç‚¹å‡» <code>More options ä¸­çš„ settings</code> è¿›å…¥é¡¹ç›®çš„è®¾ç½®ç¯å¢ƒï¼›</li><li>åœ¨ <code>Environment Variables</code> æ·»åŠ ç¯å¢ƒå˜é‡ï¼šä¾‹å¦‚ <code>GH_TOKEN</code> å˜é‡åç§°ï¼Œå€¼ä¸ºä¹‹å‰ç”Ÿæˆçš„<code>Personal Access Token</code>ï¼Œå¹¶ç¡®ä¿<code>Display value in build log</code>ä¸º<code>FF</code>çŠ¶æ€ã€‚<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/TravisCI-GH-Token-1.jpg" alt="TravisCI-GH-Token-1.jpg"></li></ul><p>ç„¶ååœ¨.travis.ymlæ–‡ä»¶ä¸­ä½¿ç”¨è¯¥ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éªŒè¯æ–¹å¼ - ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="attr">api_key:</span> <span class="string">$&#123;GH_TOKEN&#125;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯æ–¹å¼ - ä¼šæŠ¥å¼‚å¸¸ å¾…åŠ å¯†éªŒè¯æµ‹è¯•</span></span><br><span class="line"><span class="comment"># api_key:</span></span><br><span class="line"><span class="comment">#     secure: $&#123;GH_TOKEN&#125;</span></span><br></pre></td></tr></table></figure><h3><span id="äºŒ-ä½¿ç”¨-travis-æä¾›çš„åŠ å¯†ç¯å¢ƒå¯¹å…¶è¿›è¡ŒåŠ å¯†">äºŒã€ä½¿ç”¨ Travis æä¾›çš„åŠ å¯†ç¯å¢ƒå¯¹å…¶è¿›è¡ŒåŠ å¯†</span></h3><p><strong><a href="https://docs.travis-ci.com/user/encryption-keys#stq=&amp;stp=0" target="_blank" rel="noopener">å®˜ç½‘ Encryption keys å‚è€ƒé“¾æ¥</a></strong></p><h4><span id="åŠ å¯†ç¯å¢ƒå®‰è£…-ruby-gem">åŠ å¯†ç¯å¢ƒå®‰è£…ã€rubyã€gem</span></h4><ul><li>æŸ¥è¯¢æœ€æ–°çš„Travis CIçš„ç‰ˆæœ¬ï¼š <code>$ gem search travis</code></li><li>å®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼š <code>$ gem install travis</code></li><li>æµ‹è¯•å®‰è£…å®Œæˆï¼š <code>$ travis version</code>ï¼Œé»˜è®¤å³å¯</li><li>æŸ¥çœ‹ç¯å¢ƒï¼š <code>$ travis report --org</code></li></ul><h4><span id="å¼€å§‹åŠ å¯†">å¼€å§‹åŠ å¯†</span></h4><ul><li><p>é¦–æ¬¡è¿è¡Œï¼Œtravisä¼šæç¤ºéœ€è¦ç™»å½•ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹å‘½ä»¤ç™»å½•ï¼š&lt;2é€‰1&gt;</p><ol><li><code>$ travis login --github-token &lt;github-token&gt;</code></li><li><code>travis login</code> è¾“å…¥Githubç”¨æˆ·åå¯†ç è¿›è¡Œç™»å½•ï¼›</li></ol></li><li><p><strong>æ–¹å¼ä¸€ï¼š</strong><br>æœ¬åœ°é¡¹ç›®ç›®å½•æ‰§è¡Œ <code>$ travis encrypt SOMEVAR=&quot;secretvalue&quot;</code> æˆ– <code>$ travis encrypt SOMEVAR=&quot;secretvalue&quot; --add</code> è‡ªåŠ¨æ·»åŠ åˆ°é…ç½®æ–‡ä»¶<br>ç»ˆç«¯å°†è¾“å‡ºä¸€ä¸ªç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹ã€‚å°†å…¶æ”¾ç½®åœ¨ <code>.travis.yml</code> æ–‡ä»¶ä¸­ï¼Œ</p></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">secure:</span> <span class="string">".... encrypted data ...."</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">global:</span></span><br><span class="line">    <span class="attr">secure:</span> <span class="string">".... encrypted data ...."</span></span><br></pre></td></tr></table></figure><p><code>&amp;&amp;-1ï¼š</code> æ‰‹åŠ¨ä½ç½®å®˜ç½‘æœ‰è¯´æ³•ï¼š<code>&lt;env: - global: - secure: &quot;... ...&quot;&gt;</code> <a href="https://docs.travis-ci.com/user/encryption-keys#usage" target="_blank" rel="noopener">å‚é˜… - travis encrypt SOMEVAR=â€œsecretvalueâ€</a></p><ul><li><strong>æ–¹å¼äºŒï¼š</strong><br>&lt;1&gt; æœ¬åœ°é¡¹ç›®ç›®å½•æ‰§è¡Œå‘½ä»¤ï¼š<br>ã®   <code>$ travis encrypt &lt;github-token&gt; -r &lt;owner&gt;/&lt;project&gt;</code><br>æˆ– <code>$ travis encrypt &lt;github-token&gt; -r &lt;owner&gt;/&lt;project&gt; --add</code> Y è‡ªåŠ¨æ·»åŠ åˆ°é…ç½®æ–‡ä»¶<br>æˆ– <code>$ travis encrypt &lt;github-token&gt; --add</code> Y è‡ªåŠ¨æ·»åŠ åˆ°é…ç½®æ–‡ä»¶<br>å…¶ä¸­ <code>-r</code> ç”¨äºæŒ‡å®šä»“åº“ã€‚å¦‚ä¸‹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">api_key:</span></span><br><span class="line">        <span class="attr">secure:</span> <span class="string">".... encrypted data ...."</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">global:</span></span><br><span class="line">    <span class="attr">secure:</span> <span class="string">".... encrypted data ...."</span></span><br></pre></td></tr></table></figure><p>&lt;2&gt; å°†ç¯å¢ƒå˜é‡å‚æ•°ä¸€èµ·åŠ å¯†ï¼š<br>æœ¬åœ°é¡¹ç›®ç›®å½•æ‰§è¡Œå‘½ä»¤ï¼š<br><code>$ travis encrypt GITHUB_TOKEN=&lt;github-token&gt; -r &lt;owner&gt;/&lt;project&gt;</code><br>åŠ å¯†ç¯å¢ƒå˜é‡ï¼š <strong>GITHUB_TOKEN</strong>  ä¸€åŒè¢«åŠ å¯†ï¼ŒTravisè§£å¯†ä¹‹åå¾—åˆ° <code>GITHUB_TOKEN=&lt;ithub-token&gt;</code> ä¸ä»…ä»…æ˜¯ <code>github-token</code><br>å¯¹äºåŠ å¯†ç¯å¢ƒå˜é‡ <code>GITHUB_TOKEN</code> çš„å½¢å¼ï¼Œéœ€è¿™æ ·ä½¿ç”¨ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">api_key:</span></span><br><span class="line">    <span class="attr">secure:</span> <span class="string">$&#123;GITHUB_TOKEN&#125;</span></span><br><span class="line"><span class="comment"># ... ...</span></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">global:</span></span><br><span class="line">    <span class="attr">secure:</span> <span class="string">".... encrypted data ...."</span></span><br></pre></td></tr></table></figure><ul><li><strong>æ–¹å¼ä¸‰ï¼š</strong><br>è¾ƒç›´æ¥ç®€å•çš„æ–¹å¼ï¼Œåœ¨æœ¬åœ°é¡¹ç›®ç›®å½•ç›´æ¥æ‰§è¡Œä¸‹å‘½ä»¤ï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥å³å¯è‡ªåŠ¨ç”Ÿæˆé…ç½®ï¼š<br><code>$ travis setup releases</code></li></ul><blockquote><p>Travis æä¾›äº†å¤šç§åŠ å¯†æ–¹å¼ï¼Œå¯ä»¥æ ¹æ®é¡¹ç›®çš„çº§åˆ«è®¾ç½®ï¼Œå…·ä½“å¯ä»¥å‚é˜…<a href="https://docs.travis-ci.com/" target="_blank" rel="noopener">Travis CI å®˜æ–¹æ–‡æ¡£</a>ï¼›</p></blockquote><p><strong>Travis æä¾›äº†éªŒè¯é…ç½®æ–‡ä»¶çš„è§„åˆ™æ€§ï¼š</strong><br>åœ¨çº¿éªŒè¯ï¼š<a href="http://lint.travis-ci.org/" target="_blank" rel="noopener">http://lint.travis-ci.org/</a><br>æœ¬åœ°éªŒè¯ï¼š<code>$ travis lint .travis.yml</code></p><p><strong>ä¸»è¦çš„é…ç½®æ–‡ä»¶å®Œæˆäº†ï¼Œå…¶å®ƒçš„å°±æ¯”è¾ƒç®€å•äº†</strong></p><h2><span id="éƒ¨ç½²-deployment">éƒ¨ç½² deployment</span></h2><p><a href="https://docs.travis-ci.com/user/deployment#supported-providers" target="_blank" rel="noopener">Travis - deployment</a><br><a href="https://docs.travis-ci.com/user/deployment/releases/" target="_blank" rel="noopener">Travis - GitHub Releases Uploading</a></p><h3><span id="éƒ¨ç½²åˆ°-github-releases">éƒ¨ç½²åˆ° GitHub Releases</span></h3><h3><span id="è¿™åªè¯´æ˜-éƒ¨ç½²åˆ°-github-releaseså‘å¸ƒç‰ˆæœ¬tagæ—¶æ‰å‘å¸ƒreleases">è¿™åªè¯´æ˜ éƒ¨ç½²åˆ° GitHub Releasesï¼Œå‘å¸ƒç‰ˆæœ¬ï¼ŒTagæ—¶æ‰å‘å¸ƒreleases</span></h3><p>é€šå¸¸åªä¼šåœ¨å‘å¸ƒç‰ˆæœ¬æ—¶æ‰å‘å¸ƒ release ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ä¸ªè®¾ç½®å¯ä»¥åªåœ¨Push Tagæ—¶ï¼Œæ‰è§¦å‘deployæµç¨‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ...</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># å‘å¸ƒ  tagç‰ˆ æ—¶æ‰è¿›è¡Œå‘åŒ…   </span></span><br><span class="line">  <span class="attr">draft:</span> <span class="literal">false</span> <span class="comment"># ä¸å‘è¡¨drafs</span></span><br></pre></td></tr></table></figure><h3><span id="å‘å¸ƒæµç¨‹">å‘å¸ƒæµç¨‹</span></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹ä»£ç æ–‡ä»¶</span><br><span class="line">git add . &amp;&amp; git commit -m "first commit" &amp;&amp; git push -u origin master   # æŒ‡å®šåˆ†æ”¯ &lt;masteråˆ†æ”¯&gt;</span><br><span class="line"></span><br><span class="line">git tag v2.0 -m "å¤‡æ³¨ä¿¡æ¯"</span><br><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰“ Tag ä»æŠ¥é”™ï¼šSkipping a deployment with the xxx provider because this is not a tagged commit</span></span><br><span class="line"><span class="string">git</span> <span class="string">push</span> <span class="string">--delete</span> <span class="string">origin</span> <span class="string">v2.0</span></span><br><span class="line"><span class="string">git</span> <span class="string">push</span> <span class="string">origin</span> <span class="string">v2.0</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/TravisCI-deploy-0.jpg" alt="TravisCI-deploy-0.jpg"><br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/TravisCI-deploy-1.jpg" alt="TravisCI-deploy-1.jpg"><br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/TravisCI-deploy-2.jpg" alt="TravisCI-deploy-2.jpg"><br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/TravisaCI-GH-releases-0.jpg" alt="TravisaCI-GH-releases-0.jpg"></p><h2><span id="é—®é¢˜å‚é˜…">é—®é¢˜å‚é˜…</span></h2><ol><li><p><a href="https://travis-ci.community/t/skipping-a-deployment-with-the-xxx-provider-because-this-is-not-a-tagged-commit/1714" target="_blank" rel="noopener">Skipping a deployment with the xxx provider because this is not a tagged commit - è§£å†³æ–¹æ¡ˆ</a></p></li><li><p>é¢„åè®¾ç½®tagName <a href="https://docs.travis-ci.com/user/deployment/releases/#deploying-only-on-tagged-builds" target="_blank" rel="noopener">https://docs.travis-ci.com/user/deployment/releases/#deploying-only-on-tagged-builds</a></p></li><li><p>(Octokit::Unauthorized) ä½¿ç”¨ Travis å¯¹tokenè¿›è¡Œçš„åŠ å¯†æ–¹å¼æœ‰è¯¯</p></li></ol><h2><span id="è¡¥å……">è¡¥å……</span></h2><p><strong>git tag å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰tag</span></span><br><span class="line">$ git <span class="keyword">tag</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit</span></span><br><span class="line">$ git <span class="keyword">tag</span> <span class="title">[tag</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit</span></span><br><span class="line">$ git <span class="keyword">tag</span> <span class="title">[tag</span>] [commit]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æœ¬åœ°tag</span></span><br><span class="line">$ git <span class="keyword">tag</span> <span class="title">-d</span> [<span class="keyword">tag</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤è¿œç¨‹tag</span></span><br><span class="line">$ git push origin :refs/tags/[tagName]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹tagä¿¡æ¯</span></span><br><span class="line">$ git show [<span class="keyword">tag</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æäº¤æŒ‡å®štag</span></span><br><span class="line">$ git push [remote] [<span class="keyword">tag</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æäº¤æ‰€æœ‰tag</span></span><br><span class="line">$ git push [remote] --tags</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag</span></span><br><span class="line">$ git checkout -b [branch] [<span class="keyword">tag</span>]</span><br></pre></td></tr></table></figure><h2><span id="travisci-å‚è€ƒ">TravisCI å‚è€ƒ</span></h2><h6><span id="travis-ci-å®˜ç½‘-travis-ciorg"><strong>Â· <a href="https://travis-ci.org/" target="_blank" rel="noopener">Travis CI å®˜ç½‘ travis-ci.org</a></strong></span></h6><h6><span id="travis-å®˜ç½‘æ–‡æ¡£"><strong>Â· <a href="https://docs.travis-ci.com/" target="_blank" rel="noopener">Travis å®˜ç½‘æ–‡æ¡£</a></strong></span></h6><h6><span id="éƒ¨ç½²æ–¹å¼-deployment"><strong>Â· <a href="https://docs.travis-ci.com/user/deployment" target="_blank" rel="noopener">éƒ¨ç½²æ–¹å¼ /deployment</a></strong></span></h6><h6><span id="åŠ å¯†å¯†é’¥-encryption-keys"><strong>Â· <a href="https://docs.travis-ci.com/user/encryption-keys#stq=&amp;stp=0" target="_blank" rel="noopener">åŠ å¯†å¯†é’¥ /Encryption keys</a></strong></span></h6><h6><span id="githubå‘å¸ƒä¸Šä¼ releases-github-releases-uploading"><strong>Â· <a href="https://docs.travis-ci.com/user/deployment/releases/" target="_blank" rel="noopener">GitHubå‘å¸ƒä¸Šä¼ releases /GitHub Releases Uploading</a></strong></span></h6><blockquote></blockquote><p><a href="https://github.com/nukc/how-to-use-travis-ci" target="_blank" rel="noopener">å¦‚ä½•ç®€å•å…¥é—¨ä½¿ç”¨Travis-CIæŒç»­é›†æˆ</a><br><a href="https://www.jianshu.com/p/7517255bc056" target="_blank" rel="noopener">ä½¿ç”¨Travis-CIæ„å»ºAndroidé¡¹ç›®å¹¶è‡ªåŠ¨æ‰“åŒ…éƒ¨ç½²åˆ°GitHub-Release</a><br><a href="https://www.cnblogs.com/morang/p/7228488.html" target="_blank" rel="noopener">ä½¿ç”¨travis-ciè‡ªåŠ¨éƒ¨ç½²githubä¸Šçš„é¡¹ç›®</a><br><a href="https://my.oschina.net/ahaoboy/blog/3175492" target="_blank" rel="noopener">github é…ç½® travis è‡ªåŠ¨å‘å¸ƒ release</a><br><a href="https://www.jianshu.com/p/807f8c989679" target="_blank" rel="noopener">ä½¿ç”¨travisè‡ªåŠ¨ä¸Šä¼ github releases</a><br><a href="https://chi.miantiao.me/make-a-cdn-by-github-jsdelivr-travisci/" target="_blank" rel="noopener">ä½¿ç”¨ Githubï¼ŒjsDelivrï¼Œ TravisCI æ­å»ºä¸€ä¸ªè½»é‡é è°±çš„ CDN</a><br><a href="https://www.jianshu.com/p/5f96c27baaa5" target="_blank" rel="noopener">ä»Traviså›GitHub</a><br><a href="https://www.jianshu.com/p/951ce2fb255d" target="_blank" rel="noopener">Githubä¸Travis CIæµ‹è¯•ä¸éƒ¨ç½²</a><br><a href="https://www.jianshu.com/p/3025c3814961" target="_blank" rel="noopener">Travis-CIæŒç»­æ„å»ºç”Ÿäº§å®è·µ</a><br><a href="https://qinyuanpei.github.io/posts/1113828794/" target="_blank" rel="noopener">åŸºäºTravis CIå®ç° Hexo åœ¨ Github å’Œ Coding çš„åŒæ­¥éƒ¨ç½²</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;ä½¿ç”¨-githubjsdelivr-travisci-æ­å»ºè½»é‡-cdn&quot;&gt;ä½¿ç”¨ Githubï¼ŒjsDelivrï¼Œ TravisCI æ­å»ºè½»é‡ CDN&lt;/span&gt;&lt;/h2&gt;
&lt;h2&gt;&lt;span id=&quot;å…è´¹-å¿«é€Ÿ-å¯é -cdn&quot;&gt;å…è´¹-å¿«é€Ÿ-å¯é  CD
      
    
    </summary>
    
    
    
      <category term="npm" scheme="https://cl9000.github.io/tags/npm/"/>
    
      <category term="GitHub" scheme="https://cl9000.github.io/tags/GitHub/"/>
    
      <category term="jsDelivr" scheme="https://cl9000.github.io/tags/jsDelivr/"/>
    
      <category term="CDN" scheme="https://cl9000.github.io/tags/CDN/"/>
    
      <category term="å…è´¹CDN" scheme="https://cl9000.github.io/tags/%E5%85%8D%E8%B4%B9CDN/"/>
    
  </entry>
  
  <entry>
    <title>ã€HBuilderXã€‘uniapp-cliæ›´æ–°/è¯­æ³•æç¤ºåº“</title>
    <link href="https://cl9000.github.io/2019/03/09/HBuilderX-uniapp-cli%E6%9B%B4%E6%96%B0-%E8%AF%AD%E6%B3%95%E6%8F%90%E7%A4%BA%E5%BA%93/"/>
    <id>https://cl9000.github.io/2019/03/09/HBuilderX-uniapp-cli%E6%9B%B4%E6%96%B0-%E8%AF%AD%E6%B3%95%E6%8F%90%E7%A4%BA%E5%BA%93/</id>
    <published>2019-03-09T08:51:55.000Z</published>
    <updated>2020-09-09T09:03:51.780Z</updated>
    
    <content type="html"><![CDATA[<blockquote style="border-left: 4px solid #3F51B5;padding: 16px 20px;color: black;font-weight:300;border-radius: 0 2px 2px 0;">    é‚£äº›ç–¯ç‹‚åˆ°è®¤ä¸ºè‡ªå·±èƒ½å¤Ÿæ”¹å˜ä¸–ç•Œçš„äººï¼Œæ‰èƒ½çœŸæ­£æ”¹å˜ä¸–ç•Œã€‚â€”â€”<strong>å²è’‚å¤«Â·ä¹”å¸ƒæ–¯</strong><br></blockquote><br><h3><span id="ç¼˜ç”±">ç¼˜ç”±ï¼š</span></h3><p>&lt;è¯­æ³•æç¤ºåº“&gt;ã€&lt;uniapp-cliä¾èµ–åŒ…node_moduleså…¨æ›´æ–°&gt;ã€&lt;Browserslistï¼šcaniuse-lite is outdated&gt;</p><h3><span id="hbuilderx-æ›´æ–°è„šæ‰‹æ¶uniapp-cliä¾èµ–åŒ…node_modules">HBuilderX æ›´æ–°è„šæ‰‹æ¶(uniapp-cli)ä¾èµ–åŒ…node_modules</span></h3><p>ç›®å½•è·¯å¾„ <code>HBuilderX\plugins\uniapp-cli\</code></p><p>è¿›å…¥uniapp-cliç›®å½•ä¸‹ï¼Œåˆ é™¤<code>node_modules</code>å’Œ<code>package-lock.json</code>æ–‡ä»¶ï¼Œæ‰§è¡Œå‘½ä»¤<code>$ npm install</code></p><p>æ›¿æ¢æ—§ç‰ˆæœ¬è½¯ä»¶è·¯å¾„ä¸‹çš„æ–‡ä»¶(å»ºè®®åˆ é™¤åŸnode_modulesæ–‡ä»¶å¤¹)ï¼š</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HBuilderX<span class="symbol">\p</span>lugins<span class="symbol">\u</span>niapp-cli<span class="symbol">\n</span>ode_modules</span><br><span class="line">HBuilderX<span class="symbol">\p</span>lugins<span class="symbol">\u</span>niapp-cli<span class="symbol">\p</span>ackage.json</span><br><span class="line">HBuilderX<span class="symbol">\p</span>lugins<span class="symbol">\u</span>niapp-cli<span class="symbol">\p</span>ackage-lock.json</span><br></pre></td></tr></table></figure><p>åˆ·æ–°ï¼Œé€€å‡ºé‡æ–°å¯åŠ¨ç”Ÿæ•ˆã€‚</p><h3><span id="hbuilderxè¯­æ³•æç¤ºåº“">HBuilderXè¯­æ³•æç¤ºåº“</span></h3><p>ç›®å½•è·¯å¾„ <code>HBuilderX\plugins\</code><br>å¤–ç½‘HXè‡ªåŠ¨ä¸‹è½½è¯­æ³•æç¤ºåº“ï¼Œä¸‹è½½å®Œæˆåï¼Œè¿›å…¥è·¯å¾„<code>HBuilderX\plugins\</code>ï¼Œæ‹·è´ <code>ls å’Œ jre</code>æ–‡ä»¶å¤¹å¤‡ç”¨</p><p>è¿›å…¥æ—§ç‰ˆæœ¬è½¯ä»¶è·¯å¾„ <code>HBuilderX\plugins\</code>ï¼Œç²˜è´´ <code>ls å’Œ jre</code>æ–‡ä»¶å¤¹ï¼Œåˆ·æ–°é‡å¯å³å¯ã€‚<br>å¦è¿˜æœ‰ä¸ª <code>nodeserver</code>æ–‡ä»¶å¤¹ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ä¸Šè¿°æ–¹æ³•åŒæ—¶æ‹·è´è‡³ç›®å½•</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote style=&quot;border-left: 4px solid #3F51B5;padding: 16px 20px;color: black;font-weight:300;border-radius: 0 2px 2px 0;&quot;&gt;
    é‚£äº›ç–¯ç‹‚åˆ°è®¤ä¸ºè‡ª
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="https://cl9000.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="HBuilderX" scheme="https://cl9000.github.io/tags/HBuilderX/"/>
    
      <category term="uniapp-cli" scheme="https://cl9000.github.io/tags/uniapp-cli/"/>
    
      <category term="è„šæ‰‹æ¶" scheme="https://cl9000.github.io/tags/%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
    
      <category term="ä¾èµ–åŒ…" scheme="https://cl9000.github.io/tags/%E4%BE%9D%E8%B5%96%E5%8C%85/"/>
    
      <category term="npm" scheme="https://cl9000.github.io/tags/npm/"/>
    
      <category term="node_modules" scheme="https://cl9000.github.io/tags/node-modules/"/>
    
      <category term="è¯­æ³•æç¤ºåº“" scheme="https://cl9000.github.io/tags/%E8%AF%AD%E6%B3%95%E6%8F%90%E7%A4%BA%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>mysqlé”™è¯¯ ER_TRUNCATED_WRONG_VALUE_FOR_FIELD</title>
    <link href="https://cl9000.github.io/2018/11/03/mysql%E9%94%99%E8%AF%AFER-TRUNCATED-WRONG-VALUE-FOR-FIELD/"/>
    <id>https://cl9000.github.io/2018/11/03/mysql%E9%94%99%E8%AF%AFER-TRUNCATED-WRONG-VALUE-FOR-FIELD/</id>
    <published>2018-11-03T10:12:59.000Z</published>
    <updated>2020-11-03T10:16:03.198Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="er_truncated_wrong_value_for_field-incorrect-string-value">ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value</span></h2><p>Macç³»ç»Ÿä¸‹<code>mysql</code>æŠ¥é”™ï¼š<code>ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value</code></p><p>è¿™ç§åŸå› æ˜¯<code>mysql</code>å­—ç¬¦é›†ç¼–ç å¯¼è‡´ã€‚</p><ol><li>æŸ¥çœ‹ mysql å­—ç¬¦é›†ç¼–ç <br>è¿›å…¥<code>mysql</code>ï¼Œç»ˆç«¯æ‰§è¡Œ<br><code>$ mysql -u root -p</code><br>ç™»å½•æˆåŠŸååœ¨<code>mysql</code>ä¸­æ‰§è¡Œ<br><code>$ show variables like '%character%';</code></li></ol><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like <span class="emphasis">'%character%'</span>;</span><br><span class="line"><span class="code">+--------------------------+</span>----------------------------------+</span><br><span class="line">| Variable<span class="emphasis">_name            | Value                            |</span></span><br><span class="line"><span class="emphasis">+--------------------------+----------------------------------+</span></span><br><span class="line"><span class="emphasis">| character_</span>set<span class="emphasis">_client     | utf8                             |</span></span><br><span class="line"><span class="emphasis">| character_</span>set<span class="emphasis">_connection | utf8                             |</span></span><br><span class="line"><span class="emphasis">| character_</span>set<span class="emphasis">_database   | latin1                           |</span></span><br><span class="line"><span class="emphasis">| character_</span>set<span class="emphasis">_filesystem | binary                           |</span></span><br><span class="line"><span class="emphasis">| character_</span>set<span class="emphasis">_results    | utf8                             |</span></span><br><span class="line"><span class="emphasis">| character_</span>set<span class="emphasis">_server     | latin1                           |</span></span><br><span class="line"><span class="emphasis">| character_</span>set<span class="emphasis">_system     | utf8                             |</span></span><br><span class="line"><span class="emphasis">| character_</span>sets<span class="emphasis">_dir       | /usr/local/mysql/share/charsets/ |</span></span><br><span class="line"><span class="emphasis">+--------------------------+----------------------------------+</span></span><br><span class="line"><span class="emphasis">8 rows in set (0.00 sec)</span></span><br></pre></td></tr></table></figure><p>é”™è¯¯å°±æ˜¯è¿™ä¸ª<code>character_set_server |latin1</code>å¯¼è‡´çš„ï¼Œä¸‹é¢è¿›è¡Œä¿®æ”¹ã€‚</p><ol start="2"><li>ä¿®æ”¹é…ç½® my.cnf<br>è¿›å…¥è·¯å¾„ï¼š<br><code>$ cd /usr/local/mysql/support-files/</code><br>æˆ–å¿«æ·é”® <code>command + shift + g</code> å¿«é€Ÿè¿›å…¥ç›®å½•<br>æŸ¥çœ‹æ˜¯å¦å­˜åœ¨æ–‡ä»¶<code>my.cnf</code></li></ol><ul><li><strong>å­˜åœ¨ my.cnf</strong><br>ä¿®æ”¹å†…å®¹ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set = utf8</span><br><span class="line">...</span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server = utf8</span><br><span class="line">collation-server = utf8_general_ci</span><br><span class="line">init_connect = &apos;SET NAMES utf8&apos;</span><br></pre></td></tr></table></figure><p>ä¿å­˜åï¼Œé‡å¯ mysql ç”Ÿæ•ˆ</p><ul><li><strong>ä¸å­˜åœ¨ my.cnf</strong></li></ul><ol><li><p>ç»ˆç«¯å‘½ä»¤ç›´æ¥åˆ›å»ºï¼š<br><code>$ cd /etc &amp;&amp; sudo vim my.cnf</code> é”®ç›˜é”®å…¥ <code>i</code>åï¼Œ<code>insert</code>ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œå¤åˆ¶ç²˜è´´æœ¬æ–‡æœ«é…ç½®è„šæœ¬ï¼ˆ<strong>ä¿®æ”¹é¡¹å¦‚ä¸Š</strong>ï¼‰ï¼Œé”®ç›˜é¡ºåºé”®å…¥  <code>esc</code>é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œè‹±æ–‡<code>:wq!</code>ï¼Œå¼ºåˆ¶ä¿å­˜é€€å‡ºã€‚é‡å¯mysql</p></li><li><p>å¿«æ·é”® <code>command + shift + g</code> å¿«é€Ÿè¿›å…¥ç›®å½•  <code>/etc</code> ï¼Œæ‰‹åŠ¨åˆ›å»º<code>my.cnf</code>æ–‡ä»¶ï¼Œä¿®æ”¹å†…å®¹ä¿å­˜é€€å‡ºï¼Œé‡å¯mysqlã€‚</p></li><li><p>ä¿®æ”¹åéªŒè¯å­—ç¬¦é›†ç¼–ç <br>è¿›å…¥<code>mysql</code> æ‰§è¡Œ <code>$ show variables like '%character%';</code></p></li></ol><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">+--------------------------+----------------------------------+</span><br><span class="line">|<span class="string"> Variable_name            </span>|<span class="string"> Value                            </span>|</span><br><span class="line">+--------------------------+----------------------------------+</span><br><span class="line">|<span class="string"> character_set_client     </span>|<span class="string"> utf8                             </span>|</span><br><span class="line">|<span class="string"> character_set_connection </span>|<span class="string"> utf8                             </span>|</span><br><span class="line">|<span class="string"> character_set_database   </span>|<span class="string"> utf8                             </span>|</span><br><span class="line">|<span class="string"> character_set_filesystem </span>|<span class="string"> binary                           </span>|</span><br><span class="line">|<span class="string"> character_set_results    </span>|<span class="string"> utf8                             </span>|</span><br><span class="line">|<span class="string"> character_set_server     </span>|<span class="string"> utf8                             </span>|</span><br><span class="line">|<span class="string"> character_set_system     </span>|<span class="string"> utf8                             </span>|</span><br><span class="line">|<span class="string"> character_sets_dir       </span>|<span class="string"> /usr/local/mysql/share/charsets/ </span>|</span><br><span class="line">+--------------------------+----------------------------------+</span><br><span class="line">8 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure><p>éªŒè¯ç”Ÿæ•ˆã€‚</p><ol start="4"><li>æœªç”Ÿæ•ˆæŸ¥çœ‹æ­¤å¤„<br><strong>æœªç”Ÿæ•ˆåŸå› ï¼š</strong><br>åœ¨ mysql ä¸­ï¼Œæ˜¯å…è®¸å­˜åœ¨å¤šä¸ª my.cnf é…ç½®æ–‡ä»¶çš„ï¼Œæœ‰çš„èƒ½å¯¹æ•´ä¸ªç³»ç»Ÿç¯å¢ƒäº§ç”Ÿå½±å“ï¼Œä¾‹å¦‚ï¼š/etc/my.cnfã€‚æœ‰çš„åˆ™åªèƒ½å½±å“ä¸ªåˆ«ç”¨æˆ·ï¼Œä¾‹å¦‚ï¼š~/.my.cnfã€‚<br>mysql è¯»å–å„ä¸ª my.cnf é…ç½®æ–‡ä»¶çš„å…ˆåé¡ºåºæ˜¯ï¼š</li></ol><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/etc/<span class="keyword">my</span>.cnf</span><br><span class="line">/etc/mysql/<span class="keyword">my</span>.cnf</span><br><span class="line">/usr/<span class="keyword">local</span>/mysql/etc/<span class="keyword">my</span>.cnf</span><br><span class="line">~/.<span class="keyword">my</span>.cnf</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br>ä¸ºäº†ç®€å•ï¼Œä¾¿äºæŸ¥æ‰¾ï¼Œå°† etc ç›®å½•ä¸‹çš„ <code>my.cnf</code> æ–‡ä»¶å¤åˆ¶è‡³è·¯å¾„ <code>/usr/local/mysql/etc/my.cnf</code> ä¸‹ï¼Œå¹¶å°†åŸectç›®å½•ä¸‹my.cnfæ–‡ä»¶åˆ é™¤ï¼Œå³å¯ã€‚å…¶å®ƒè·¯å¾„ä¹Ÿå¯ä»¥ï¼Œæ³¨æ„é¡ºåº</p><h4><span id="navicat-ä¸­æ–‡ä¹±ç æˆ–-è§£å†³æ–¹æ¡ˆ">Navicat ä¸­æ–‡ä¹±ç æˆ– ï¼Ÿï¼Ÿï¼Ÿè§£å†³æ–¹æ¡ˆ</span></h4><p>æ•°æ®åº“å³é”® â€“ ç¼–è¾‘è¿æ¥ â€“ å¸¸è§„ â€“ ç¼–ç  â€“ è®¾ç½®ä¸ºâ€˜è‡ªåŠ¨â€™</p><h3><span id="mycnf-å‚æ•°é…ç½®ä¿®æ”¹å">my.cnf å‚æ•°é…ç½®ï¼ˆä¿®æ”¹åï¼‰</span></h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Example MySQL config file for medium systems.</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># This is for a system with little memory (32M - 64M) where MySQL plays</span></span><br><span class="line"><span class="meta"># an important part, or systems up to 128M where MySQL is used together with</span></span><br><span class="line"><span class="meta"># other programs (such as a web server)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># MySQL programs look for option files in a set of</span></span><br><span class="line"><span class="meta"># locations which depend on the deployment platform.</span></span><br><span class="line"><span class="meta"># You can copy this option file to one of those</span></span><br><span class="line"><span class="meta"># locations. For information about these locations, see:</span></span><br><span class="line"><span class="meta"># http://dev.mysql.com/doc/mysql/en/option-files.html</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># In this file, you can use all long options that a program supports.</span></span><br><span class="line"><span class="meta"># If you want to know which options a program supports, run the program</span></span><br><span class="line"><span class="meta"># with the "--help" option.</span></span><br><span class="line"><span class="meta"># The following options will be passed to all MySQL clients</span></span><br><span class="line">[client]</span><br><span class="line"><span class="keyword">default</span>-character-<span class="keyword">set</span> = utf8</span><br><span class="line"><span class="meta">#password = your_password</span></span><br><span class="line">port = <span class="number">3306</span></span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line"><span class="meta"># Here follows entries for some specific programs</span></span><br><span class="line"><span class="meta"># The MySQL server</span></span><br><span class="line">[mysqld]</span><br><span class="line">collation-server = utf8_general_ci</span><br><span class="line">character-<span class="keyword">set</span>-server = utf8</span><br><span class="line">init_connect = <span class="string">'SET NAMES utf8'</span></span><br><span class="line">port = <span class="number">3306</span></span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line">skip-external-locking</span><br><span class="line">key_buffer_size = <span class="number">16</span>M</span><br><span class="line">max_allowed_packet = <span class="number">1</span>M</span><br><span class="line">table_open_cache = <span class="number">64</span></span><br><span class="line">sort_buffer_size = <span class="number">512</span>K</span><br><span class="line">net_buffer_length = <span class="number">8</span>K</span><br><span class="line">read_buffer_size = <span class="number">256</span>K</span><br><span class="line">read_rnd_buffer_size = <span class="number">512</span>K</span><br><span class="line">myisam_sort_buffer_size = <span class="number">8</span>M</span><br><span class="line"><span class="meta"># Don't listen on a TCP/IP port at all. This can be a security enhancement,</span></span><br><span class="line"><span class="meta"># if all processes that need to connect to mysqld run on the same host.</span></span><br><span class="line"><span class="meta"># All interaction with mysqld must be made via Unix sockets or named pipes.</span></span><br><span class="line"><span class="meta"># Note that using this option without enabling named pipes on Windows</span></span><br><span class="line"><span class="meta"># (via the "enable-named-pipe" option) will render mysqld useless!</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#skip-networking</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># Replication Master Server (default)</span></span><br><span class="line"><span class="meta"># binary logging is required for replication</span></span><br><span class="line">log-bin=mysql-bin</span><br><span class="line"></span><br><span class="line"><span class="meta"># binary logging format - mixed recommended</span></span><br><span class="line">binlog_format=mixed</span><br><span class="line"></span><br><span class="line"><span class="meta"># required unique id between 1 and 2^32 - 1</span></span><br><span class="line"><span class="meta"># defaults to 1 if master-host is not set</span></span><br><span class="line"><span class="meta"># but will not function as a master if omitted</span></span><br><span class="line">server-id = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># Replication Slave (comment out master section to use this)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># To configure this host as a replication slave, you can choose between</span></span><br><span class="line"><span class="meta"># two methods :</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># 1) Use the CHANGE MASTER TO command (fully described in our manual) -</span></span><br><span class="line"><span class="meta"># the syntax is:</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># CHANGE MASTER TO MASTER_HOST=&lt;host&gt;, MASTER_PORT=&lt;port&gt;,</span></span><br><span class="line"><span class="meta"># MASTER_USER=&lt;user&gt;, MASTER_PASSWORD=&lt;password&gt; ;</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># where you replace &lt;host&gt;, &lt;user&gt;, &lt;password&gt; by quoted strings and</span></span><br><span class="line"><span class="meta"># &lt;port&gt; by the master's port number (3306 by default).</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># Example:</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># CHANGE MASTER TO MASTER_HOST='125.564.12.1', MASTER_PORT=3306,</span></span><br><span class="line"><span class="meta"># MASTER_USER='joe', MASTER_PASSWORD='secret';</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># OR</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># 2) Set the variables below. However, in case you choose this method, then</span></span><br><span class="line"><span class="meta"># start replication for the first time (even unsuccessfully, for example</span></span><br><span class="line"><span class="meta"># if you mistyped the password in master-password and the slave fails to</span></span><br><span class="line"><span class="meta"># connect), the slave will create a master.info file, and any later</span></span><br><span class="line"><span class="meta"># change in this file to the variables' values below will be ignored and</span></span><br><span class="line"><span class="meta"># overridden by the content of the master.info file, unless you shutdown</span></span><br><span class="line"><span class="meta"># the slave server, delete master.info and restart the slaver server.</span></span><br><span class="line"><span class="meta"># For that reason, you may want to leave the lines below untouched</span></span><br><span class="line"><span class="meta"># (commented) and instead use CHANGE MASTER TO (see above)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># required unique id between 2 and 2^32 - 1</span></span><br><span class="line"><span class="meta"># (and different from the master)</span></span><br><span class="line"><span class="meta"># defaults to 2 if master-host is set</span></span><br><span class="line"><span class="meta"># but will not function as a slave if omitted</span></span><br><span class="line"><span class="meta">#server-id = 2</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># The replication master for this slave - required</span></span><br><span class="line"><span class="meta">#master-host = &lt;hostname&gt;</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># The username the slave will use for authentication when connecting</span></span><br><span class="line"><span class="meta"># to the master - required</span></span><br><span class="line"><span class="meta">#master-user = &lt;username&gt;</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># The password the slave will authenticate with when connecting to</span></span><br><span class="line"><span class="meta"># the master - required</span></span><br><span class="line"><span class="meta">#master-password = &lt;password&gt;</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># The port the master is listening on.</span></span><br><span class="line"><span class="meta"># optional - defaults to 3306</span></span><br><span class="line"><span class="meta">#master-port = &lt;port&gt;</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># binary logging - not required for slaves, but recommended</span></span><br><span class="line"><span class="meta">#log-bin=mysql-bin</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># Uncomment the following if you are using InnoDB tables</span></span><br><span class="line"><span class="meta">#innodb_data_home_dir = /usr/local/mysql/data</span></span><br><span class="line"><span class="meta">#innodb_data_file_path = ibdata1:10M:autoextend</span></span><br><span class="line"><span class="meta">#innodb_log_group_home_dir = /usr/local/mysql/data</span></span><br><span class="line"><span class="meta"># You can set .._buffer_pool_size up to 50 - 80 %</span></span><br><span class="line"><span class="meta"># of RAM but beware of setting memory usage too high</span></span><br><span class="line"><span class="meta">#innodb_buffer_pool_size = 16M</span></span><br><span class="line"><span class="meta">#innodb_additional_mem_pool_size = 2M</span></span><br><span class="line"><span class="meta"># Set .._log_file_size to 25 % of buffer pool size</span></span><br><span class="line"><span class="meta">#innodb_log_file_size = 5M</span></span><br><span class="line"><span class="meta">#innodb_log_buffer_size = 8M</span></span><br><span class="line"><span class="meta">#innodb_flush_log_at_trx_commit = 1</span></span><br><span class="line"><span class="meta">#innodb_lock_wait_timeout = 50</span></span><br><span class="line"></span><br><span class="line">[mysqldump]</span><br><span class="line">quick</span><br><span class="line">max_allowed_packet = <span class="number">16</span>M</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">no-auto-rehash</span><br><span class="line"><span class="meta"># Remove the next comment character if you are not familiar with SQL</span></span><br><span class="line"><span class="meta">#safe-updates</span></span><br><span class="line"></span><br><span class="line">[myisamchk]</span><br><span class="line">key_buffer_size = <span class="number">20</span>M</span><br><span class="line">sort_buffer_size = <span class="number">20</span>M</span><br><span class="line">read_buffer = <span class="number">2</span>M</span><br><span class="line">write_buffer = <span class="number">2</span>M</span><br><span class="line"></span><br><span class="line">[mysqlhotcopy]</span><br><span class="line">interactive-timeout</span><br></pre></td></tr></table></figure><h3><span id="ref">ref</span></h3><p><a href="https://www.cnblogs.com/langdashu/p/5889352.html" target="_blank" rel="noopener">å‚æ•°é¡¹è¯´æ˜å‚è€ƒ</a><br><a href="https://blog.csdn.net/xingxingchance/article/details/77366383" target="_blank" rel="noopener"> ER_TRUNCATED_WRONG_VALUE_FOR_FIELD</a><br><a href="https://maomin.blog.csdn.net/article/details/90476710" target="_blank" rel="noopener"> ER_TRUNCATED_WRONG_VALUE_FOR_FIELD</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;er_truncated_wrong_value_for_field-incorrect-string-value&quot;&gt;ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value&lt;/span&gt;&lt;/
      
    
    </summary>
    
    
    
      <category term="mysql" scheme="https://cl9000.github.io/tags/mysql/"/>
    
      <category term="my.cnf" scheme="https://cl9000.github.io/tags/my-cnf/"/>
    
  </entry>
  
  <entry>
    <title>RegEx-æ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="https://cl9000.github.io/2018/08/28/RegEx-Test/"/>
    <id>https://cl9000.github.io/2018/08/28/RegEx-Test/</id>
    <published>2018-08-28T07:24:07.000Z</published>
    <updated>2020-08-28T08:35:08.743Z</updated>
    
    <content type="html"><![CDATA[<br><blockquote style="border-left: 4px solid #3F51B5;padding: 16px 20px;color: black;font-weight:300;border-radius: 0 2px 2px 0;">    é‚£äº›ç–¯ç‹‚åˆ°è®¤ä¸ºè‡ªå·±èƒ½å¤Ÿæ”¹å˜ä¸–ç•Œçš„äººï¼Œæ‰èƒ½çœŸæ­£æ”¹å˜ä¸–ç•Œã€‚â€”â€”<strong>å²è’‚å¤«Â·ä¹”å¸ƒæ–¯</strong></blockquote><br><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/RegEx-Test00.png" alt="RegEx-Test.png"></p><p>æ­£åˆ™è¡¨è¾¾å¼åœ¨æˆ‘ä»¬çš„ç¼–ç è¿‡ç¨‹ä¸­ç»å¸¸ä¼šç”¨åˆ°ï¼Œæ­£ç¡®è§£è¯»æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸ªéå¸¸è€ƒéªŒåŠŸåº•çš„æ´»ã€‚æœ‰æ²¡æœ‰åŠæ³•é€šè¿‡æœºå™¨å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ<br>è¿™é‡Œæ¨èä¸€ä¸ªç½‘ç«™ï¼š<strong><a href="https://regexper.com" target="_blank" rel="noopener">https://regexper.com</a></strong>ï¼Œå®˜ç½‘å¦‚ä¸Šå›¾ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ç»„å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</p><h2><span id="ä¸€-æ•°å­—æµ‹è¯•">ä¸€ã€æ•°å­—æµ‹è¯•</span></h2><ol><li><p>æ•°å­—ï¼š<code>^[0-9]*$</code></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/RegEx-Test1.png" alt></p></li><li><p>n ä½çš„æ•°å­—ï¼š<code>^\d{n}$</code> å¦‚ï¼š <code>^\d{3}$</code></p></li><li><p>è‡³å°‘ n ä½çš„æ•°å­—ï¼š<code>^\d{n,}$</code>  å¦‚ï¼š <code>^\d{3,}$</code></p></li><li><p>m-n ä½çš„æ•°å­—ï¼š<code>^\d{m,n}$</code>ï¼Œ å¦‚ï¼š<code>^\d{3,10}$</code></p></li><li><p>é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š<code>^(0|[1-9][0-9]*)$</code></p></li><li><p>éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š<code>^([1-9][0-9]*)+(.[0-9]{1,2})?$</code></p></li></ol><ol start="7"><li><p>å¸¦ 1-2 ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š<code>^(\-)?\d+(\.\d{1,2})?$</code></p></li><li><p>æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š<code>^(\-|\+)?\d+(\.\d+)?$</code></p></li><li><p>æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š<code>^[0-9]+(.[0-9]{2})?$</code></p></li><li><p>æœ‰ 1~3 ä½å°æ•°çš„æ­£å®æ•°ï¼š<code>^[0-9]+(.[0-9]{1,3})?$</code></p></li><li><p>éé›¶çš„æ­£æ•´æ•°ï¼š<code>^[1-9]\d*$</code> æˆ– <code>^([1-9][0-9]*){1,3}$</code> æˆ– <code>^\+?[1-9][0-9]*$</code></p></li><li><p>éé›¶çš„è´Ÿæ•´æ•°ï¼š<code>^\-[1-9][0-9]*$</code> æˆ– <code>^-[1-9]\d*$</code></p></li><li><p>éè´Ÿæ•´æ•°ï¼š<code>^\d+$</code> æˆ– <code>^[1-9]\d*|0$</code></p></li><li><p>éæ­£æ•´æ•°ï¼š<code>^(-[1-9]\d*|0)$</code> æˆ– <code>^((-\d+)|(0+))$</code></p></li><li><p>éè´Ÿæµ®ç‚¹æ•°ï¼š<code>^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$</code></p></li><li><p>éæ­£æµ®ç‚¹æ•°ï¼š<code>^((-\d+(\.\d+)?)|(0+(\.0+)?))$</code> æˆ– <code>^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$</code></p></li><li><p>æ­£æµ®ç‚¹æ•°ï¼š<code>^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$</code> æˆ– <code>^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$</code></p></li><li><p>è´Ÿæµ®ç‚¹æ•°ï¼š<code>^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$</code> æˆ– ^<code>(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$</code></p></li><li><p>æµ®ç‚¹æ•°ï¼š<code>^(-?\d+)(\.\d+)?$</code> æˆ– <code>^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$</code></p></li></ol><h2><span id="äºŒ-æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼">äºŒã€æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼</span></h2><ol><li><p>æ±‰å­—ï¼š<code>^[\u4e00-\u9fa5]{0,}$</code></p></li><li><p>è‹±æ–‡å’Œæ•°å­—ï¼š<code>^[A-Za-z0-9]+$</code> æˆ– <code>^[A-Za-z0-9]{4,40}$</code></p></li><li><p>é•¿åº¦ä¸º 3-20 çš„æ‰€æœ‰å­—ç¬¦ï¼š<code>^.{3,20}$</code></p></li><li><p>ç”± 26 ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Za-z]+$</code></p></li><li><p>ç”± 26 ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Z]+$</code></p></li><li><p>ç”± 26 ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[a-z]+$</code></p></li><li><p>ç”±æ•°å­—å’Œ 26 ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Za-z0-9]+$</code></p></li><li><p>ç”±æ•°å­—ã€26 ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^\w+$</code> æˆ– <code>^\w{3,20}$</code></p></li><li><p>ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ï¼š<code>^[\u4E00-\u9FA5A-Za-z0-9_]+$</code></p></li><li><p>ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å·ï¼š<code>^[\u4E00-\u9FA5A-Za-z0-9_]+$</code> æˆ– <code>^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$</code></p></li><li><p>å«æœ‰<code>^%&amp;amp;',;=?$\&quot;</code>ç­‰å­—ç¬¦ï¼š<code>[\^%&amp;amp;',;=?$\x22]+</code></p></li><li><p>ä¸å«æœ‰å«æœ‰~çš„å­—ç¬¦ï¼š<code>[^~\x22]+</code></p></li></ol><h2><span id="ä¸‰-ç‰¹å®šè¦æ±‚çš„è¡¨è¾¾å¼">ä¸‰ã€ç‰¹å®šè¦æ±‚çš„è¡¨è¾¾å¼</span></h2><ol><li><p>Email åœ°å€ï¼š<code>^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</code></p></li><li><p>åŸŸåï¼š<code>[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\/.?</code></p></li><li><p>InternetURLï¼š<code>[a-zA-z]+:\/\/[^\s]*</code> æˆ– <code>^http:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&amp;amp;=]*)?$</code></p></li><li><p>æ‰‹æœºå·ç ï¼š<code>^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$</code></p></li><li><p>ç”µè¯å·ç (â€œXXX-XXXXXXXâ€ã€â€XXXX-XXXXXXXXâ€ã€â€XXX-XXXXXXXâ€ã€â€XXX-XXXXXXXXâ€ã€â€XXXXXXXâ€å’Œâ€XXXXXXXX)ï¼š<code>(\d{3,4}-)?\d{7,8}$</code></p></li><li><p>å›½å†…ç”µè¯å·ç (0511-4405222ã€021-87888822)ï¼š<code>\d{3}-\d{8}|\d{4}-\d{7}</code></p></li><li><p>èº«ä»½è¯å·(15 ä½ã€18 ä½æ•°å­—)ï¼š<code>^(\d{15}|\d{18})$</code></p></li><li><p>çŸ­èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯ x ç»“å°¾)ï¼š<code>^([0-9]){7,18}(x|X)?$</code> æˆ– <code>^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$</code></p></li><li><p>å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸ 5-16 å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š<code>^[a-zA-Z][a-zA-Z0-9_]{4,15}$</code></p></li><li><p>å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨ 6~18 ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š<code>^[a-zA-Z]\w{5,17}$</code></p></li><li><p>å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨ 8-10 ä¹‹é—´)ï¼š<code>^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$</code></p></li><li><p>æ—¥æœŸæ ¼å¼ï¼š<code>^\d{4}-\d{1,2}-\d{1,2}</code></p></li><li><p>ä¸€å¹´çš„ 12 ä¸ªæœˆ(01 ï½ 09 å’Œ 1 ï½ 12)ï¼š<code>^(0?[1-9]|1[0-2])$</code></p></li><li><p>ä¸€ä¸ªæœˆçš„ 31 å¤©(01 ï½ 09 å’Œ 1 ï½ 31)ï¼š<code>^((0?[1-9])|((1|2)[0-9])|30|31)$</code></p></li><li><p>æœ‰å››ç§é’±çš„è¡¨ç¤ºå½¢å¼æˆ‘ä»¬å¯ä»¥æ¥å—:â€10000.00â€ å’Œ â€œ10,000.00â€, å’Œæ²¡æœ‰ â€œåˆ†â€ çš„ â€œ10000â€ å’Œ â€œ10,000â€ï¼š<code>^[0-9]+(\.[0-9]+)?\$</code></p></li><li><p>xml æ–‡ä»¶ï¼š<code>^([a-zA-Z]+-?)+[a-zA-Z0-9]+\.[x|X][m|M][l|L]$</code></p></li><li><p>ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>[\u4e00-\u9fa5]</code></p></li><li><p>åŒå­—èŠ‚å­—ç¬¦ï¼š<code>[^\x00-\xff]</code>(&lt;åŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1)&gt;)</p></li><li><p>ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>\n\s*\r</code> (å¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ)</p></li><li><p>HTML æ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>&amp;lt;(\S*?)[^&amp;gt;]*&amp;gt;.*?&amp;lt;\/\1&amp;gt;|&amp;lt;.*? \/&amp;gt;</code></p></li><li><p>é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>^\s*|\s*$</code>æˆ–<code>(^\s*)|(\s*$)</code> (å¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼)</p></li><li><p>è…¾è®¯ QQ å·ï¼š<code>[1-9][0-9]{4,}</code> (è…¾è®¯ QQ å·ä» 10000 å¼€å§‹)</p></li><li><p>ä¸­å›½é‚®æ”¿ç¼–ç ï¼š<code>[1-9]\d{5}(?!\d)</code> (ä¸­å›½é‚®æ”¿ç¼–ç ä¸º 6 ä½æ•°å­—)</p></li><li><p>IP åœ°å€ï¼š<code>\d+\.\d+\.\d+\.\d+</code> (æå– IP åœ°å€æ—¶æœ‰ç”¨)</p></li><li><p>æŠ½å–æ³¨é‡Šï¼š<code>&amp;lt;!--(.*?)--&amp;gt;</code></p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;br&gt;
&lt;blockquote style=&quot;border-left: 4px solid #3F51B5;padding: 16px 20px;color: black;font-weight:300;border-radius: 0 2px 2px 0;&quot;&gt;
    é‚£äº›ç–¯
      
    
    </summary>
    
    
    
      <category term="RegEx" scheme="https://cl9000.github.io/tags/RegEx/"/>
    
      <category term="æ­£åˆ™" scheme="https://cl9000.github.io/tags/%E6%AD%A3%E5%88%99/"/>
    
      <category term="æ­£åˆ™è¡¨è¾¾å¼" scheme="https://cl9000.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>JSåŸç”Ÿajaxè¯·æ±‚ã€fetch</title>
    <link href="https://cl9000.github.io/2018/07/15/JS%E5%8E%9F%E7%94%9Fajax%E8%AF%B7%E6%B1%82%E3%80%81fetch/"/>
    <id>https://cl9000.github.io/2018/07/15/JS%E5%8E%9F%E7%94%9Fajax%E8%AF%B7%E6%B1%82%E3%80%81fetch/</id>
    <published>2018-07-15T08:18:44.000Z</published>
    <updated>2020-07-15T08:23:56.117Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="jsåŸç”Ÿajaxè¯·æ±‚-fetch">JSåŸç”Ÿajaxè¯·æ±‚ã€fetch</span></h2><blockquote><p>Ajax å³â€œAsynchronous Javascript And XMLâ€ï¼ˆå¼‚æ­¥ JavaScript å’Œ XMLï¼‰ï¼Œæ˜¯æŒ‡ä¸€ç§åˆ›å»ºäº¤äº’å¼ã€å¿«é€ŸåŠ¨æ€ç½‘é¡µåº”ç”¨çš„ç½‘é¡µå¼€å‘æŠ€æœ¯ï¼Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚<br>é€šè¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ï¼ŒAjax å¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚<a href="https://baike.baidu.com/item/ajax/8425" target="_blank" rel="noopener">ajax ç™¾åº¦ç™¾ç§‘</a></p></blockquote><h3><span id="ajaxåŸºæœ¬ç»“æ„">ajaxåŸºæœ¬ç»“æ„</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Getè¯·æ±‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(text);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params">code</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(code);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ajax = <span class="keyword">new</span> XMLHttpRequest(); <span class="comment">// æ–°å»ºXMLHttpRequestå¯¹è±¡</span></span><br><span class="line">ajax.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">// çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå‡½æ•°è¢«å›è°ƒ</span></span><br><span class="line">    <span class="keyword">if</span> (ajax.readyState === <span class="number">4</span>) &#123; <span class="comment">// æˆåŠŸå®Œæˆ</span></span><br><span class="line">        <span class="comment">// åˆ¤æ–­å“åº”ç»“æœ:</span></span><br><span class="line">        <span class="keyword">if</span> (ajax.status === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// æˆåŠŸï¼Œé€šè¿‡responseTextæ‹¿åˆ°å“åº”çš„æ–‡æœ¬:</span></span><br><span class="line">            <span class="keyword">return</span> success(<span class="built_in">JSON</span>.parse(ajax.responseText)); <span class="comment">// è½¬JSON</span></span><br><span class="line">            <span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line">            <span class="comment">// return success(eval("("+ ajax.responseText +")"));</span></span><br><span class="line">            <span class="comment">// è§£æxml</span></span><br><span class="line">            <span class="comment">// var parser = new DOMParser();</span></span><br><span class="line">            <span class="comment">// var res = parser.parseFromString(request.responseText, "text/xml")</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¤±è´¥ï¼Œæ ¹æ®å“åº”ç åˆ¤æ–­å¤±è´¥åŸå› :</span></span><br><span class="line">            <span class="keyword">return</span> fail(ajax.status);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// HTTPè¯·æ±‚è¿˜åœ¨ç»§ç»­...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ajax.open(<span class="string">'GET'</span>, <span class="string">'/api/test.json'</span>, <span class="literal">true</span>); <span class="comment">// é»˜è®¤ true å¼‚æ­¥</span></span><br><span class="line">ajax.send();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// postè¯·æ±‚</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (ajax.readyState === <span class="number">4</span>) &#123; <span class="comment">// æˆåŠŸå®Œæˆ</span></span><br><span class="line">        <span class="keyword">if</span> (ajax.status === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> success(ajax.responseText);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> fail(ajax.status);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// HTTPè¯·æ±‚è¿˜åœ¨ç»§ç»­...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">xhr.setRequestHeader(<span class="string">"Content-type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line">xhr.open(<span class="string">'POST'</span>, <span class="string">'/api/test.json'</span>);</span><br><span class="line">xhr.send(<span class="string">'name=233'</span>);</span><br></pre></td></tr></table></figure><p>å¯¹äºä½ç‰ˆæœ¬çš„IEï¼Œéœ€è¦æ¢ä¸€ä¸ªActiveXObjectå¯¹è±¡:</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ajax = <span class="keyword">new</span> <span class="type">ActiveXObject</span>(<span class="string">'Microsoft.XMLHTTP'</span>); <span class="comment">// æ–°å»ºMicrosoft.XMLHTTPå¯¹è±¡</span></span><br><span class="line">... ...</span><br><span class="line"></span><br><span class="line">æ•´åˆIE</span><br><span class="line"><span class="keyword">var</span> ajax;</span><br><span class="line"><span class="keyword">if</span> (window.XMLHttpRequest) &#123;</span><br><span class="line">    ajax = <span class="keyword">new</span> <span class="type">XMLHttpRequest</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    ajax = <span class="keyword">new</span> <span class="type">ActiveXObject</span>(<span class="string">'Microsoft.XMLHTTP'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4><span id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</span></h4><blockquote><p>ajaxæ‰§è¡Œäº†åŒæ­¥æ“ä½œâš ï¸ï¼š<br>Synchronous XMLHttpRequest on the main thread is deprecated<br>ajaxæ‰§è¡Œäº†åŒæ­¥æ“ä½œï¼Œå³asyncè®¾ç½®ä¸ºFalseï¼Œå½“ç„¶å®ƒå¹¶ä¸å½±å“ç¨‹åºçš„è¿è¡Œ,å»ºè®®ä½¿ç”¨ true (ä¸è®¾ç½®é»˜è®¤ä¸º true )ã€‚</p></blockquote><h4><span id="çŠ¶æ€">çŠ¶æ€</span></h4><h5><span id="readystateçŠ¶æ€å€¼">readyStateï¼ˆçŠ¶æ€å€¼ï¼‰</span></h5><p>readyStateæ˜¯XMLHttpRequestå¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨æ¥æ ‡è¯†å½“å‰XMLHttpRequestå¯¹è±¡å¤„äºä»€ä¹ˆçŠ¶æ€ã€‚</p><blockquote><p>0ï¼šåˆå§‹åŒ–ï¼ŒXMLHttpRequestå¯¹è±¡è¿˜æ²¡æœ‰å®Œæˆåˆå§‹åŒ–<br>1ï¼šè½½å…¥ï¼ŒXMLHttpRequestå¯¹è±¡å¼€å§‹å‘é€è¯·æ±‚<br>2ï¼šè½½å…¥å®Œæˆï¼ŒXMLHttpRequestå¯¹è±¡çš„è¯·æ±‚å‘é€å®Œæˆ<br>3ï¼šè§£æï¼ŒXMLHttpRequestå¯¹è±¡å¼€å§‹è¯»å–æœåŠ¡å™¨çš„å“åº”<br>4ï¼šå®Œæˆï¼ŒXMLHttpRequestå¯¹è±¡è¯»å–æœåŠ¡å™¨å“åº”ç»“æŸ</p></blockquote><h5><span id="statusçŠ¶æ€ç ">statusï¼ˆçŠ¶æ€ç ï¼‰</span></h5><p>statusæ˜¯XMLHttpRequestå¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œè¡¨ç¤ºå“åº”çš„HTTPçŠ¶æ€ç </p><blockquote><p>1xxï¼šä¿¡æ¯å“åº”ç±»ï¼Œè¡¨ç¤ºæ¥æ”¶åˆ°è¯·æ±‚å¹¶ä¸”ç»§ç»­å¤„ç†<br>2xxï¼šå¤„ç†æˆåŠŸå“åº”ç±»ï¼Œè¡¨ç¤ºåŠ¨ä½œè¢«æˆåŠŸæ¥æ”¶ã€ç†è§£å’Œæ¥å—<br>3xxï¼šé‡å®šå‘å“åº”ç±»ï¼Œä¸ºäº†å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œå¿…é¡»æ¥å—è¿›ä¸€æ­¥å¤„ç†<br>4xxï¼šå®¢æˆ·ç«¯é”™è¯¯ï¼Œå®¢æˆ·è¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–è€…æ˜¯ä¸èƒ½æ­£ç¡®æ‰§è¡Œ<br>5xxï¼šæœåŠ¡ç«¯é”™è¯¯ï¼ŒæœåŠ¡å™¨ä¸èƒ½æ­£ç¡®æ‰§è¡Œä¸€ä¸ªæ­£ç¡®çš„è¯·æ±‚<br>Â <br>100â€”â€”å®¢æˆ·å¿…é¡»ç»§ç»­å‘å‡ºè¯·æ±‚<br>101â€”â€”å®¢æˆ·è¦æ±‚æœåŠ¡å™¨æ ¹æ®è¯·æ±‚è½¬æ¢HTTPåè®®ç‰ˆæœ¬<br>200â€”â€”äº¤æ˜“æˆåŠŸ<br>201â€”â€”æç¤ºçŸ¥é“æ–°æ–‡ä»¶çš„URL<br>202â€”â€”æ¥å—å’Œå¤„ç†ã€ä½†å¤„ç†æœªå®Œæˆ<br>203â€”â€”è¿”å›ä¿¡æ¯ä¸ç¡®å®šæˆ–ä¸å®Œæ•´<br>204â€”â€”è¯·æ±‚æ”¶åˆ°ï¼Œä½†è¿”å›ä¿¡æ¯ä¸ºç©º<br>205â€”â€”æœåŠ¡å™¨å®Œæˆäº†è¯·æ±‚ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»å¤ä½å½“å‰å·²ç»æµè§ˆè¿‡çš„æ–‡ä»¶<br>206â€”â€”æœåŠ¡å™¨å·²ç»å®Œæˆäº†éƒ¨åˆ†ç”¨æˆ·çš„GETè¯·æ±‚<br>300â€”â€”è¯·æ±‚çš„èµ„æºå¯åœ¨å¤šå¤„å¾—åˆ°<br>301â€”â€”åˆ é™¤è¯·æ±‚æ•°æ®<br>302â€”â€”åœ¨å…¶ä»–åœ°å€å‘ç°äº†è¯·æ±‚æ•°æ®<br>303â€”â€”å»ºè®®å®¢æˆ·è®¿é—®å…¶ä»–URLæˆ–è®¿é—®æ–¹å¼<br>304â€”â€”å®¢æˆ·ç«¯å·²ç»æ‰§è¡Œäº†GETï¼Œä½†æ–‡ä»¶æœªå˜åŒ–<br>305â€”â€”è¯·æ±‚çš„èµ„æºå¿…é¡»ä»æœåŠ¡å™¨æŒ‡å®šçš„åœ°å€å¾—åˆ°<br>306â€”â€”å‰ä¸€ç‰ˆæœ¬HTTPä¸­ä½¿ç”¨çš„ä»£ç ï¼Œç°è¡Œç‰ˆæœ¬ä¸­ä¸å†ä½¿ç”¨<br>307â€”â€”ç”³æ˜è¯·æ±‚çš„èµ„æºä¸´æ—¶æ€§åˆ é™¤<br>400â€”â€”é”™è¯¯è¯·æ±‚ï¼Œå¦‚è¯­æ³•é”™è¯¯<br>401â€”â€”è¯·æ±‚æˆæƒå¤±è´¥<br>402â€”â€”ä¿ç•™æœ‰æ•ˆChargeToå¤´å“åº”<br>403â€”â€”è¯·æ±‚ä¸å…è®¸<br>404â€”â€”æ²¡æœ‰å‘ç°æ–‡ä»¶ã€æŸ¥è¯¢æˆ–URl<br>405â€”â€”ç”¨æˆ·åœ¨Request-Lineå­—æ®µå®šä¹‰çš„æ–¹æ³•ä¸å…è®¸<br>406â€”â€”æ ¹æ®ç”¨æˆ·å‘é€çš„Acceptæ‹–ï¼Œè¯·æ±‚èµ„æºä¸å¯è®¿é—®<br>407â€”â€”ç±»ä¼¼401ï¼Œç”¨æˆ·å¿…é¡»é¦–å…ˆåœ¨ä»£ç†æœåŠ¡å™¨ä¸Šå¾—åˆ°æˆæƒ<br>408â€”â€”å®¢æˆ·ç«¯æ²¡æœ‰åœ¨ç”¨æˆ·æŒ‡å®šçš„æ—¶é—´å†…å®Œæˆè¯·æ±‚<br>409â€”â€”å¯¹å½“å‰èµ„æºçŠ¶æ€ï¼Œè¯·æ±‚ä¸èƒ½å®Œæˆ<br>410â€”â€”æœåŠ¡å™¨ä¸Šä¸å†æœ‰æ­¤èµ„æºä¸”æ— è¿›ä¸€æ­¥çš„å‚è€ƒåœ°å€<br>411â€”â€”æœåŠ¡å™¨æ‹’ç»ç”¨æˆ·å®šä¹‰çš„Content-Lengthå±æ€§è¯·æ±‚<br>412â€”â€”ä¸€ä¸ªæˆ–å¤šä¸ªè¯·æ±‚å¤´å­—æ®µåœ¨å½“å‰è¯·æ±‚ä¸­é”™è¯¯<br>413â€”â€”è¯·æ±‚çš„èµ„æºå¤§äºæœåŠ¡å™¨å…è®¸çš„å¤§å°<br>414â€”â€”è¯·æ±‚çš„èµ„æºURLé•¿äºæœåŠ¡å™¨å…è®¸çš„é•¿åº¦<br>415â€”â€”è¯·æ±‚èµ„æºä¸æ”¯æŒè¯·æ±‚é¡¹ç›®æ ¼å¼<br>416â€”â€”è¯·æ±‚ä¸­åŒ…å«Rangeè¯·æ±‚å¤´å­—æ®µï¼Œåœ¨å½“å‰è¯·æ±‚èµ„æºèŒƒå›´å†…æ²¡æœ‰rangeæŒ‡ç¤ºå€¼ï¼Œè¯·æ±‚ä¹Ÿä¸åŒ…å«If-Rangeè¯·æ±‚å¤´å­—æ®µ<br>417â€”â€”æœåŠ¡å™¨ä¸æ»¡è¶³è¯·æ±‚Expectå¤´å­—æ®µæŒ‡å®šçš„æœŸæœ›å€¼ï¼Œå¦‚æœæ˜¯ä»£ç†æœåŠ¡å™¨ï¼Œå¯èƒ½æ˜¯ä¸‹ä¸€çº§æœåŠ¡å™¨ä¸èƒ½æ»¡è¶³è¯·æ±‚<br>500â€”â€”æœåŠ¡å™¨äº§ç”Ÿå†…éƒ¨é”™è¯¯<br>501â€”â€”æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„å‡½æ•°<br>502â€”â€”æœåŠ¡å™¨æš‚æ—¶ä¸å¯ç”¨ï¼Œæœ‰æ—¶æ˜¯ä¸ºäº†é˜²æ­¢å‘ç”Ÿç³»ç»Ÿè¿‡è½½<br>503â€”â€”æœåŠ¡å™¨è¿‡è½½æˆ–æš‚åœç»´ä¿®<br>504â€”â€”å…³å£è¿‡è½½ï¼ŒæœåŠ¡å™¨ä½¿ç”¨å¦ä¸€ä¸ªå…³å£æˆ–æœåŠ¡æ¥å“åº”ç”¨æˆ·ï¼Œç­‰å¾…æ—¶é—´è®¾å®šå€¼è¾ƒé•¿<br>505â€”â€”æœåŠ¡å™¨ä¸æ”¯æŒæˆ–æ‹’ç»æ”¯è¯·æ±‚å¤´ä¸­æŒ‡å®šçš„HTTPç‰ˆæœ¬</p></blockquote><h2><span id="fetch">fetch</span></h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">fetch MDN</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸€ä¸ªåŸºæœ¬çš„ fetch è¯·æ±‚</span></span><br><span class="line">fetch(<span class="string">'http://example.com/movies.json'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(myJson);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">fetch(url, &#123;</span><br><span class="line">    body: <span class="built_in">JSON</span>.stringify(data), <span class="comment">// must match 'Content-Type' header</span></span><br><span class="line">    cache: <span class="string">'no-cache'</span>, <span class="comment">// *default, no-cache, reload, force-cache, only-if-cached</span></span><br><span class="line">    credentials: <span class="string">'same-origin'</span>, <span class="comment">// include, same-origin, *omit</span></span><br><span class="line">    headers: &#123;</span><br><span class="line">      <span class="string">'user-agent'</span>: <span class="string">'Mozilla/4.0 MDN Example'</span>,</span><br><span class="line">      <span class="string">'content-type'</span>: <span class="string">'application/json'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    method: <span class="string">'POST'</span>, <span class="comment">// *GET, POST, PUT, DELETE, etc.</span></span><br><span class="line">    mode: <span class="string">'cors'</span>, <span class="comment">// no-cors, cors, *same-origin</span></span><br><span class="line">    redirect: <span class="string">'follow'</span>, <span class="comment">// manual, *follow, error</span></span><br><span class="line">    referrer: <span class="string">'no-referrer'</span>, <span class="comment">// *client, no-referrer</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> res.json()) <span class="comment">// parses response to JSON</span></span><br><span class="line">  .catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="built_in">console</span>.error(<span class="string">'Error:'</span>, error))</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Success:'</span>, response));</span><br></pre></td></tr></table></figure><h4><span id="æµè§ˆå™¨å…¼å®¹æ€§">æµè§ˆå™¨å…¼å®¹æ€§</span></h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">fetch MDN</a></p><h3><span id="å‚è€ƒ">å‚è€ƒ</span></h3><p><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023022332902400" target="_blank" rel="noopener">Ajax</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">Fetch</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;jsåŸç”Ÿajaxè¯·æ±‚-fetch&quot;&gt;JSåŸç”Ÿajaxè¯·æ±‚ã€fetch&lt;/span&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Ajax å³â€œAsynchronous Javascript And XMLâ€ï¼ˆå¼‚æ­¥ JavaScript å’Œ XMLï¼‰ï¼Œæ˜¯æŒ‡
      
    
    </summary>
    
    
    
      <category term="ajax" scheme="https://cl9000.github.io/tags/ajax/"/>
    
      <category term="fetch" scheme="https://cl9000.github.io/tags/fetch/"/>
    
      <category term="åŸç”Ÿ" scheme="https://cl9000.github.io/tags/%E5%8E%9F%E7%94%9F/"/>
    
      <category term="js" scheme="https://cl9000.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>Karma + Jasmine æ„å»º Web æµ‹è¯•ç¯å¢ƒ</title>
    <link href="https://cl9000.github.io/2018/03/18/Karma-Jasmine-%E6%9E%84%E5%BB%BA-Web-%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83/"/>
    <id>https://cl9000.github.io/2018/03/18/Karma-Jasmine-%E6%9E%84%E5%BB%BA-Web-%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83/</id>
    <published>2018-03-18T09:38:50.000Z</published>
    <updated>2020-04-26T09:45:25.071Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="karma-jasmine-æ„å»º-web-æµ‹è¯•ç¯å¢ƒ">Karma + Jasmine æ„å»º Web æµ‹è¯•ç¯å¢ƒ</span></h3><h3><span id="jasmine-ç®€ä»‹">Jasmine ç®€ä»‹</span></h3><!-- <img src="https://cdn.wispx.cn/wallpaper/bing/2019/02/12/d4f42aedc672561334500d26f3f846f5.jpg!blog.thumb" alt=""> --><!-- ![](https://jasmine.github.io/images/jasmine-white-horizontal.svg) --><p><img src="https://jasmine.github.io/images/jasmine-horizontal.svg" alt><br><code>Jasmine</code> æ˜¯ä¸€æ¬¾ JavaScript BDDï¼ˆè¡Œä¸ºé©±åŠ¨å¼€å‘ï¼‰æµ‹è¯•æ¡†æ¶ï¼Œå®ƒä¸ä¾èµ–äºå…¶ä»–ä»»ä½• JavaScript ç»„ä»¶ã€‚å®ƒæœ‰å¹²å‡€æ¸…æ™°çš„è¯­æ³•ï¼Œè®©æ‚¨å¯ä»¥å¾ˆç®€å•çš„å†™å‡ºæµ‹è¯•ä»£ç ã€‚<br>å®ƒçš„ä¸»è¦ç‰¹ç‚¹ï¼š</p><ul><li>ä¸ä¾èµ–äºä»»ä½•å…¶å®ƒçš„ JavaScript æ¡†æ¶</li><li>ä¸éœ€è¦ DOM</li><li>ç»“æ„ç®€å•</li><li>å¯ä»¥è¿è¡Œåœ¨ Node.JS æˆ–è€… Html ä¸­</li><li>åŸºäºè¡Œä¸ºé©±åŠ¨å¼€å‘ Jasmine<br><a href="http://jasmine.github.io/" target="_blank" rel="noopener">Jasmineé¡¹ç›®Git ä»“åº“åœ°å€</a><br><a href="https://www.ibm.com/developerworks/cn/web/wa-lo-use-karma-jasmine-build-test-environment/index.html#icomments" target="_blank" rel="noopener">å‚è€ƒ</a><br><a href="http://jasmine.github.io/1.3/introduction.html" target="_blank" rel="noopener">jasmineåŸºç¡€è¯­æ³•</a><br><a href="http://www.cnblogs.com/zhcncn/p/4330112.html" target="_blank" rel="noopener">jasmineåŸºç¡€è¯­æ³•</a></li></ul><h3><span id="karma-ç®€ä»‹">Karma ç®€ä»‹</span></h3><ul><li>Karmaæ˜¯Testacularçš„æ–°åå­—ï¼Œåœ¨2012å¹´googleå¼€æºäº†Testacularï¼Œ2013å¹´Testacularæ”¹åä¸ºKarmaã€‚</li><li>Karmaæ˜¯ä¸€ä¸ªåŸºäºNode.jsçš„JavaScriptæµ‹è¯•æ‰§è¡Œè¿‡ç¨‹ç®¡ç†å·¥å…·ï¼ˆTest Runnerï¼‰ã€‚è¯¥å·¥å…·å¯ç”¨äºæµ‹è¯•æ‰€æœ‰ä¸»æµ Web æµè§ˆå™¨ï¼Œä¹Ÿå¯ä»¥é›†æˆåˆ° CIï¼ˆContinuous integrationï¼‰å·¥å…·ï¼Œè¿˜å¯ä»¥å’Œå…¶ä»–ä»£ç ç¼–è¾‘å™¨ä¸€èµ·ä½¿ç”¨ã€‚</li><li>Karmaçš„ä¸»è¦ç›®çš„æ˜¯ä½¿æ‚¨çš„æµ‹è¯•é©±åŠ¨å¼€å‘å˜å¾—å®¹æ˜“ï¼Œå¿«é€Ÿå’Œæœ‰è¶£ã€‚</li><li>Karmaä¸æ˜¯æµ‹è¯•æ¡†æ¶ï¼Œä¹Ÿä¸æ˜¯æ–­è¨€åº“ã€‚Karmaåªæ˜¯å¯åŠ¨HTTPæœåŠ¡å™¨ï¼Œå¹¶ç”Ÿæˆæ‚¨å¯èƒ½å·²ç»ä»æœ€å–œæ¬¢çš„æµ‹è¯•æ¡†æ¶ä¸­äº†è§£çš„æµ‹è¯•è¿è¡Œå™¨HTMLæ–‡ä»¶ã€‚å› æ­¤ï¼Œå‡ºäºæµ‹è¯•ç›®çš„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å‡ ä¹ä»»ä½•æ‚¨å–œæ¬¢çš„ä¸œè¥¿ã€‚å¤§å¤šæ•°å¸¸è§æµ‹è¯•æ¡†æ¶å·²ç»æœ‰æ’ä»¶ï¼š</li></ul><blockquote><ul><li><a href="https://github.com/karma-runner/karma-jasmine" target="_blank" rel="noopener">Jasmine</a></li><li><a href="https://github.com/karma-runner/karma-mocha" target="_blank" rel="noopener">Mocha</a></li><li><a href="QUnit">QUnit</a></li><li><a href="https://www.npmjs.org/browse/keyword/karma-adapter" target="_blank" rel="noopener">and many others</a><br>æ”¯æŒæ‰€æœ‰çš„ä¸»æµæµè§ˆå™¨</li></ul></blockquote><h3><span id="karma-å®‰è£…">Karma å®‰è£…</span></h3><p><strong>åœ¨é¡¹ç›®ä¸­å»ºè®®ä½¿ç”¨é¡¹ç›®ç‹¬ç«‹çš„ <code>node_modules</code>,åŒ…æ‹¬ä¸Šé¢çš„å®‰è£…å…¶å®ƒçš„ä¾èµ–ï¼Œè¿™æœ‰åˆ©äºè¿ç§»ã€‚</strong><br>Macå®‰è£…å‘½ä»¤ï¼ˆi æ˜¯ install å‘½ä»¤çš„ç¼©å†™ï¼Œ-D æ˜¯ --save-dev çš„ç¼©å†™ã€‚ï¼‰<br>// å±€éƒ¨ï¼ˆå•é¡¹ç›®ï¼‰å®‰è£…ã€‚å®‰è£… Karma å‘½ä»¤åˆ°å½“å‰ node_modules ç›®å½•ä¸‹ï¼Œæ­¤æ—¶ï¼Œå¦‚æœéœ€è¦æ‰§è¡Œ karma å‘½ä»¤ï¼Œå°±éœ€è¦è¿™æ · <code>$ ./node_modules/.bin/karma</code><br><code>$ npm install karma --save-dev</code><br>// å…¨å±€å®‰è£… - Macå®‰è£…è·¯å¾„ï¼š<code>/usr/local/bin/node</code><br><code>$ nom install karma -g</code><br>æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ <code>$ karma start</code> ï¼ŒæˆåŠŸä¼šå‡ºç°æç¤ºæ‰“å¼€æµè§ˆå™¨ <a href="http://localhost:9876/" target="_blank" rel="noopener">http://localhost:9876/</a> è®¿é—®æˆåŠŸé¡µé¢ã€‚</p><h3><span id="karma-åˆå§‹åŒ–é…ç½®">Karma åˆå§‹åŒ–é…ç½®</span></h3><p>å®‰è£…å®Œæˆä¹‹åï¼Œåˆ‡æ¢åˆ°ç›®æ ‡é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿è¡Œï¼š<br><code>$ karma init</code> or <code>$ karma init **.conf.js</code><br>æ‰§è¡Œå‘½ä»¤åï¼Œä¼šè¢«é—®åˆ°ä¸€ç³»åˆ—çš„é—®é¢˜</p><ul><li><code>What testing framework do you want to use?</code><br>é»˜è®¤æƒ…å†µä¸‹ Jasmine, Mocha, QUnit éƒ½å·²ç»è¢«å®‰è£…äº†ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬çš„åç§°ã€‚å¦‚æœåœ¨åº”ç”¨ä¸­ç”¨åˆ°äº†å…¶å®ƒçš„æµ‹è¯•æ¡†æ¶ï¼Œé‚£å°±éœ€è¦æˆ‘ä»¬å®‰è£…å®ƒä»¬æ‰€å¯¹åº”çš„æ’ä»¶ï¼Œå¹¶åœ¨é…ç½®æ–‡ä»¶ä¸­æ ‡æ³¨å®ƒä»¬ï¼ˆè¯¦è§ karma.conf.js ä¸­çš„ plugins é¡¹ï¼‰</li></ul><ul><li><code>Do you want to use Require.js?</code><br>This will add Require.js plugin.<br>Require.js æ˜¯å¼‚æ­¥åŠ è½½è§„èŒƒï¼ˆAMDï¼‰çš„å®ç°ã€‚å¸¸è¢«ä½œä¸ºåŸºç¡€ä»£ç åº“ï¼Œåº”ç”¨åœ¨äº†å¾ˆå¤šçš„é¡¹ç›®ä¸æ¡†æ¶ä¹‹ä¸­ï¼Œä¾‹å¦‚ Dojo, AngularJs ç­‰ã€</li></ul><ul><li><code>Do you want to capture a browser automatically?</code><br>é€‰æ‹©éœ€è¦è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„æµè§ˆå™¨ã€‚éœ€è¦æ³¨æ„çš„å°±æ˜¯ï¼Œå¿…é¡»ä¿è¯æ‰€å¯¹åº”çš„æµè§ˆå™¨æ’ä»¶å·²ç»å®‰è£…æˆåŠŸã€‚</li></ul><ul><li><code>What is the location of your source and test files?</code><br>You can use glob patterns, eg.  <strong>js/*.js&quot; or &quot;test/**/*Spec.js</strong>.<br>é€‰æ‹©æµ‹è¯•ç”¨ä¾‹æ‰€åœ¨çš„ç›®å½•ä½ç½®ã€‚Karma æ”¯æŒé€šé…ç¬¦çš„æ–¹å¼é…ç½®æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¾‹å¦‚ <strong>js/*.js&quot; or &quot;test/**/*Spec.js</strong> ç­‰ã€‚å¦‚æœç›®å½•æˆ–æ–‡ä»¶ä½¿ç”¨ç›¸å¯¹ä½ç½®ï¼Œè¦æ¸…æ¥šåœ°æ˜¯ï¼Œæ­¤æ—¶çš„è·¯å¾„æ˜¯ç›¸å¯¹äºå½“å‰è¿è¡Œ karma å‘½ä»¤æ—¶æ‰€åœ¨çš„ç›®å½•ã€‚</li></ul><ul><li><code>Should any of the files included by the previous patterns be excluded?</code><br>You can use glob patterns, eg. <strong>**/*.swp</strong>.<br>ç›®å½•ä¸­ä¸åŒ…æ‹¬çš„é‚£äº›æ–‡ä»¶ã€‚</li></ul><ul><li><code>Do you want Karma to watch all the files and run tests on change?</code><br>æ˜¯å¦éœ€è¦ Karma è‡ªåŠ¨ç›‘å¬æ–‡ä»¶ï¼Ÿå¹¶ä¸”æ–‡ä»¶ä¸€æ—¦è¢«ä¿®æ”¹ï¼Œå°±é‡æ–°è¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Ÿ</li></ul><p>æœ€ç»ˆ Karma ç”Ÿæˆå¦‚ä¸‹çš„é…ç½®æ–‡ä»¶ <code>karma.conf.js</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">// Karma configuration</span><br><span class="line">// Generated <span class="keyword">on</span> Wed Mar <span class="number">18</span> <span class="number">2018</span> <span class="number">14</span>:<span class="number">36</span>:<span class="number">01</span> GMT+<span class="number">0800</span> (GMT+<span class="number">08</span>:<span class="number">00</span>)</span><br><span class="line"></span><br><span class="line">module.exports = <span class="function"><span class="keyword">function</span><span class="params">(config)</span> &#123;</span></span><br><span class="line">  config.<span class="keyword">set</span>(&#123;</span><br><span class="line"></span><br><span class="line">    // base path that will <span class="keyword">be</span> used <span class="keyword">to</span> <span class="built_in">resolve</span> <span class="keyword">all</span> patterns (eg. <span class="keyword">files</span>, exclude)</span><br><span class="line">    basePath: <span class="string">''</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // frameworks <span class="keyword">to</span> use</span><br><span class="line">    // available framework<span class="variable">s:</span> http<span class="variable">s:</span>//npmjs.org/<span class="keyword">browse</span>/keyword/karma-adapter</span><br><span class="line">    framework<span class="variable">s:</span> [<span class="string">'jasmine'</span>],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // <span class="keyword">list</span> of <span class="keyword">files</span> / patterns <span class="keyword">to</span> load in the browser</span><br><span class="line">    <span class="keyword">file</span><span class="variable">s:</span> [</span><br><span class="line">      <span class="string">"test/**/*.js"</span>,</span><br><span class="line">      <span class="string">"test/**/*Spec.js"</span>,</span><br><span class="line">      // &#123;</span><br><span class="line">      //   pattern: <span class="string">'test/**/*.js'</span>,</span><br><span class="line">      //   // false è¡¨ç¤ºåˆå§‹åŒ–çš„æ—¶å€™ä¸ä¼šä½¿ç”¨ script æ ‡ç­¾ç›´æ¥å°†ç›¸å…³ js å¼•å…¥åˆ°æµè§ˆå™¨ï¼Œéœ€è¦è‡ªå·±å†™ä»£ç åŠ è½½</span><br><span class="line">      //   included: false</span><br><span class="line">      // &#125;,</span><br><span class="line">      // &#123;</span><br><span class="line">      //   pattern: <span class="string">'test/**/*Spec.js'</span>,</span><br><span class="line">      //   included: false</span><br><span class="line">      // &#125;</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // <span class="keyword">list</span> of <span class="keyword">files</span> / patterns <span class="keyword">to</span> exclude</span><br><span class="line">    exclude: [</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // preprocess matching <span class="keyword">files</span> before serving them <span class="keyword">to</span> the browser</span><br><span class="line">    // available preprocessor<span class="variable">s:</span> http<span class="variable">s:</span>//npmjs.org/<span class="keyword">browse</span>/keyword/karma-preprocessor</span><br><span class="line">    preprocessor<span class="variable">s:</span> &#123;<span class="string">'test/**/*.js'</span>: <span class="string">'coverage'</span> &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // test results reporter <span class="keyword">to</span> use</span><br><span class="line">    // possible value<span class="variable">s:</span> <span class="string">'dots'</span>, <span class="string">'progress'</span></span><br><span class="line">    // available reporter<span class="variable">s:</span> http<span class="variable">s:</span>//npmjs.org/<span class="keyword">browse</span>/keyword/karma-reporter</span><br><span class="line">    reporter<span class="variable">s:</span> [<span class="string">'progress'</span>, <span class="string">'coverage'</span>],</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">    // è¦†ç›–ç‡æŠ¥å‘Šå™¨é…ç½®</span><br><span class="line">    coverageReporter: &#123;</span><br><span class="line">      <span class="built_in">type</span>: <span class="string">'html'</span>,</span><br><span class="line">      dir: <span class="string">'coverage/'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // web server port</span><br><span class="line">    por<span class="variable">t:</span> <span class="number">9876</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // enable / disable colors in the output (reporters <span class="built_in">and</span> logs)</span><br><span class="line">    color<span class="variable">s:</span> true,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // level of logging</span><br><span class="line">    // possible value<span class="variable">s:</span> config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG</span><br><span class="line">    logLeve<span class="variable">l:</span> config.LOG_INFO,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // enable / disable watching <span class="keyword">file</span> <span class="built_in">and</span> executing tests whenever any <span class="keyword">file</span> <span class="keyword">changes</span></span><br><span class="line">    autoWatch: true,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // start these browsers</span><br><span class="line">    // available browser launcher<span class="variable">s:</span> http<span class="variable">s:</span>//npmjs.org/<span class="keyword">browse</span>/keyword/karma-launcher</span><br><span class="line">    // - Chrome, ChromeCanary, Firefox, Opera, Safari (<span class="keyword">only</span> Mac), PhantomJS,</span><br><span class="line">    // IE (<span class="keyword">only</span> Windows) </span><br><span class="line">    browser<span class="variable">s:</span> [<span class="string">'Chrome'</span>],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // Continuous Integration <span class="keyword">mode</span></span><br><span class="line">    // <span class="keyword">if</span> true, Karma captures browsers, runs the tests <span class="built_in">and</span> exits</span><br><span class="line">    singleRun: false,</span><br><span class="line"></span><br><span class="line">    // Concurrency level</span><br><span class="line">    // how many browser should <span class="keyword">be</span> started simultaneous</span><br><span class="line">    concurrency: Infinity</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    // å‚è€ƒå…¶ä»–é…ç½®</span><br><span class="line">    // will <span class="keyword">be</span> resolved <span class="keyword">to</span> basePath (in the same way <span class="keyword">as</span> <span class="keyword">files</span>/exclude patterns) </span><br><span class="line">    junitReporter: &#123;outputFile: <span class="string">'test-results.xml'</span>&#125;, </span><br><span class="line"></span><br><span class="line">    // If browser does not capture in given timeout [ms], kill it </span><br><span class="line">    captureTimeou<span class="variable">t:</span> <span class="number">20000</span>, </span><br><span class="line"></span><br><span class="line">    // report which specs are slower than <span class="number">500</span>ms </span><br><span class="line">    reportSlowerThan: <span class="number">500</span>, </span><br><span class="line"></span><br><span class="line">    plugin<span class="variable">s:</span> [</span><br><span class="line">    <span class="string">'karma-jasmine'</span></span><br><span class="line">    ] </span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="karma-jasminae-è‡ªåŠ¨åŒ–å•å…ƒæµ‹è¯•">Karma + Jasminae è‡ªåŠ¨åŒ–å•å…ƒæµ‹è¯•</span></h3><p>æµ‹è¯•é¡¹ç›® <code>Karma-test</code> ç›®å½•ä¸ºï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Karma-test</span><br><span class="line"><span class="bullet">    - </span>corverage (æ­¤ç›®å½•ä¼šåœ¨åé¢è¦†ç›–ç‡è‡ªåŠ¨ç”Ÿæˆï¼Œæš‚å¿½ç•¥)</span><br><span class="line"><span class="bullet">        - </span>...</span><br><span class="line"><span class="bullet">    - </span>test</span><br><span class="line"><span class="bullet">        - </span>index.js</span><br><span class="line"><span class="bullet">        - </span>indexSpec.js</span><br><span class="line"><span class="bullet">    - </span>karma.conf.js</span><br></pre></td></tr></table></figure><ol><li>åˆ›å»ºæºæ–‡ä»¶(**.js ä¾‹ï¼šindex.js)ï¼šç”¨äºå®ç°æŸç§ä¸šåŠ¡é€»è¾‘çš„æ–‡ä»¶ï¼Œå¹³æ—¶å†™çš„jsè„šæœ¬ï¼›<br>åœ¨ <code>index.js</code> å®ç°ä¸€ä¸ªæ±‚å’Œè¿ç®—ï¼š</li></ol><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">add</span>(number) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">number</span> + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºæµ‹è¯•æ–‡ä»¶(**Spec.js ä¾‹ï¼šindexSpec.js)ï¼šç¬¦åˆ <code>JasmineAPI</code> çš„æµ‹è¯•JSè„šæœ¬ï¼›<br>åœ¨ <code>indexSpec.js</code> ä¸­å®ç°æµ‹è¯•ç»“æœï¼š</li></ol><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">"test add function"</span>, function () &#123;</span><br><span class="line">    it(<span class="string">"test function"</span>, function () &#123;</span><br><span class="line">        expect(<span class="name">add</span>(<span class="number">1</span>)).toBe(<span class="number">2</span>)<span class="comment">;Â Â Â  // add(1)æ˜¯index.jsä¸­çš„æ–¹æ³•ï¼ŒtoBe(2)æ˜¯æœŸæœ›çš„ç»“æœã€‚</span></span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">&#125;)<span class="comment">;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>ä¿®æ”¹ <code>karma.conf.js</code> é…ç½®æ–‡ä»¶ï¼›</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬ç‰‡æ®µï¼Œä»¥åˆå§‹åŒ–ç”Ÿæˆä¸ºå‡†</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</span><br><span class="line">    config.set(&#123;</span><br><span class="line"></span><br><span class="line">        preprocessors: &#123;<span class="string">'test/**/*.js'</span>: <span class="string">'coverage'</span> &#125;,</span><br><span class="line">        reporters: [<span class="string">'progress'</span>, <span class="string">'coverage'</span>],</span><br><span class="line">        <span class="comment">// è¦†ç›–ç‡æŠ¥å‘Šå™¨é…ç½®</span></span><br><span class="line">        coverageReporter: &#123;</span><br><span class="line">            type: <span class="string">'html'</span>,</span><br><span class="line">            dir: <span class="string">'coverage/'</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="4"><li>å¯åŠ¨karma å•å…ƒæµ‹è¯•å…¨è‡ªåŠ¨æ‰§è¡Œ<br><code>$ karma start karma.conf.js</code>  OR <code>$ karma start karma.conf.js --log-level debug --single-run</code> // æ­¤æ—¶ï¼ŒKarma ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œå¹¶è¿è¡Œç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ï¼Œè€Œæ‰§è¡Œç»“æœä¼šè¾“å‡ºåˆ°æ§åˆ¶å°ã€‚<br><strong>è¾“å‡ºå¦‚ä¸‹ï¼š</strong></li></ol><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*****deMacBook-Pro:Karma-test *****$ karma start karma.conf.js</span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">08.978</span>:WARN [filelist]: All files matched by <span class="string">"/Users/weichanglu/Desktop/Karma-test/test/**/*Spec.js"</span> were excluded <span class="keyword">or</span> matched by prior matchers.</span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">09.111</span>:WARN [karma]: No captured browser, open http:<span class="comment">//localhost:9876/</span></span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">09.167</span>:INFO [karma-server]: Karma v4<span class="number">.4</span><span class="number">.1</span> server started at http:<span class="comment">//0.0.0.0:9876/</span></span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">09.167</span>:INFO [launcher]: Launching browsers Chrome with concurrency unlimited</span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">09.181</span>:INFO [launcher]: Starting browser Chrome</span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">12.770</span>:INFO [Chrome <span class="number">79.0</span><span class="number">.3945</span> (Mac OS X <span class="number">10.15</span><span class="number">.1</span>)]: Connected on socket fNwvZpUHRXSnHHXsAAAA with id <span class="number">33904973</span></span><br><span class="line">Chrome <span class="number">79.0</span><span class="number">.3945</span> (Mac OS X <span class="number">10.15</span><span class="number">.1</span>): Executed <span class="number">1</span> of <span class="number">1</span> SUCCESS (<span class="number">0.005</span> secs / <span class="number">0.001</span> secs)</span><br><span class="line">TOTAL: <span class="number">1</span> SUCCESS</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€é¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹;</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Karma v4<span class="number">.4</span><span class="number">.1</span> - connected                                              DEBUG</span><br><span class="line"></span><br><span class="line">Chrome <span class="number">79.0</span><span class="number">.3945</span> (Mac OS X <span class="number">10.15</span><span class="number">.1</span>) <span class="keyword">is</span> idle</span><br></pre></td></tr></table></figure><ol start="5"><li>è°ƒè¯•åŠå…¶ä»–<br>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬åªæƒ³è¦è¿è¡ŒæŸä¸€ä¸ªsuiteä¸­çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå·¥ç¨‹ï¼Œæ¯”å¦‚åœ¨Jasmineä¸­ï¼š</li></ol><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">"test sum function"</span>, function () &#123;</span><br><span class="line">    it(<span class="string">"test function"</span>, function () &#123;</span><br><span class="line">        expect(<span class="name">sum</span>(<span class="number">1</span>)).toBe(<span class="number">2</span>)<span class="comment">;Â Â Â  //sum(1)æ˜¯index.jsä¸­çš„æ–¹æ³•ï¼ŒtoBe(2)æ˜¯æœŸæœ›çš„ç»“æœã€‚</span></span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">&#125;)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>åªéœ€è¦å°† <code>describe</code> ä¿®æ”¹ä¸º <code>ddescribe</code> å³å¯ï¼Œç±»ä¼¼çš„ï¼Œå¦‚æœåªéœ€è¦è¿è¡ŒæŸä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåªéœ€è¦å°† <code>it</code> ä¿®æ”¹ä¸º <code>iit</code> å³å¯ã€‚<br>å¦å¤–ï¼ŒKarmaè¿˜æä¾›äº†debuggeråŠŸèƒ½ï¼Œåœ¨æµ‹è¯•ç”¨ä¾‹ä¸­åŠ å…¥ï¼š <code>debugger;</code><br>ç”±äºåœ¨è¿è¡Œæ—¶ï¼Œkarmaå®é™…ä¸Šä¼šå¯åŠ¨ä¸€ä¸ªçœŸå®åœ°æµè§ˆå™¨ï¼Œæ‰€ä»¥å¯ä»¥åœ¨æµè§ˆå™¨çš„developer-toolä¸­è¿›è¡Œå®é™…çš„è°ƒè¯•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“è¿›å…¥è°ƒè¯•æ¨¡å¼æ—¶ï¼Œéœ€è¦å¯åŠ¨developer-tool(åœ¨Karmaå¯åŠ¨çš„é‚£ä¸ªæµè§ˆå™¨çª—å£ä¸­)ã€‚</p><p>é€šè¿‡ä¿®æ”¹éªŒè¯æµ‹è¯•ç»“æœæ–‡ä»¶ <code>indexSpec.js</code> è¿›è¡Œæµ‹è¯•å³å¯ï¼Œç”±äºkarma.conf.jsé…ç½®æ–‡ä»¶ä¸­ <code>autoWatch: true</code> , <code>indexSpec.js</code> æ–‡ä»¶ä¿å­˜åï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œå•å…ƒæµ‹è¯•ã€‚<br>æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—ï¼ŒéªŒè¯æµ‹è¯•ç»“æœï¼š</p><ol><li><strong>ç»ˆç«¯æ—¥å¿—</strong></li><li><strong>æµè§ˆå™¨F12å¼€å‘è€…æ¨¡å¼</strong></li></ol><h3><span id="karma-ä»£ç è¦†ç›–ç‡">Karma ä»£ç è¦†ç›–ç‡</span></h3><ol><li>éœ€è¦å®‰è£…ä¾èµ– <code>karma-coverage</code> å‘½ä»¤ï¼š<code>$ npm install karma-coverage --save-dev</code>ï¼Œè¿˜æ˜¯å»ºè®®å®‰è£…åˆ°é¡¹ç›®ç›®å½•ä¸­ï¼Œä»¥ä¾¿äºè¿ç§»ã€‚</li><li>ä¿®æ”¹<code>karma.conf.js</code>é…ç½®æ–‡ä»¶</li></ol><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">reporters</span>: [<span class="string">'progress'</span>, <span class="string">'coverage'</span>],</span><br><span class="line"></span><br><span class="line"><span class="attribute">preprocessors</span>: &#123;<span class="string">'test/**/*.js'</span>: <span class="string">'coverage'</span> &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦†ç›–ç‡æŠ¥å‘Šå™¨é…ç½®</span></span><br><span class="line"><span class="attribute">coverageReporter</span>: &#123;</span><br><span class="line">  <span class="attribute">type</span>: <span class="string">'html'</span>,</span><br><span class="line">  <span class="attribute">dir</span>: <span class="string">'coverage/'</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><ol start="3"><li>å¯åŠ¨ <code>karma start karma.conf.js</code> ï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆ <code>coverage</code> ç›®å½•ï¼Œåœ¨å…¶ä¸‹é¢æ‰¾åˆ°index.htmlæ–‡ä»¶ï¼ˆcoverage/chrome/index.htmlï¼‰ï¼Œæµè§ˆå™¨æ‰“å¼€ï¼Œä¾¿çœ‹åˆ°ä»£ç æµ‹è¯•è¦†ç›–ç»¿æŠ¥å‘Šã€‚<br>é€šè¿‡ä¿®æ”¹ä¸šåŠ¡ä»£ç ï¼ˆindex.jsï¼‰ï¼Œæ¥è§‚æµ‹è¦†ç›–ç‡å˜åŒ–ã€‚<br>ä¸ºäº†äº§å“çš„è´¨é‡è¦å°½é‡è¾¾åˆ°æ›´å¤šçš„è¦†ç›–ç‡ï¼Œä¸€èˆ¬å¯¹äºJAVAé¡¹ç›®æ¥è¯´ï¼Œèƒ½è¾¾åˆ°80%å°±æ˜¯ç›¸å½“é«˜çš„æ ‡å‡†äº†ã€‚</li></ol><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">All files</span><br><span class="line"><span class="number">100</span>% Statements <span class="number">4</span>/<span class="number">4100</span>% Branches <span class="number">0</span>/<span class="number">0100</span>% Functions <span class="number">3</span>/<span class="number">3100</span>% Lines <span class="number">4</span>/<span class="number">4</span></span><br><span class="line">Press n <span class="keyword">or</span> j to go to the next uncovered block, b, p <span class="keyword">or</span> k <span class="keyword">for</span> the previous block.</span><br><span class="line"></span><br><span class="line">FileStatementsBranchesFunctionsLines</span><br><span class="line">index.js</span><br><span class="line"><span class="number">100</span>%<span class="number">1</span>/<span class="number">1</span><span class="number">100</span>%<span class="number">0</span>/<span class="number">0</span><span class="number">100</span>%<span class="number">1</span>/<span class="number">1</span><span class="number">100</span>%<span class="number">1</span>/<span class="number">1</span></span><br><span class="line">indexSpec.js</span><br><span class="line"><span class="number">100</span>%<span class="number">3</span>/<span class="number">3</span><span class="number">100</span>%<span class="number">0</span>/<span class="number">0</span><span class="number">100</span>%<span class="number">2</span>/<span class="number">2</span><span class="number">100</span>%<span class="number">3</span>/<span class="number">3</span></span><br></pre></td></tr></table></figure><p><strong><u><a href="https://github.com/cl9000/Karma-test" target="_blank" rel="noopener">æµ‹è¯•ä»£ç gitåœ°å€</a></u></strong></p><h3><span id="å‚è€ƒèµ„æº">å‚è€ƒèµ„æº</span></h3><p><a href="http://karma-runner.github.io/1.0/index.html" target="_blank" rel="noopener">Karma å®˜ç½‘</a><br><a href="https://jasmine.github.io/tutorials/your_first_suite" target="_blank" rel="noopener">Jasmine å®˜ç½‘</a><br><a href="https://www.npmjs.com/search?q=keywords:karma-plugin" target="_blank" rel="noopener">Karma å®˜ç½‘ plugins éƒ¨åˆ†</a><br><a href="https://www.ibm.com/developerworks/cn/web/wa-lo-use-karma-jasmine-build-test-environment/index.html#icomments" target="_blank" rel="noopener">ä½¿ç”¨ Karma + Jasmine æ„å»º Web æµ‹è¯•ç¯å¢ƒ</a><br><a href="http://icodeit.org/2013/10/using-karma-as-the-javascript-test-runner/" target="_blank" rel="noopener">ä½¿ç”¨Karmaè¿è¡ŒJavaScriptæµ‹è¯•</a><br><a href="http://blog.fens.me/nodejs-karma-jasmine/" target="_blank" rel="noopener">Karmaå’ŒJasmineè‡ªåŠ¨åŒ–å•å…ƒæµ‹è¯•</a><br><a href="https://yq.aliyun.com/articles/4194" target="_blank" rel="noopener">karma æµ‹è¯•æ¡†æ¶çš„å‰ä¸–ä»Šç”Ÿ</a><br><a href="https://www.cnblogs.com/jasmine-95/p/6054839.html" target="_blank" rel="noopener">Karma+Jasmineå®ç°è‡ªåŠ¨åŒ–å•å…ƒæµ‹è¯•</a><br><a href="https://www.cnblogs.com/haogj/p/5204126.html" target="_blank" rel="noopener">Karmaï¼š1. é›†æˆ Karma å’Œ Jasmine è¿›è¡Œå•å…ƒæµ‹è¯•</a><br><a href="https://segmentfault.com/a/1190000005848842" target="_blank" rel="noopener">karma å…¥é—¨</a><br><a href="https://blog.csdn.net/anneCoder/article/details/80854101" target="_blank" rel="noopener">JSæµ‹è¯•å·¥å…·karmaåŠåº”ç”¨</a><br><a href="https://blog.csdn.net/xishaoguo/article/details/82621019?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task" target="_blank" rel="noopener">å‰ç«¯å•å…ƒæµ‹è¯•å·¥å…·â€”â€”karmaå®‰è£…ä½¿ç”¨</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3&gt;&lt;span id=&quot;karma-jasmine-æ„å»º-web-æµ‹è¯•ç¯å¢ƒ&quot;&gt;Karma + Jasmine æ„å»º Web æµ‹è¯•ç¯å¢ƒ&lt;/span&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;span id=&quot;jasmine-ç®€ä»‹&quot;&gt;Jasmine ç®€ä»‹&lt;/span&gt;&lt;/h3&gt;
&lt;!-- &lt;img 
      
    
    </summary>
    
    
      <category term="Karma" scheme="https://cl9000.github.io/categories/Karma/"/>
    
      <category term="Jasmine" scheme="https://cl9000.github.io/categories/Karma/Jasmine/"/>
    
      <category term="Webæµ‹è¯•" scheme="https://cl9000.github.io/categories/Karma/Jasmine/Web%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="Karma" scheme="https://cl9000.github.io/tags/Karma/"/>
    
      <category term="Jasmine" scheme="https://cl9000.github.io/tags/Jasmine/"/>
    
      <category term="Webæµ‹è¯•" scheme="https://cl9000.github.io/tags/Web%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>iOSåˆ©ç”¨ Jenkins å®ç°è‡ªåŠ¨åŒ–æ‰“åŒ…ï¼ˆSVNç‰ˆï¼‰</title>
    <link href="https://cl9000.github.io/2017/12/24/iOS%E5%88%A9%E7%94%A8Jenkins%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85%EF%BC%88SVN%E7%89%88%EF%BC%89/"/>
    <id>https://cl9000.github.io/2017/12/24/iOS%E5%88%A9%E7%94%A8Jenkins%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85%EF%BC%88SVN%E7%89%88%EF%BC%89/</id>
    <published>2017-12-24T14:58:38.000Z</published>
    <updated>2020-04-27T01:56:19.818Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="macä¸Šå®‰è£…jekinsç®€å•ä»‹ç»">Macä¸Šå®‰è£…Jekinsç®€å•ä»‹ç»</span></h2><p>åœ¨æ­¤è®°å½•æƒå½“ä½œä¸ºç¬”è®°ï¼Œæˆ–æä¾›ç»™éœ€è¦çš„åŒå­¦å‚è€ƒï¼Œå¦‚æœ‰é—®é¢˜è¯·åŠæ—¶æå‡ºï¼Œè°¢è°¢å¤§å®¶å®¡é˜…ã€‚</p><h2><span id="jenkinså®‰è£…">Jenkinså®‰è£…</span></h2><p>1ã€æ‰‹åŠ¨å®‰è£… å» <a href="https://jenkins.io/index.html" target="_blank" rel="noopener">jenkinså®˜ç½‘</a>ä¸‹è½½ <code>Mac</code> ç‰ˆæœ¬å®‰è£…åŒ…è¿›è¡Œå®‰è£…<br>2ã€ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Homebrew</code> å®‰è£…ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š<br><code>$ brew install jenkins</code></p><p>å®‰è£…jenkinså®Œæˆåï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š<br><code>$ jenkins start æˆ–è€… jenkins</code></p><p>å¯åŠ¨jenkinsï¼›ç„¶åæµè§ˆå™¨æ‰“å¼€jenkinsï¼š<br><a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a></p><p>è¿›å…¥Getting Started é¡µé¢ä¼šå»æç¤ºUnlock Jenkinsï¼Œé‡æ–°è®¾ç½®ç”¨æˆ·ä¸å¯†ç ï¼Œæ‹·è´å½“å‰é¡µé¢æç¤ºçš„<strong>è·¯å¾„</strong>(çº¢è‰²)ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š<br><code>$ sudo cat è·¯å¾„</code></p><p>å›è½¦åï¼Œåœ¨ç»ˆç«¯ä¼šæœ‰ä¸€ä¸²å­—ç¬¦ä¸²è¾“å‡ºï¼Œæ‹·è´åˆ°Administrator passwordè¾“å…¥æ¡†ä¸­ï¼Œcontinue<br><code>ï¼ˆæˆ–è€…æŒ‰ç…§æç¤ºï¼Œæ‰¾åˆ°**ä¸Šé¢è·¯å¾„** è¿™ä¸ªç›®å½•ä¸‹ï¼Œè¿™ä¸ªç›®å½•è™½ç„¶æ˜¯å…±äº«ç›®å½•ï¼Œä½†æ˜¯æœ‰æƒé™çš„ï¼ŒéJenkinsç”¨æˆ·/secrets/ç›®å½•æ˜¯æ²¡æœ‰è¯»å†™æƒé™çš„ï¼Œæ‰“å¼€initialAdminPasswordæ–‡ä»¶ï¼Œå¤åˆ¶å‡ºå¯†ç ï¼‰</code></p><p><code>continue</code> å é»˜è®¤å®‰è£…æ’ä»¶ï¼Œå®Œåå›å»è¾“å…¥ä¸ªç”¨æˆ·ä¿¡æ¯ï¼Œä»¥åä¾¿ä½¿ç”¨æ­¤ç”¨æˆ·å»ç™»é™†äº†ã€‚</p><h2><span id="å®‰è£…æ’ä»¶">å®‰è£…æ’ä»¶</span></h2><p>è¿›å…¥jenkins é¦–é¡µåï¼Œè¿›å…¥ ç³»ç»Ÿç®¡ç†\ç®¡ç†æ’ä»¶ \ å¯é€‰æ’ä»¶<img src="http://upload-images.jianshu.io/upload_images/4665802-55558cae4e93d10e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><blockquote><p>å®‰è£…GitLabæ’ä»¶:<br>å› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯GitLabæ¥ç®¡ç†æºä»£ç ï¼ŒJenkinsæœ¬èº«å¹¶æ²¡æœ‰è‡ªå¸¦GitLabæ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¾æ¬¡é€‰æ‹© ç³»ç»Ÿç®¡ç†-&gt;ç®¡ç†æ’ä»¶ï¼Œåœ¨â€œå¯é€‰æ’ä»¶â€ä¸­é€‰ä¸­â€œGitLab Pluginâ€å’Œâ€œGitlab Hook Pluginâ€è¿™ä¸¤é¡¹ï¼Œç„¶åå®‰è£…ã€‚</p></blockquote><blockquote><p>å®‰è£…Xcodeæ’ä»¶:<br>åŒå®‰è£…GitLabæ’ä»¶çš„æ­¥éª¤ä¸€æ ·ï¼Œæˆ‘ä»¬ä¾æ¬¡é€‰æ‹©ç³»ç»Ÿç®¡ç†-&gt;ç®¡ç†æ’ä»¶ï¼Œåœ¨â€œå¯é€‰æ’ä»¶â€ä¸­é€‰ä¸­â€œXcode integrationâ€å®‰è£…ã€‚</p></blockquote><blockquote><p>å®‰è£…ç­¾åè¯ä¹¦ç®¡ç†æ’ä»¶:<br>iOSæ‰“åŒ…å†…æµ‹ç‰ˆæ—¶ï¼Œéœ€è¦å‘å¸ƒè¯ä¹¦åŠç›¸å…³ç­¾åæ–‡ä»¶ï¼Œå› æ­¤è¿™ä¸¤ä¸ªæ’ä»¶å¯¹äºç®¡ç†iOSè¯ä¹¦éå¸¸æ–¹ä¾¿ã€‚è¿˜æ˜¯åœ¨ç³»ç»Ÿç®¡ç†-&gt;ç®¡ç†æ’ä»¶ï¼Œåœ¨â€œå¯é€‰æ’ä»¶â€ä¸­é€‰ä¸­â€œCredentials Pluginâ€å’Œâ€œKeychains and Provisioning Profiles Managementâ€å®‰è£…ã€‚</p></blockquote><blockquote><p>å®‰è£…è„šæœ¬æ’ä»¶:<br>è¿™ä¸ªæ’ä»¶çš„åŠŸèƒ½ä¸»è¦æ˜¯ç”¨äºåœ¨buildåæ‰§è¡Œç›¸å…³è„šæœ¬ã€‚åœ¨ç³»ç»Ÿç®¡ç†-&gt;ç®¡ç†æ’ä»¶ï¼Œåœ¨â€œå¯é€‰æ’ä»¶â€ä¸­é€‰ä¸­â€œPost-Build Script Plug-inâ€å®‰è£…ã€‚</p></blockquote><p>ä»¥åå¯æ ¹æ®éœ€æ±‚å»æ·»åŠ ç›¸å…³çš„ç»„ä»¶ã€‚</p><h2><span id="jenkinsæ„å»ºé¡¹ç›®">jenkinsæ„å»ºé¡¹ç›®</span></h2><p>1ã€<strong>IOSè¯ä¹¦ç®¡ç†å’Œä¿®æ­£</strong><br>ç³»ç»Ÿç®¡ç†-&gt; Keychains and Provisioning Profiles Management<br><img src="http://upload-images.jianshu.io/upload_images/4665802-716faa6a6698d48d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png">è¿›å…¥æ­¤è·¯å¾„~/Library/Keychain/login.keychainï¼ˆæˆ‘æ˜¯æ‹·è´åˆ°æ¡Œé¢åä¸Šä¼ çš„ï¼‰æ ¹æ®æç¤ºè¾“å…¥ç›¸å…³å†…å®¹<br>ç‚¹å‡»Add Code Signing Identityæ·»åŠ å¯¹åº”çš„ç­¾å<img src="http://upload-images.jianshu.io/upload_images/4665802-e66343f261224ade.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>ä¸Šä¼ Provisioning Profilesæ–‡ä»¶ï¼Œxcodeçš„profileå­˜æ”¾åœ¨~/Library/MobileDevice/Provisioning Profiles/ä¸­ï¼Œæ‰¾åˆ°ä½ è¦çš„profileï¼Œä¸Šä¼ <img src="http://upload-images.jianshu.io/upload_images/4665802-65ce8e0e50ae953d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>2ã€<strong>æ–°å»ºé¡¹ç›®</strong><br>New Item ------- é€‰æ‹©FreeStyle project<br><img src="http://upload-images.jianshu.io/upload_images/4665802-e524bbf435e411cd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>å…³è”SVNï¼Œç”¨äºä»svnä¸‹è½½ä»£ç <br><img src="http://upload-images.jianshu.io/upload_images/4665802-a4b17745042b17d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><strong>Poll SCM</strong>  (poll source code management)  è½®è¯¢æºç ç®¡ç†<br>éœ€è¦è®¾ç½®æºç çš„è·¯å¾„æ‰èƒ½èµ·åˆ°è½®è¯¢çš„æ•ˆæœã€‚ä¸€èˆ¬è®¾ç½®ä¸ºç±»ä¼¼ç»“æœï¼š 0/5 * * * * æ¯5åˆ†é’Ÿè½®è¯¢ä¸€æ¬¡</p><p><strong>Build periodically</strong> (å®šæ—¶build)<br>ä¸€èˆ¬è®¾ç½®ä¸ºç±»ä¼¼ï¼š 00 20 * * *   æ¯å¤© 20ç‚¹æ‰§è¡Œå®šæ—¶build ã€‚å½“ç„¶ä¸¤è€…çš„è®¾ç½®éƒ½æ˜¯ä¸€æ ·å¯ä»¥é€šç”¨çš„ã€‚</p><p><strong>æ ¼å¼:</strong><br>åˆ†é’Ÿ(0-59) å°æ—¶(0-23) æ—¥æœŸ(1-31) æœˆ(1-12) å‘¨å‡ (0-7,0å’Œ7éƒ½æ˜¯å‘¨æ—¥) <a href="https://link.jianshu.com?t=http://www.scmgalaxy.com/scm/setting-up-the-cron-jobs-in-jenkins-using-build-periodically-scheduling-the-jenins-job.html" target="_blank" rel="noopener">æ›´åŠ è¯¦ç»†çš„è®¾ç½®çœ‹è¿™é‡Œ</a><img src="http://upload-images.jianshu.io/upload_images/4665802-b5a416ef249dfd47.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>3ã€<strong>æ„å»ºç¯å¢ƒè®¾ç½®</strong><br>iOSæ‰“åŒ…éœ€è¦ç­¾åæ–‡ä»¶å’Œè¯ä¹¦ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†æˆ‘ä»¬å‹¾é€‰â€œKeychains and Code Signing Identitiesâ€å’Œâ€œMobile Provisioning Profilesâ€ã€‚<br>è¿™é‡Œæˆ‘ä»¬åˆéœ€è¦ç”¨åˆ°Jenkinsçš„æ’ä»¶ï¼Œåœ¨ç³»ç»Ÿç®¡ç†é¡µé¢ï¼Œé€‰æ‹©â€œKeychains and Provisioning Profiles Managementâ€ï¼Œ ï¼ˆæ­¤å¤„æ˜¯ä¸ªä¸Šé¢å·²ç»é…ç½®å¥½login.keychainã€è¯ä¹¦å’Œppæ–‡ä»¶ ï¼‰ã€‚å›åˆ°æˆ‘ä»¬æ–°å»ºçš„itemï¼Œæ‰¾åˆ°æ„å»ºç¯å¢ƒï¼ŒæŒ‰ä¸‹å›¾é€‰å¥½è‡ªå·±çš„ç›¸å…³è¯ä¹¦å’Œç­¾åæ–‡ä»¶(å›¾æ˜¯å€Ÿç”¨çš„)<br><img src="http://upload-images.jianshu.io/upload_images/4665802-c7365f1f2a6f1c36.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>4ã€<strong>æ·»åŠ Xcodeæ„å»ºæ­¥éª¤</strong><br>æ„å»ºçš„æ–¹å¼æœ‰ç¼–å†™è„šæœ¬å’ŒXcodeä¸¤ç§å¸¸ç”¨æ–¹å¼ã€‚ç¼–å†™è„šæœ¬çš„è¯ä¼šæ›´åŠ çµæ´»ï¼Œä½†æ˜¯è„šæœ¬å†™èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚è¿™é‡Œæˆ‘é€‰æ‹©ç”¨Xcodeçš„æ–¹å¼è¿›è¡Œæ„å»ºã€‚<br><img src="http://upload-images.jianshu.io/upload_images/4665802-b8ff4d4878115d1a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="http://upload-images.jianshu.io/upload_images/4665802-fb3adbadc4851bf3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="http://upload-images.jianshu.io/upload_images/4665802-960a72da31cec978.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><strong>æ­¤å¤„çš„ shema è‹¥æœ‰é—®é¢˜ å¯å¡«å†™å·¥ç¨‹å</strong></p><p><img src="http://upload-images.jianshu.io/upload_images/4665802-b3f823517949c02a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>å¡«å†™å®Œæ¯•åå¯ä»¥ç«‹å³æ„å»ºå·¥ä½œï¼ŒæˆåŠŸæˆ–å¤±è´¥å¯åœ¨Console OutputæŸ¥çœ‹æ—¥å¿—ï¼ˆå»è§£å†³ ï¼‰ã€‚æˆ–è€…ä½¿ç”¨å®æ—¶æŸ¥çœ‹æ—¥å¿—å‘½ä»¤<code>tail -f **.logè·¯å¾„</code></p><p>5ã€<strong>æ„å»ºåæ“ä½œ</strong><br>æ‰“åŒ…å®Œæˆè‡ªåŠ¨åŒ–ä¸Šä¼  <code>fir / è’²å…¬è‹±</code> ç¬¬ä¸‰æ–¹å¹³å°<br>è¦ä¸Šä¼ åˆ° <code>fir / è’²å…¬è‹±</code> ç¬¬ä¸‰æ–¹å¹³å°ï¼Œéƒ½éœ€è¦æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œè·å¾— <code>token</code>ï¼Œä¹‹åæ‰èƒ½è¿›è¡Œè„šæœ¬åŒ–æ“ä½œã€‚</p><ol><li><p>è‡ªåŠ¨åŒ–ä¸Šä¼ fir<br>å®‰è£…fir-clifirçš„å‘½ä»¤è¡Œå·¥å…· éœ€è¦å…ˆè£…å¥½rubyå†æ‰§è¡Œ<br><code>gem install fir-cli</code><br>#ä¸Šä¼ åˆ°fir<br><code>fir publish ${ipa_path} -T fir_token -c &quot;${commit_msg}&quot;</code></p></li><li><p>è‡ªåŠ¨åŒ–ä¸Šä¼ è’²å…¬è‹±(<a href="https://www.pgyer.com" target="_blank" rel="noopener">æå…‰å®˜æ–¹æ–‡æ¡£</a>)</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#è’²å…¬è‹±ä¸Šçš„User Key</span><br><span class="line">uKey=<span class="string">"7381f97070*****c01fae439fb8b24e"</span></span><br><span class="line">#è’²å…¬è‹±ä¸Šçš„API Key</span><br><span class="line">apiKey=<span class="string">"0b27b5c145*****718508f2ad0409ef4"</span></span><br><span class="line">#è¦ä¸Šä¼ çš„ipaæ–‡ä»¶è·¯å¾„</span><br><span class="line">IPA_PATH=<span class="string">"æ–‡ä»¶è·¯å¾„.ipa"</span></span><br><span class="line"></span><br><span class="line">rm -rf ***.ipa</span><br><span class="line"></span><br><span class="line">#æ‰§è¡Œä¸Šä¼ è‡³è’²å…¬è‹±çš„å‘½ä»¤</span><br><span class="line">echo <span class="string">"++++++++++++++upload+++++++++++++"</span></span><br><span class="line">curl -F <span class="string">"file=@$&#123;IPA_PATH&#125;"</span> -F <span class="string">"uKey=$&#123;uKey&#125;"</span> -F <span class="string">"_api_key=$&#123;apiKey&#125;"</span> http:<span class="comment">//www.pgyer.com/apiv1/app/upload</span></span><br></pre></td></tr></table></figure><p>å°†ä¸Šè¿°è„šæœ¬ä¿å­˜åˆ°ä¸€ä¸ª <code>*.sh</code> æ–‡ä»¶ä¸­ï¼Œ æˆªå›¾ï¼ˆå›¾å€Ÿçš„ï¼‰ä¸­æ”¹ä¸º <strong>/bin/sh  è„šæœ¬æ–‡ä»¶è·¯å¾„</strong> ï¼ˆä¸è¦ç”¨paythonï¼Œä¼šæŠ¥é”™ï¼‰ï¼Œä¿å­˜åå†æ¬¡æ„å»ºå³å¯ä¸Šä¼ åˆ°è’²å…¬è‹±äº†<br><img src="http://upload-images.jianshu.io/upload_images/4665802-1e343bf8195ddea6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><strong>æš‚æ—¶è®°å½•ï¼Œè¯¦ç»†å†æ›´æ–°ã€‚ã€‚ã€‚ã€‚ã€‚</strong></p><h2><span id="refrence">Refrence</span></h2><p><a href="http://m.blog.csdn.net/lijuan3203/article/details/69950229" target="_blank" rel="noopener">ä¸€æ­¥ä¸€æ­¥æ•™ä½ è‡ªåŠ¨åŒ–æ„å»ºï¼ˆJenkins+SVN+fir+CocoaPodsï¼‰</a><br><a href="https://www.jianshu.com/p/371595ef08fe" target="_blank" rel="noopener">Jenkins+ Xcode+ è’²å…¬è‹± å®ç°IOSè‡ªåŠ¨åŒ–æ‰“åŒ…å’Œåˆ†å‘</a><br><a href="https://www.pgyer.com/doc/view/jenkins_ios" target="_blank" rel="noopener">ä½¿ç”¨ Jenkins å®ç°æŒç»­é›†æˆ (iOS)</a><br><a href="http://blog.csdn.net/zhonggaorong/article/details/51436275" target="_blank" rel="noopener">iOSå¼€å‘ä¹‹Mac+jenkins+svnè‡ªåŠ¨åŒ–æ„å»º</a><br><a href="http://blog.csdn.net/u013602835/article/details/54632843" target="_blank" rel="noopener">æ­å»ºiOSè‡ªåŠ¨åŒ–æ‰“åŒ…å¹³å°(åˆ©ç”¨JenkinsæŒç»­é›†æˆiOSé¡¹ç›®)</a><br><a href="http://www.jianshu.com/p/382596b1f120" target="_blank" rel="noopener">iOSåˆ©ç”¨Jenkinså®ç°è‡ªåŠ¨åŒ–æ‰“åŒ…ï¼ˆSVNç‰ˆï¼‰</a><br><a href="https://www.jianshu.com/p/41ecb06ae95f" target="_blank" rel="noopener">æ‰‹æŠŠæ‰‹æ•™ä½ åˆ©ç”¨JenkinsæŒç»­é›†æˆiOSé¡¹ç›®</a><br><a href="http://blog.csdn.net/syg90178aw/article/details/52221765" target="_blank" rel="noopener"> Jenkinsè‡ªåŠ¨æ‰“åŒ… é…ç½®mac slaveèŠ‚ç‚¹</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;macä¸Šå®‰è£…jekinsç®€å•ä»‹ç»&quot;&gt;Macä¸Šå®‰è£…Jekinsç®€å•ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨æ­¤è®°å½•æƒå½“ä½œä¸ºç¬”è®°ï¼Œæˆ–æä¾›ç»™éœ€è¦çš„åŒå­¦å‚è€ƒï¼Œå¦‚æœ‰é—®é¢˜è¯·åŠæ—¶æå‡ºï¼Œè°¢è°¢å¤§å®¶å®¡é˜…ã€‚&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;jenkinså®‰è£…&quot;&gt;Jenkin
      
    
    </summary>
    
    
      <category term="iOS" scheme="https://cl9000.github.io/categories/iOS/"/>
    
      <category term="Jenkins" scheme="https://cl9000.github.io/categories/iOS/Jenkins/"/>
    
      <category term="è‡ªåŠ¨åŒ–æ‰“åŒ…" scheme="https://cl9000.github.io/categories/iOS/Jenkins/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85/"/>
    
    
      <category term="iOS" scheme="https://cl9000.github.io/tags/iOS/"/>
    
      <category term="Jenkins" scheme="https://cl9000.github.io/tags/Jenkins/"/>
    
      <category term="è‡ªåŠ¨åŒ–æ‰“åŒ…" scheme="https://cl9000.github.io/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>[Extension] Chromeæ‰©å±•ç¨‹åºå¼€å‘</title>
    <link href="https://cl9000.github.io/2017/09/11/Extension-Chrome%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/"/>
    <id>https://cl9000.github.io/2017/09/11/Extension-Chrome%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/</id>
    <published>2017-09-11T09:50:35.000Z</published>
    <updated>2020-03-12T03:06:22.933Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="chrome-extension">Chrome Extension</span></h4><h4><span id="ç¼˜ç”±">ç¼˜ç”±</span></h4><p>é‰´äºç»å¸¸ä½¿ç”¨Chromeæµè§ˆå™¨ï¼Œä¸€äº›ç”¨ç€æ¯”è¾ƒé¡ºæ‰‹çš„ <code>Chromeæ‰©å±•</code> å¯¹äºæé«˜ç”Ÿæ´»å¹¸ç¦æ•ˆç‡æœ‰ç€å¾ˆå¤§å¥½å¤„ã€‚éšå³ç¿»é˜…äº†ä¸‹å…³äº <code>Chromeæ‰©å±•</code> å¼€å‘ç›¸å…³çš„èµ„æ–™ã€‚éšå³æ•´ç†å¦‚ä¸‹ï¼›<br><a href="https://developer.chrome.com/extensions" target="_blank" rel="noopener">Chrome Extensions developer - APIæ–‡æ¡£</a></p><h4><span id="ç®€è¦è¯´æ˜">ç®€è¦è¯´æ˜</span></h4><p><code>Chromeæ‰©å±•</code> æ˜¯ä¸€ä¸ªç”¨WebæŠ€æœ¯å¼€å‘ã€ç”¨æ¥å¢å¼ºæµè§ˆå™¨åŠŸèƒ½çš„è½¯ä»¶ï¼Œä¸€ä¸ªç”±HTMLã€CSSã€JSã€imagesç­‰èµ„æºç»„æˆåç»ç¼–è¯‘å‘åŒ…çš„ä¸€ä¸ª <code>**.crx</code> åç¼€çš„å‹ç¼©åŒ…ã€‚æ‰©å±•å¯ä»¥å®šåˆ¶çˆ¬è™«ã€å±è”½å¹¿å‘Šã€ç½‘é¡µå®æ—¶æ•°æ®ã€ä¿®æ”¹http(s)è¯·æ±‚å¤´ç­‰ç­‰ã€‚å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å®šåˆ¶æ»¡è¶³è‡ªå·±åŠŸèƒ½çš„æ‰©å±•ï¼ˆExtensionï¼‰ã€‚</p><h5><span id="chromeå‘½ä»¤">Chrome://å‘½ä»¤</span></h5><blockquote><p>ç›´æ¥åœ¨ <code>Chrome</code> åœ°å€æ è¾“å…¥å›è½¦</p></blockquote><table><thead><tr><th>chrome://å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong><code>chrome://about</code></strong></td><td>æŸ¥çœ‹æ‰€æœ‰chrome:// åˆ—è¡¨</td></tr><tr><td><code>chrome://extensions</code></td><td>æ˜¾ç¤ºæ‰©å±•</td></tr><tr><td><code>chrome://settings</code></td><td>è®¾ç½®</td></tr><tr><td><code>chrome://version</code></td><td>æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬</td></tr><tr><td><code>chrome://history</code></td><td>å†å²è®°å½•</td></tr><tr><td><code>chrome://downloads</code></td><td>ä¸‹è½½æ–‡ä»¶</td></tr><tr><td><code>chrome://newtab</code></td><td>åˆ›å»ºæ–°æ ‡ç­¾</td></tr><tr><td><code>chrome://bookmarks</code></td><td>æ”¶è—çš„æ ‡ç­¾</td></tr><tr><td><code>chrome://apps</code></td><td>åº”ç”¨æ“ä½œç•Œé¢</td></tr><tr><td><code>chrome://components</code></td><td>ç»„ä»¶ä¿¡æ¯</td></tr><tr><td><code>chrome://net-internals</code></td><td>ç½‘ç»œäº‹ä»¶ä¿¡æ¯</td></tr><tr><td><code>chrome://memory-redirect</code></td><td>å†…å­˜ä½¿ç”¨çš„ç»Ÿè®¡ä¿¡æ¯</td></tr><tr><td><code>chrome://dns</code></td><td>æ˜¾ç¤ºä¸»æœºååˆ—è¡¨ã€DNS çŠ¶æ€</td></tr><tr><td><code>chrome://devices</code></td><td>è¿æ¥çš„è®¾å¤‡</td></tr><tr><td><code>chrome://flags</code></td><td>å®éªŒé¡¹ç›®ï¼ŒåŠ â€œ#é¡¹ç›®åç§°â€é”šç‚¹å¯ä»¥ç›´æ¥å®šä½åˆ°é¡¹ç›®</td></tr><tr><td><code>chrome://translate-internals</code></td><td>å†…ç½®ç¿»è¯‘åŠŸèƒ½é¡µé¢</td></tr><tr><td><code>chrome://quit</code></td><td>é€€å‡ºæµè§ˆå™¨</td></tr><tr><td><code>chrome://restart</code></td><td>é‡å¯æµè§ˆå™¨</td></tr></tbody></table><h4><span id="æ‰©å±•ç»“æ„">æ‰©å±•ç»“æ„</span></h4><h5><span id="é…ç½®æ–‡ä»¶-manifestjson">é…ç½®æ–‡ä»¶ - <code>manifest.json</code></span></h5><blockquote><p>æ‰©å±•å¿…é¡»æœ‰ <code>manifest.json</code> æ–‡ä»¶ï¼Œæ–‡ä»¶åŸºæœ¬å¦‚ä¸‹ï¼Œ<br>å®˜æ–¹æ¨¡æ¿ <strong><a href="https://developer.chrome.com/extensions/manifest" target="_blank" rel="noopener">manifest.json</a></strong>ã€‚</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    <span class="attr">"manifest_version"</span>: <span class="number">2</span>,  <span class="comment">// æ¸…å•æ–‡ä»¶çš„ç‰ˆæœ¬ï¼Œå›ºå®šå€¼ 2</span></span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"test echarts - æ’ä»¶çš„åç§°"</span>,</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"1.0"</span>,</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">"æ’ä»¶çš„æè¿°"</span>,</span><br><span class="line">    <span class="attr">"icons"</span>: &#123;</span><br><span class="line">        <span class="attr">"16"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">        <span class="attr">"48"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">        <span class="attr">"64"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">        <span class="attr">"128"</span>: <span class="string">"img/icon.png"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"commands"</span>: &#123;</span><br><span class="line">        <span class="attr">"_execute_browser_action"</span>: &#123;</span><br><span class="line">            <span class="attr">"suggested_key"</span>: &#123;</span><br><span class="line">                <span class="attr">"default"</span>: <span class="string">"Ctrl+Shift+V"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æ‰©å±•å›¾æ ‡è®¾ç½®ï¼Œbrowser_actionã€page_actionã€appå¿…é¡»ä¸‰é€‰ä¸€</span></span><br><span class="line">    <span class="attr">"browser_action"</span>: &#123;</span><br><span class="line">        <span class="attr">"default_popup"</span>: <span class="string">"index.html"</span>,</span><br><span class="line">        <span class="attr">"default_icon"</span>: <span class="string">"icon00.png"</span>,</span><br><span class="line">        <span class="attr">"default_title"</span>: <span class="string">"å›¾æ ‡æ‚¬åœæ—¶çš„title"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æ’ä»¶çš„è¿è¡Œç¯å¢ƒ</span></span><br><span class="line">    <span class="attr">"background"</span>: &#123; <span class="comment">// 2ç§æŒ‡å®šæ–¹å¼ï¼Œè‹¥è®¾ç½®äº†scriptså­—æ®µï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªèƒŒæ™¯é¡µ</span></span><br><span class="line">        <span class="attr">"page"</span>: <span class="string">"background.html"</span></span><br><span class="line">        <span class="comment">//"scripts": ["js/background.js"]</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æƒé™ç”³è¯·</span></span><br><span class="line">    <span class="attr">"permissions"</span>: [</span><br><span class="line">        <span class="string">"contextMenus"</span>, <span class="comment">// å³é”®èœå•</span></span><br><span class="line">        <span class="string">"tabs"</span>, <span class="comment">// æ ‡ç­¾</span></span><br><span class="line">        <span class="string">"notifications"</span>, <span class="comment">// é€šçŸ¥</span></span><br><span class="line">        <span class="string">"webRequest"</span>, <span class="comment">// webè¯·æ±‚</span></span><br><span class="line">        <span class="string">"webRequestBlocking"</span>,</span><br><span class="line">        <span class="string">"storage"</span>, <span class="comment">// æ’ä»¶æœ¬åœ°å­˜å‚¨</span></span><br><span class="line">        <span class="string">"http://*/*"</span>, <span class="comment">// å¯ä»¥é€šè¿‡executeScriptæˆ–è€…insertCSSè®¿é—®çš„ç½‘ç«™</span></span><br><span class="line">        <span class="string">"https://*/*"</span> <span class="comment">// å¯ä»¥é€šè¿‡executeScriptæˆ–è€…insertCSSè®¿é—®çš„ç½‘ç«™</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// å¯¹é¡µé¢å†…å®¹è¿›è¡Œæ“ä½œçš„è„šæœ¬</span></span><br><span class="line">    <span class="attr">"content_scripts"</span>: [ </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//"matches": ["http://*/*", "https://*/*"], // æ»¡è¶³æ¡ä»¶æ‰§è¡Œè¯¥æ’ä»¶ </span></span><br><span class="line">            <span class="comment">// "&lt;all_urls&gt;" è¡¨ç¤ºåŒ¹é…æ‰€æœ‰åœ°å€ </span></span><br><span class="line">            <span class="attr">"matches"</span>: [<span class="string">"&lt;all_urls&gt;"</span>],</span><br><span class="line">            <span class="comment">// å¤šä¸ªJSæŒ‰é¡ºåºæ³¨å…¥</span></span><br><span class="line">            <span class="attr">"js"</span>: [<span class="string">"js/jquery-1.8.3.js"</span>, <span class="string">"js/content-script.js"</span>],</span><br><span class="line">            <span class="attr">"css"</span>: [<span class="string">"css/custom.css"</span>],</span><br><span class="line">            <span class="comment">// ä»£ç æ³¨å…¥çš„æ—¶é—´ï¼Œå¯é€‰å€¼ï¼š "document_start", "document_end", or "document_idle"ï¼Œæœ€åä¸€ä¸ªè¡¨ç¤ºé¡µé¢ç©ºé—²æ—¶ï¼Œé»˜è®¤document_idle</span></span><br><span class="line">            <span class="attr">"run_at"</span>: <span class="string">"document_start"</span> <span class="comment">// åœ¨documentåŠ è½½æ—¶æ‰§è¡Œè¯¥è„šæœ¬</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// æ™®é€šé¡µé¢èƒ½å¤Ÿç›´æ¥è®¿é—®çš„æ’ä»¶èµ„æºåˆ—è¡¨ï¼Œå¦‚æœä¸è®¾ç½®æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„</span></span><br><span class="line">    <span class="attr">"web_accessible_resources"</span>: [<span class="string">"js/inject.js"</span>],</span><br><span class="line">    <span class="comment">// æ’ä»¶ä¸»é¡µï¼Œæ‰“å¼€æ‰©å±•ç¨‹åºä¸»é¡µ</span></span><br><span class="line">    <span class="attr">"homepage_url"</span>: <span class="string">"https://www.bing.com"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5><span id="é…ç½®å­—æ®µè¯´æ˜">é…ç½®å­—æ®µè¯´æ˜</span></h5><h6><span id="browser_action"><strong>browser_action</strong></span></h6><ol><li><p>å¦‚æœ <code>browser action</code> è®¾ç½®äº†<code>default_popup</code>ï¼Œpopup å¯ä»¥åŒ…å«ä»»æ„ä½ æƒ³è¦çš„HTMLå†…å®¹ï¼Œå¹¶ä¸”ä¼šè‡ªé€‚åº”å¤§å°ã€‚popup ä¼šåœ¨ç”¨æˆ·ç‚¹å‡»å›¾æ ‡åå‡ºç°ã€‚è‹¥æ²¡æœ‰è®¾ç½®default_popupï¼Œå°†æ‰§è¡Œ <code>chrome.browserAction.onClicked</code> çš„å†…å®¹ï¼Œè‹¥æ²¡æœ‰è®¾ç½®ï¼Œå°±ä»€ä¹ˆéƒ½ä¸æ‰§è¡Œäº†ã€‚</p></li><li><p>å’Œ <code>browser_action</code> å¯¹åº”çš„è¿˜æœ‰ä¸€ä¸ª <code>page_action</code>ï¼ŒåŒºåˆ«åœ¨äºï¼š<code>browser_action</code> å¯¹åœ¨æµè§ˆå™¨ä¸­åŠ è½½çš„æ‰€æœ‰ç½‘é¡µéƒ½ç”Ÿæ•ˆï¼›<code>page_action</code> é’ˆå¯¹ç‰¹å®šçš„ç½‘é¡µç”Ÿæ•ˆã€‚ä¸€ä¸ª<code>Extension</code>æœ€å¤šå¯ä»¥æœ‰ä¸€ä¸ª <code>browser_action</code> æˆ–  <code>page_action</code>ã€‚</p></li></ol><h6><span id="background"><strong>background</strong></span></h6><ol><li><p><code>background</code>æ˜¯æ’ä»¶çš„è¿è¡Œç¯å¢ƒã€‚è‹¥è®¾ç½®äº†<code>scripts</code>å­—æ®µï¼Œæµè§ˆå™¨çš„æ‰©å±•ç³»ç»Ÿä¼šè‡ªåŠ¨æ ¹æ®scriptså­—æ®µæŒ‡å®šçš„æ‰€æœ‰jsæ–‡ä»¶è‡ªåŠ¨ç”ŸæˆèƒŒæ™¯é¡µã€‚ä¹Ÿå¯ä½¿ç”¨ <code>page</code> å­—æ®µæŒ‡å®šèƒŒæ™¯é¡µï¼Œ<code>**äºŒè€…åªèƒ½è®¾ç½®ä¸€ä¸ª**</code>ã€‚</p></li><li><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šå°†æ‰©å±•çš„ä¸»è¦é€»è¾‘éƒ½æ”¾åœ¨ <code>background</code> ä¸­æ¯”è¾ƒä¾¿äºç®¡ç†ã€‚å…¶å®ƒé¡µé¢å¯ä»¥é€šè¿‡æ¶ˆæ¯ä¼ é€’çš„æœºåˆ¶ä¸ <code>background</code> è¿›è¡Œé€šè®¯ã€‚ç†è®ºä¸Š <code>content scripts</code> ä¸ popup ä¹‹é—´ä¹Ÿå¯ä»¥ä¼ é€’æ¶ˆæ¯ï¼Œä½†ä¸å»ºè®®è¿™ä¹ˆåšã€‚</p></li></ol><h6><span id="content-scripts">content-scripts</span></h6><ol><li><code>content-scripts</code> æ˜¯Chromeæ‰©å±•å‘é¡µé¢æ³¨å…¥è„šæœ¬çš„ä¸€ç§å½¢å¼ï¼ˆå¯åŒ…å«cssæ–‡ä»¶ï¼‰ï¼Œå€ŸåŠ©<code>content-scripts</code> å¯å®ç°é€šè¿‡é…ç½®çš„æ–¹å¼è½»æ¾å‘æŒ‡å®šé¡µé¢æ³¨å…¥<code>JSã€CSS</code>ï¼ˆå¦‚éœ€è¦åŠ¨æ€æ³¨å…¥ï¼Œå¯ä»¥å‚è€ƒä¸‹æ–‡ï¼‰ï¼Œæœ€å¸¸è§çš„æ¯”å¦‚ï¼šå¹¿å‘Šå±è”½ã€é¡µé¢CSSå®šåˆ¶ï¼Œç­‰ç­‰ã€‚</li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"content_scripts"</span>: [&#123;  <span class="regexp">//</span>å¯¹é¡µé¢å†…å®¹è¿›è¡Œæ“ä½œçš„è„šæœ¬</span><br><span class="line">     <span class="string">"matches"</span>: [<span class="string">"http://*/*"</span>,<span class="string">"https://*/*"</span>], <span class="regexp">//</span>æ»¡è¶³æ¡ä»¶æ‰§è¡Œè¯¥æ’ä»¶ </span><br><span class="line">     <span class="regexp">//</span><span class="string">"matches"</span>: [<span class="string">"&lt;all_urls&gt;"</span>], <span class="regexp">//</span> <span class="string">"&lt;all_urls&gt;"</span> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰åœ°å€ </span><br><span class="line">     <span class="string">"js"</span>: [<span class="string">"js/jquery-1.9.1.min.js"</span>, <span class="string">"js/js.js"</span>],</span><br><span class="line">     <span class="string">"css"</span>: [<span class="string">"css/custom.css"</span>],</span><br><span class="line">     <span class="string">"run_at"</span>: <span class="string">"document_start"</span>,  <span class="regexp">//</span>åœ¨documentåŠ è½½æ—¶æ‰§è¡Œè¯¥è„šæœ¬</span><br><span class="line">    &#125;]</span><br></pre></td></tr></table></figure><h5><span id="æ¡Œé¢é€šçŸ¥">æ¡Œé¢é€šçŸ¥</span></h5><p>Chromeæä¾›äº†ä¸€ä¸ª <code>chrome.notifications</code> APIä»¥ä¾¿æ’ä»¶æ¨é€æ¡Œé¢é€šçŸ¥</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chrome</span><span class="selector-class">.notifications</span><span class="selector-class">.create</span>(<span class="selector-tag">null</span>, &#123;</span><br><span class="line">    <span class="attribute">type</span>: <span class="string">'basic'</span>,</span><br><span class="line">    iconUrl: <span class="string">'img/icon.png'</span>,</span><br><span class="line">    title: <span class="string">'æ ‡é¢˜'</span>,</span><br><span class="line">    message: <span class="string">'æ¡Œé¢é€šçŸ¥'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5><span id="æ¶ˆæ¯é€šä¿¡">æ¶ˆæ¯é€šä¿¡</span></h5><p><a href="https://developer.chrome.com/extensions/messaging" target="_blank" rel="noopener">å®˜ç½‘ - æ¶ˆæ¯é€šä¿¡æ–‡æ¡£</a></p><h6><span id="æ™®é€šçš„æ¶ˆæ¯ä¼ é€’"><strong>æ™®é€šçš„æ¶ˆæ¯ä¼ é€’</strong></span></h6><p>é€šè¿‡<code>runtime</code>çš„<code>onMessage</code>ã€<code>sendMessage</code>ç­‰æ–¹æ³•ï¼Œå¯ä»¥åœ¨å„ä¸ªJSä¹‹é—´ä¼ é€’å¹¶ç›‘å¬æ¶ˆæ¯ã€‚<br>åœ¨popup.jsä¸­ï¼Œæˆ‘ä»¬è®©å®ƒåˆå§‹åŒ–ä¹‹åå‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chrome</span><span class="selector-class">.runtime</span><span class="selector-class">.sendMessage</span>(&#123;</span><br><span class="line">  <span class="attribute">method</span>: <span class="string">'showAlert'</span></span><br><span class="line">&#125;, <span class="selector-tag">function</span>(<span class="selector-tag">response</span>) &#123;&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨background.jsä¸­ï¼Œç›‘å¬æ¶ˆæ¯çš„æ¥æ”¶ï¼Œå¹¶è¿›è¡Œå¤„ç†ï¼š</p><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chrome.runtime.onMessage.addListener(function(<span class="class"><span class="keyword">message</span>, <span class="title">sender</span>, sendResponse) </span>&#123;</span><br><span class="line">  if (<span class="class"><span class="keyword">message</span>.<span class="title">method</span> === 'showAlert') </span>&#123;</span><br><span class="line">    alert('showAlert');</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong><code>chrome.runtime</code> çš„å¸¸ç”¨æ–¹æ³•ï¼š</strong></p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰æ‰©å±•ç¨‹åºä¸­æ­£åœ¨è¿è¡Œçš„åå°ç½‘é¡µçš„ JavaScript window å¯¹è±¡</span></span><br><span class="line">chrome.runtime.getBackgroundPage(<span class="function"><span class="keyword">function</span> <span class="params">(backgroundPage)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// backgroundPage å³ window å¯¹è±¡</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// å‘é€æ¶ˆæ¯</span></span><br><span class="line">chrome.runtime.sendMessage(message, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// response ä»£è¡¨æ¶ˆæ¯å›å¤ï¼Œå¯ä»¥æ¥å—åˆ°é€šè¿‡ sendResponse æ–¹æ³•å‘é€çš„æ¶ˆæ¯å›å¤</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ç›‘å¬æ¶ˆæ¯</span></span><br><span class="line">chrome.runtime.onMessage.addListener(<span class="function"><span class="keyword">function</span><span class="params">(message, sender, sendResponse)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// message å°±æ˜¯ä½ å‘é€çš„ message</span></span><br><span class="line">  <span class="comment">// sender ä»£è¡¨å‘é€è€…ï¼Œå¯ä»¥é€šè¿‡ sender.tab åˆ¤æ–­æ¶ˆæ¯æ˜¯å¦æ˜¯ä»å†…å®¹è„šæœ¬å‘å‡º</span></span><br><span class="line">  <span class="comment">// sendResponse å¯ä»¥ç›´æ¥å‘é€å›å¤ï¼Œå¦‚ï¼š</span></span><br><span class="line">  sendResponse(&#123;</span><br><span class="line">    method: <span class="string">'response'</span>,</span><br><span class="line">    message: <span class="string">'send a response'</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä¾¿ä½ åœ¨å¤šä¸ªJSä¸­æ³¨å†Œäº†æ¶ˆæ¯ç›‘å¬<code>onMessage.addListener</code>ï¼Œä¹Ÿåªæœ‰ä¸€ä¸ªç›‘å¬è€…èƒ½æ”¶åˆ°é€šè¿‡<code>runtime.sendMessage</code>å‘é€å‡ºå»çš„æ¶ˆæ¯ã€‚å¦‚æœéœ€è¦ä¸åŒçš„ç›‘å¬è€…åˆ†åˆ«ç›‘å¬æ¶ˆæ¯ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>chrome.tab</code> APIæ¥æŒ‡å®šæ¶ˆæ¯æ¥æ”¶å¯¹è±¡</p><h6><span id="é•¿-çŸ­è¿æ¥">é•¿ã€çŸ­è¿æ¥</span></h6><p>Chromeæ’ä»¶ä¸­æœ‰2ç§é€šä¿¡æ–¹å¼ï¼š<br>çŸ­è¿æ¥ï¼ˆ<code>chrome.tabs.sendMessage</code>ã€<code>chrome.runtime.sendMessage</code>ï¼‰</p><p>é€šè¿‡<code>chrome.runtime.connect</code>ï¼ˆæˆ–è€…<code>chrome.tabs.connect</code>ï¼‰å¯ä»¥å»ºç«‹èµ·ä¸åŒç±»å‹JSä¹‹é—´çš„é•¿é“¾æ¥ã€‚<br><strong>é•¿è¿æ¥ï¼š</strong><br><strong>popup.js</strong> ä¿¡æ¯çš„å‘é€è€…éœ€è¦åˆ¶å®šç‹¬ç‰¹çš„ä¿¡æ¯ç±»å‹ï¼Œå‘é€å¹¶ç›‘å¬ä¿¡æ¯ï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var<span class="built_in"> port </span>= chrome.runtime.connect(&#123;type: <span class="string">"connection"</span>&#125;);</span><br><span class="line">port.postMessage(&#123;</span><br><span class="line">  method: <span class="string">"add"</span>,</span><br><span class="line">  datas: [1, 2, 3]</span><br><span class="line">&#125;);</span><br><span class="line">port.onMessage.addListener(function(msg) &#123;</span><br><span class="line">  <span class="keyword">if</span> (msg.method === <span class="string">"answer"</span>) &#123;</span><br><span class="line">      console.log(msg.data);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>content-script.js</strong> è€Œæ¥å—è€…åˆ™è¦æ³¨å†Œç›‘å¬ï¼Œå¹¶åˆ¤æ–­æ¶ˆæ¯çš„ç±»å‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›‘å¬é•¿è¿æ¥</span></span><br><span class="line">chrome.runtime.onConnect.addListener(<span class="function"><span class="keyword">function</span>(<span class="params">port</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.assert(port.type == <span class="string">"connection"</span>);</span><br><span class="line">  port.onMessage.addListener(<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (msg.method == <span class="string">"add"</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> result = msg.datas.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">previousValue, currentValue, index, array</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> previousValue + currentValue;</span><br><span class="line">  &#125;);</span><br><span class="line">      port.postMessage(&#123;</span><br><span class="line">        method: <span class="string">"answer"</span>,</span><br><span class="line">        data: result</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h6><span id="chrometabs"><strong><code>chrome.tabs</code></strong></span></h6><p>è¦ä½¿ç”¨è¿™ä¸ªAPIåˆ™éœ€è¦å…ˆåœ¨<code>manifest.json</code>ä¸­æ³¨å†Œï¼š</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"permissions"</span>: [</span><br><span class="line">  <span class="string">"tabs"</span>,</span><br><span class="line">  <span class="string">//</span> <span class="string">...</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–åˆ°å½“å‰çš„Tab</span></span><br><span class="line">chrome.tabs.getCurrent(<span class="function"><span class="keyword">function</span><span class="params">(tab)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// é€šè¿‡ tab.id å¯ä»¥æ‹¿åˆ°æ ‡ç­¾é¡µçš„ID</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ queryInfoï¼Œä»¥Arrayçš„å½¢å¼ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„tabs</span></span><br><span class="line">chrome.tabs.query(queryInfo, <span class="function"><span class="keyword">function</span><span class="params">(tabs)</span> </span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç²¾å‡†çš„ç»™æŸä¸ªé¡µé¢çš„`content_scripts`å‘é€æ¶ˆæ¯</span></span><br><span class="line">chrome.tabs.sendMessage(tabId, message, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;&#125;);</span><br></pre></td></tr></table></figure><p>ä¾‹å­ åœ¨background.jsä¸­ï¼Œæˆ‘ä»¬è·å–åˆ°å½“å‰Tabï¼Œå¹¶å‘é€æ¶ˆæ¯ï¼š</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">chrome.tabs.getCurrent(<span class="function"><span class="keyword">function</span><span class="params">(tab)</span> </span>&#123;</span><br><span class="line">  chrome.tabs.sendMessage(tab.id, &#123;</span><br><span class="line">    method: <span class="string">'tab'</span>,</span><br><span class="line">    message: <span class="string">'get active tab'</span></span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line">chrome.tabs.query(&#123;active: <span class="literal">true</span>, currentWindow: <span class="literal">true</span>&#125;, <span class="function"><span class="keyword">function</span><span class="params">(tabs)</span> </span>&#123;</span><br><span class="line">  chrome.tabs.sendMessage(tabs[<span class="number">0</span>].id, &#123;</span><br><span class="line">    method: <span class="string">'tab'</span>,</span><br><span class="line">    message: <span class="string">'get active tab'</span></span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨content_scriptsä¸­ï¼Œè¿›è¡Œæ¶ˆæ¯ç›‘å¬ï¼š</p><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chrome.runtime.onMessage.addListener(function(<span class="class"><span class="keyword">message</span>, <span class="title">sender</span>, sendResponse) </span>&#123;</span><br><span class="line">  if (<span class="class"><span class="keyword">message</span>.<span class="title">method</span> === 'tab') </span>&#123;</span><br><span class="line">    console.log(<span class="class"><span class="keyword">message</span>.<span class="title">message</span>);</span></span><br><span class="line"><span class="class">  &#125;</span></span><br><span class="line"><span class="class">&#125;);</span></span><br></pre></td></tr></table></figure><h6><span id="chromestorage"><strong><code>chrome.storage</code></strong></span></h6><p><code>chrome.storage</code> æ˜¯ä¸€ä¸ªåŸºäº<code>localStorage</code>çš„æœ¬åœ°å‚¨å­˜ï¼Œä½†chromeå¯¹å…¶è¿›è¡Œäº†IOçš„ä¼˜åŒ–ï¼Œå¯ä»¥å‚¨å­˜å¯¹è±¡å½¢å¼çš„æ•°æ®ï¼Œä¹Ÿä¸ä¼šå› ä¸ºæµè§ˆå™¨å®Œå…¨å…³é—­è€Œæ¸…ç©ºã€‚<br>ä½¿ç”¨è¿™ä¸ªAPIéœ€è¦å…ˆåœ¨<code>manifest.json</code>ä¸­æ³¨å†Œï¼š</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"permissions"</span>: [</span><br><span class="line">  <span class="string">"storage"</span>,</span><br><span class="line">  <span class="string">//</span> <span class="string">...</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><code>chrome.storage</code> æœ‰ä¸¤ç§å½¢å¼ï¼Œ<code>chrome.storage.sync</code> å’Œ <code>chrome.storage.local</code>ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°æ®å‚¨å­˜</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">StorageArea</span>.</span></span>set(object items, <span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®è·å–</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">StorageArea</span>.</span></span>get(<span class="built_in">string</span> <span class="keyword">or</span> <span class="built_in">array</span> <span class="keyword">of</span> <span class="built_in">string</span> <span class="keyword">or</span> object keys, <span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®ç§»é™¤</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">StorageArea</span>.</span></span>remove(<span class="built_in">string</span> <span class="keyword">or</span> <span class="built_in">array</span> <span class="keyword">of</span> <span class="built_in">string</span> keys, <span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºå…¨éƒ¨å‚¨å­˜</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">StorageArea</span>.</span></span>clear(<span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬å‚¨å­˜çš„å˜åŒ–</span></span><br><span class="line">chrome.storage.onChanged.add<span class="constructor">Listener(<span class="params">function</span>(<span class="params">changes</span>, <span class="params">namespace</span>)</span> &#123;&#125;);</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ åœ¨<code>browser_action</code>å®Œæˆäº†ç”¨æˆ·çš„ç™»å½•/æ³¨å†Œæ“ä½œï¼Œå°†éƒ¨åˆ†ç”¨æˆ·ä¿¡æ¯å‚¨å­˜åœ¨storageä¸­ã€‚æ¯æ¬¡åˆå§‹åŒ–æ—¶ï¼Œéƒ½ä¼šæ£€æŸ¥æ˜¯å¦æœ‰å‚¨å­˜ï¼Œæ²¡æœ‰çš„è¯åˆ™éœ€è¦ç”¨æˆ·ç™»å½•ï¼ŒæˆåŠŸåå†æ·»åŠ ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// browser_action</span><br><span class="line">// js.popup.js</span><br><span class="line"></span><br><span class="line">chrome.<span class="keyword">storage</span>.sync.<span class="keyword">get</span>(<span class="string">'user'</span>, <span class="keyword">function</span>(result) &#123;</span><br><span class="line">  // é€šè¿‡ result.<span class="keyword">user</span> è·å–åˆ°å‚¨å­˜çš„ <span class="keyword">user</span> å¯¹è±¡</span><br><span class="line">  result &amp;&amp; setPopDOM(result.<span class="keyword">user</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> setPopDOM(<span class="keyword">user</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">user</span> &amp;&amp; <span class="keyword">user</span>.userId) &#123;</span><br><span class="line">    // <span class="keyword">show</span> <span class="keyword">user</span> UI</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    // <span class="keyword">show</span> <span class="keyword">login</span> UI</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">document.getElementById(<span class="string">'login'</span>).onclick = <span class="keyword">function</span>() &#123;</span><br><span class="line">  // <span class="keyword">login</span> <span class="keyword">user</span>..</span><br><span class="line">  // é€šè¿‡ ajax è¯·æ±‚å¼‚æ­¥ç™»å½•ï¼Œè·å–åˆ°æˆåŠŸçš„å›è°ƒåï¼Œå°†è¿”å›çš„ <span class="keyword">user</span> å¯¹è±¡å‚¨å­˜åœ¨ <span class="keyword">storage</span> ä¸­</span><br><span class="line">  chrome.<span class="keyword">storage</span>.sync.<span class="keyword">set</span>(&#123;<span class="keyword">user</span>: <span class="keyword">user</span>&#125;, <span class="keyword">function</span>(result) &#123;&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œåœ¨å…¶ä»–ç¯å¢ƒçš„JSé‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç›‘å¬storageçš„å˜åŒ–ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// background</span><br><span class="line">// js/background.js</span><br><span class="line"></span><br><span class="line">// ä¸€ä¸ªå…¨å±€çš„ <span class="keyword">user</span> <span class="title">å¯¹è±¡ï¼Œç”¨æ¥ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨å¼‚æ­¥æ—¶å‘ç”Ÿ userId</span></span><br><span class="line">var <span class="keyword">user</span> <span class="title">= null</span>;</span><br><span class="line"></span><br><span class="line">chrome.storage.onChanged.addListener(function(changes, namespace) &#123;</span><br><span class="line">  for (key <span class="keyword">in</span> changes) &#123;</span><br><span class="line">    if (key === 'user') &#123;</span><br><span class="line">      console.log('<span class="keyword">user</span> <span class="title">storage</span> changed!');</span><br><span class="line">      <span class="keyword">user</span> <span class="title">= changes</span>[key];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ol><li><strong>chromeä¸å…è®¸æ‰©å±•ä¸­çš„HTMLé¡µé¢å†…ç›´æ¥å†…åµŒjsè„šæœ¬ï¼Œè€Œè¦æ±‚æ‰€æœ‰çš„è„šæœ¬éƒ½ä½œä¸ºå¤–éƒ¨srcæ¥å¼•å…¥</strong></li><li><strong>json æ–‡ä»¶ä¸å…è®¸æœ‰æ³¨é‡Š</strong></li></ol><h5><span id="æ­£å¼å‘å¸ƒ">æ­£å¼å‘å¸ƒ</span></h5><p><a href="https://segmentfault.com/a/1190000006035525" target="_blank" rel="noopener">å¦‚ä½•æˆä¸ºä¸€åChromeåº”ç”¨å¼€å‘è€…</a><br><a href="https://www.cnblogs.com/xishuai/p/google-chrome-webstore-developer-upload-program.html" target="_blank" rel="noopener">Google Chrome åº”ç”¨å•†åº—ä¸Šä¼ æ‰©å±•ç¨‹åº</a></p><h5><span id="å‚è€ƒ">å‚è€ƒ</span></h5><p>äº†è§£ä»¥ä¸Šä¸œè¥¿å°±å¯ä»¥è‡ªå·±æ•´ç†ä¸€ä¸ª Chromeæ‰©å±•ï¼Œè‹¥è¦æ·±å…¥åŠŸèƒ½ä¸°å¯Œçš„ extensionï¼Œä¾¿éœ€è¦å‚è€ƒå®˜ç½‘æ–‡æ¡£ï¼ˆChromeæš‚æ—¶éœ€è¦æ¢¯å­ï¼‰</p><blockquote><p>å‚è€ƒé“¾æ¥ï¼š</p></blockquote><ul><li><a href="https://developer.chrome.com/extensions" target="_blank" rel="noopener">Chromeæ‰©å±•å®˜ç½‘</a></li><li><a href="https://www.cnblogs.com/liuxianan/p/chrome-plugin-develop.html" target="_blank" rel="noopener">Chromeæ’ä»¶(æ‰©å±•)å¼€å‘å…¨æ”»ç•¥</a></li><li><a href="https://segmentfault.com/a/1190000006949838" target="_blank" rel="noopener">Chrome æ‰©å±•å¼€å‘â€”â€”ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„æµè§ˆå™¨æ’ä»¶</a></li><li><a href="https://www.jianshu.com/p/51c650f98d9c" target="_blank" rel="noopener">è°·æ­Œ(Chrome)æµè§ˆå™¨æ’ä»¶å¼€å‘æ•™ç¨‹</a></li><li><a href="https://segmentfault.com/a/1190000005896962" target="_blank" rel="noopener">ä»é›¶å¼€å§‹å†™ä¸€ä¸ª Chrome æ‰©å±•</a></li><li><a href="https://segmentfault.com/a/1190000007182038" target="_blank" rel="noopener">Chromeæ‰©å±•ç¨‹åºå¼€å‘</a><br>æ„Ÿè°¢ä»¥ä¸Šè€å¸ˆæ•´ç†çš„æ–‡ç« ã€‚</li></ul><h5><span id="ä¸€äº›æ’ä»¶ç½‘å€">ä¸€äº›æ’ä»¶ç½‘å€</span></h5><p><a href="https://chrome.zzzmh.cn/#index" target="_blank" rel="noopener">æç®€æ’ä»¶</a></p><p><a href="https://github.com/cl9000/Chrome-Extensions-Demos.git" target="_blank" rel="noopener">å­—æ•°ç»Ÿè®¡æ’ä»¶</a><br><strong>æ­¤ä»…ä¸ºæ•´ç†ä¸ªäººç¬”è®°ï¼Œä»¥ä½œå¤‡å¿˜ï¼Œä¸åšå•†ç”¨ï¼Œè¯·çŸ¥æ‚‰ï¼Œè°¢è°¢ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4&gt;&lt;span id=&quot;chrome-extension&quot;&gt;Chrome Extension&lt;/span&gt;&lt;/h4&gt;
&lt;h4&gt;&lt;span id=&quot;ç¼˜ç”±&quot;&gt;ç¼˜ç”±&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;é‰´äºç»å¸¸ä½¿ç”¨Chromeæµè§ˆå™¨ï¼Œä¸€äº›ç”¨ç€æ¯”è¾ƒé¡ºæ‰‹çš„ &lt;code&gt;Chromeæ‰©å±•&lt;/c
      
    
    </summary>
    
    
      <category term="Chrome Extension" scheme="https://cl9000.github.io/categories/Chrome-Extension/"/>
    
    
      <category term="Chrome" scheme="https://cl9000.github.io/tags/Chrome/"/>
    
      <category term="Chrome Extension" scheme="https://cl9000.github.io/tags/Chrome-Extension/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨iOSä¸­Protocol Buffer(v3.3.0)çš„ä½¿ç”¨</title>
    <link href="https://cl9000.github.io/2017/08/14/%E5%9C%A8iOS%E4%B8%ADProtocol-Buffer-v3-3-0-%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://cl9000.github.io/2017/08/14/%E5%9C%A8iOS%E4%B8%ADProtocol-Buffer-v3-3-0-%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2017-08-14T07:03:13.000Z</published>
    <updated>2020-04-27T02:18:27.009Z</updated>
    
    <content type="html"><![CDATA[<h2><span id></span></h2><p>åœ¨æ­¤ä»…åšç¬”è®°è®°å½•ï¼Œä»¥ä¾¿åæœŸæŸ¥é˜…ï¼Œå¦‚æœ‰é—®é¢˜ï¼ŒåŠæ—¶è”ç³»ï¼Œå¤šè°¢å¤§å®¶å®¡é˜…ã€‚</p><h2><span id="ä¸€-protocol-buffer">ä¸€ã€Protocol Buffer</span></h2><p>æœ€æ–°ç‰ˆæœ¬Protobuf3.3.0 åœ¨iOSä¸­çš„ä½¿ç”¨ï¼ˆOCä¸Swiftä½¿ç”¨ä¸€æ ·ï¼‰<br>å…·ä½“ä½¿ç”¨<a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="noopener">å‚è€ƒå®˜æ–¹æ–‡æ¡£</a>(éœ€è¦ç¿»å¢™)</p><p>protocol buffersæ˜¯ä¸€ç§çµæ´»ï¼Œé«˜æ•ˆï¼Œè‡ªåŠ¨åŒ–çš„ç»“æ„åŒ–æ•°æ®åºåˆ—åŒ–æœºåˆ¶ã€‚ç±»ä¼¼äºæˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„XMLå’ŒJSONã€‚æ˜¯Googleå…¬å¸æ¨å‡ºå‡ºçš„ã€‚ä½†æ˜¯ï¼ˆ<strong>__ä½†æ˜¯__çš„å‰é¢éƒ½ä»–å¦ˆæ˜¯åºŸè¯</strong>ï¼‰ä¸ä¼ ç»Ÿçš„XMLå’ŒJSONä¸åŒçš„æ˜¯ï¼Œå®ƒæ˜¯ä¸€ç§äºŒè¿›åˆ¶æ ¼å¼ï¼Œå…å»äº†æ–‡æœ¬æ ¼å¼è½¬æ¢çš„å„ç§å›°æ‰°ï¼Œå¹¶ä¸”è½¬æ¢æ•ˆç‡éå¸¸å¿«ï¼Œç”±äºå®ƒçš„è·¨å¹³å°ã€è·¨ç¼–ç¨‹è¯­è¨€çš„ç‰¹ç‚¹ï¼Œå®ƒè¶Šæ¥è¶Šæ™®åŠï¼Œå°¤å…¶æ˜¯ç½‘ç»œæ•°æ®äº¤æ¢ä¿¡æ¯é‡è¾ƒå¤§æ–¹é¢ä½¿ç”¨èµ·æ¥æ›´åŠ ä¾¿åˆ©ã€‚</p><p>Protobufæ˜¯ä¸€ç§å¹³å°æ— å…³ã€è¯­è¨€æ— å…³ã€å¯æ‰©å±•ä¸”è½»ä¾¿é«˜æ•ˆçš„åºåˆ—åŒ–æ•°æ®ç»“æ„çš„åè®®ï¼Œå¯ä»¥ç”¨äºç½‘ç»œé€šä¿¡å’Œæ•°æ®å­˜å‚¨ã€‚</p><h2><span id="pbç›®å‰æ‰˜ç®¡åœ¨github">PBç›®å‰æ‰˜ç®¡åœ¨GitHub</span></h2><p>é“¾æ¥åœ°å€ï¼š<br><a href="https://github.com/google/protobuf" target="_blank" rel="noopener">https://github.com/google/protobuf</a>ï¼Œ<br>æˆ–è€…<a href="https://github.com/google/protobuf/releases" target="_blank" rel="noopener">https://github.com/google/protobuf/releases</a>(å°½é‡é€‰æ‹©åè€…ï¼Œæ‰¾åˆ°ä½ æ‰€éœ€çš„è¯­è¨€å®‰è£…åŒ…)<br>æºç çš„ä¸»è¦åŠŸèƒ½å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†:</p><blockquote><p>1ã€PBç¼–è¯‘å™¨ï¼šæºç ç”Ÿæˆå™¨ï¼Œå°†PBæ ¼å¼å®šä¹‰æ–‡ä»¶**.proto(PBæ•°æ®æ ¼å¼çš„ä¸€ç§å®šä¹‰æ–‡ä»¶)è½¬æ¢ä¸ºå¯¹è±¡æºç (æ”¯æŒC++ï¼ŒJAVAï¼ŒPythonï¼ŒObjective-Cï¼ŒJavascriptï¼ŒPHPç­‰æ ¼å¼)ï¼Œä¸»è¦ä½¿ç”¨å‘½ä»¤è¡Œæ“ä½œã€‚<br>2ã€PBåŸºç¡€åº“ï¼šå®Œæˆåºåˆ—åŒ–ä¸ååºåˆ—åŒ–è½¬æ¢è¿‡ç¨‹çš„æ”¯æŒ</p><ul><li>å¯¹ è±¡  **&gt;&gt;&gt;&gt;**äºŒè¿›åˆ¶ï¼ˆåºåˆ—åŒ–ï¼‰</li><li>äºŒè¿›åˆ¶ **&gt;&gt;&gt;&gt;**å¯¹ è±¡ï¼ˆååºåˆ—åŒ–ï¼‰<br>*ï¼ˆæŠŠ <code>å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—</code> çš„è¿‡ç¨‹ç§°ä¸º <code>å¯¹è±¡çš„åºåˆ—åŒ–</code>ï¼›æŠŠ <code>å­—èŠ‚åºåˆ—æ¢å¤ä¸ºå¯¹è±¡</code> çš„è¿‡ç¨‹ç§°ä¸º <code>å¯¹è±¡çš„ååºåˆ—åŒ–</code>ã€‚ï¼‰</li></ul></blockquote><h2><span id="ä¸‰-protoc-ç¼–è¾‘å™¨ç¯å¢ƒé…ç½®">ä¸‰ã€Protoc ç¼–è¾‘å™¨ç¯å¢ƒé…ç½®</span></h2><h2><span id="é…ç½®protobufç¼–è¯‘å™¨">é…ç½®protobufç¼–è¯‘å™¨</span></h2><p>é¦–å…ˆå°†æ–‡ä»¶ä¸‹è½½ä¸‹æ¥<a href="https://github.com/google/protobuf/releases" target="_blank" rel="noopener">https://github.com/google/protobuf/releases</a></p><h3><span id="1-é…ç½®protobufç¼–è¯‘å™¨ç¯å¢ƒ">1ã€ é…ç½®protobufç¼–è¯‘å™¨ç¯å¢ƒ</span></h3><p>æ‰“å¼€ç»ˆç«¯æ‰§è¡Œå‘½ä»¤è¿›å…¥åˆ°æ–‡ä»¶çš„æ ¹ç›®å½•ï¼š<br><code>$ cd protobuf-3.3.0</code><br>ç„¶åä¾æ¬¡æ‰§è¡Œï¼š<br><code>$ ./configure</code><br><code>$ make</code><br><code>$ make check</code><br><code>$ sudo make install</code><br>æ£€æµ‹å®‰è£…å®Œæ¯•-ä½¿ç”¨å‘½ä»¤ï¼š<br><code>$ protoc --version æˆ–è€…æŸ¥çœ‹å¸®åŠ©$ protoc -h</code><br>å¦‚æœç¼–è¯‘é¡ºåˆ©çš„è¯ï¼Œä¾¿å¯ä»¥ä½¿ç”¨protocå‘½ä»¤äº†ï¼Œä»¥åä¾¿å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤å°†.protoæ–‡ä»¶è½¬æ¢ä¸ºä¸åŒè¯­è¨€çš„æºä»£ç æ–‡ä»¶äº†ã€‚</p><h3><span id="2-ä½¿ç”¨pbç¼–è¯‘å™¨ç¼–è¯‘protoæ–‡ä»¶">2ã€ä½¿ç”¨PBç¼–è¯‘å™¨ç¼–è¯‘.protoæ–‡ä»¶</span></h3><p>å®‰è£…å¥½PBï¼Œä½¿ç”¨PBç¼–è¯‘å™¨æ¥ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„æ•°æ®ç±»å‹æ–‡ä»¶ã€‚<br>åœ¨æ¡Œé¢touchä¸ªæ–‡ä»¶å¤¹åä¸ºClassï¼Œ<br><code>$ cd desktop</code>  -&gt;   <code>$ touch Class</code> -&gt; <code>$ cd Class</code></p><p>åœ¨ç©ºæ–‡ä»¶å¤¹Class åˆ›å»ºä¸€ä¸ªPerson.protoæ–‡ä»¶ï¼ˆåå­—è‡ªå®šä¹‰ï¼‰<br><code>$ touch Person.proto</code></p><p>åˆ›å»ºå¥½åå°±å®šä¹‰ä¸€äº›æ•°æ®ç±»å‹(ä½¿ç”¨ç»ˆç«¯æˆ–ç¼–è¾‘å™¨éƒ½å¯ä»¥)<br>æŒ‰ç…§å®˜æ–¹æ ‡å‡†è¯­æ³•<a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="noopener">https://developers.google.com/protocol-buffers/</a> ç¼–å†™é€šç”¨ä»£ç <br>æ–‡ä»¶ä¸­å†™å…¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">syntax = <span class="string">"proto3"</span>;</span><br><span class="line"></span><br><span class="line">message Person &#123;</span><br><span class="line">  string name = <span class="number">1</span>;</span><br><span class="line">  int32 uid = <span class="number">2</span>;</span><br><span class="line">  string email = <span class="number">3</span>;</span><br><span class="line">  enum PhoneType &#123;</span><br><span class="line">    MOBILE = <span class="number">0</span>;</span><br><span class="line">    HOME = <span class="number">1</span>;</span><br><span class="line">    WORK = <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  message PhoneNumber &#123;</span><br><span class="line">    string number = <span class="number">1</span>;</span><br><span class="line">    PhoneType type = <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">   repeated PhoneNumber phone = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡ºï¼Œå‘½ä»¤è¡Œç¡®ä¿åœ¨Classæ–‡ä»¶å¤¹ä¸­ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š<br><code>$ protoc *.proto --objc_out=../Class</code></p><p>è‹¥æ²¡é—®é¢˜ï¼Œè¿™æ˜¯æ–‡ä»¶å¤¹ä¸­åº”è¯¥å·²ç»ç”Ÿæˆäº†modelæ–‡ä»¶ã€‚<br>è‹¥æŠ¥é”™ï¼Œ1ã€è¯·æ£€æŸ¥å‘½ä»¤ï¼›2ã€æ£€æµ‹***.protoæ–‡ä»¶ä¸­çš„æ ‡ç‚¹ç¬¦å·ï¼›</p><h3><span id="3-å¼•å…¥ioså·¥ç¨‹">3ã€å¼•å…¥iOSå·¥ç¨‹</span></h3><h4><span id="lt1gt-ä¸€ç§ä½¿ç”¨podæ–¹å¼å¼•å…¥">&lt;1&gt; ä¸€ç§ä½¿ç”¨Podæ–¹å¼å¼•å…¥</span></h4><p>æ–°å»ºå·¥ç¨‹PBDemoï¼Œç»ˆç«¯æ‰§è¡Œï¼š<br><code>$ cd PBDemo</code></p><p>åˆ›å»º Podfileæ–‡ä»¶<br><code>$ touch Podfile</code></p><p>ç¼–è¾‘ Podfileæ–‡ä»¶<br><code>$ vim Podfile</code><br>è¿›å…¥æ–‡ä»¶åç‚¹å‡»é”®ç›˜(è‹±æ–‡è¾“å…¥æ³•) <strong>i</strong> è¿›å…¥  __insert__çŠ¶æ€ å¼€å§‹ç¼–è¾‘ï¼ˆ<strong>æ³¨æ„æ ‡ç‚¹ç¬¦å·</strong>ï¼‰</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">platform</span> :ios,<span class="string">'8.0'</span></span><br><span class="line">target <span class="string">'PBDemo'</span> <span class="keyword">do</span> </span><br><span class="line">truepod <span class="string">'Protobuf'</span>,<span class="string">'~&gt;3.3.0'</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">`</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œä¿å­˜ï¼Œ ç‚¹å‡»<strong>esc</strong> è¾“å…¥  <strong>:wq</strong>ï¼Œå›è½¦ã€‚<br>æ³¨æ„ä¸Šé¢çš„ <code>pod 'Protobuf','~&gt;3.3.0'</code>   å¦åˆ™æ²¡æœ‰3.3.0ç‰ˆæœ¬ï¼Œä»¥åè‹¥æœ‰æ–°ç‰ˆæœ¬ï¼Œå¯å…ˆä½¿ç”¨ <code>$ pod search Protobuf</code>æŸ¥è¯¢ä¸‹ã€‚<br>ä½¿ç”¨Podæ¥å¯¼å…¥åº“<br><code>$ pod install</code><br>å®Œæˆåé€€å‡ºå·¥ç¨‹ï¼Œå†æ¬¡è¿›å…¥å°±ä¼šçœ‹åˆ°PBä¾èµ–åº“äº†ã€‚ä»¥åä½¿ç”¨çš„æ—¶å€™åˆ‡è®°å¦‚ä¸‹ä¸¤ç‚¹ï¼š<br>â‘  ä»æ­¤ä»¥åéœ€è¦ä½¿ç”¨Cocoapodsç”Ÿæˆçš„ .xcworkspaceæ–‡ä»¶æ¥æ‰“å¼€å·¥ç¨‹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä»¥å‰çš„.xcodeprojæ–‡ä»¶ã€‚<br>â‘¡ æ¯æ¬¡æ›´æ”¹äº†Podfileæ–‡ä»¶ï¼Œéƒ½éœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡pod updateå‘½ä»¤ã€‚</p><p><strong>è¡¥å……ï¼š</strong> æ‰§è¡Œ <code>pod install</code> åï¼Œé™¤äº†Podfileï¼Œè¿˜ä¼šç”Ÿæˆä¸€ä¸ªåä¸º<br><code>Podfile.lock</code> çš„æ–‡ä»¶ï¼Œå®ƒä¼šé”å®šå½“å‰å„ä¾èµ–åº“çš„ç‰ˆæœ¬ï¼Œä¹‹åå³ä½¿å¤šæ¬¡æ‰§è¡Œpod installä¹Ÿä¸ä¼šæ›´æ”¹ç‰ˆæœ¬ï¼Œåªæœ‰æ‰§è¡Œpod updateæ‰ä¼šæ”¹å˜Podfile.lockï¼Œè¿™åœ¨å¤šäººåä½œçš„æ—¶å€™ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥é˜²æ­¢ç¬¬ä¸‰æ–¹åº“å‡çº§æ—¶å€™é€ æˆå¤§å®¶å„è‡ªçš„ç¬¬ä¸‰æ–¹åº“ç‰ˆæœ¬ä¸ä¸€è‡´ã€‚æ‰€ä»¥åœ¨æäº¤ç‰ˆæœ¬çš„æ—¶å€™ä¸èƒ½æŠŠå®ƒè½ä¸‹ï¼Œä¹Ÿä¸è¦æ·»åŠ åˆ°.gitignoreä¸­ã€‚ï¼ˆè½¬ï¼‰</p><p>pod install å®Œåé‡æ–°æ‰“å¼€ PBDemo**.xcworkspace** å·¥ç¨‹ï¼Œ<br>å°†ç¼–è¯‘å¥½çš„PBæ–‡ä»¶å¼•å…¥å·¥ç¨‹ï¼Œå¦‚å›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4665802-982be28a0a704017.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>æ¥ç€ï¼Œç”Ÿæˆçš„æ–‡ä»¶æ˜¯ä¸æ”¯æŒARCï¼Œéœ€è¦æ‰‹åŠ¨è½¬ä¸€ä¸‹</p><blockquote><p>ç‚¹å‡»å·¥ç¨‹â€”Build Phases â€”Compile Source ä¸­çš„Person.pbobjc.mæ–‡ä»¶æ·»åŠ <code>-fno-objc-arc</code>ä¿å­˜å˜ç¼–è¯‘sucã€‚<br>å¦‚å›¾ï¼š<img src="http://upload-images.jianshu.io/upload_images/4665802-c5991e1ea29c4903.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></blockquote><p>åˆ°æ­¤ï¼Œä½¿ç”¨Podå¼•å…¥ProtocolBufferå°±å®Œäº†ï¼Œå°±æ˜¯ä¸€äº›æµ‹è¯•äº†ï¼Œå¦‚ä¸‹ï¼š</p><blockquote><p>åœ¨ViewControllerä¸­å¼•å…¥ <code>Person.pbobjc.h</code> å¤´æ–‡ä»¶<br>åŠ å…¥æµ‹è¯•ä»£ç ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// åˆ›å»ºå¯¹è±¡</span><br><span class="line">Person *person = [Person new];</span><br><span class="line">person.name = @&quot;weiCL&quot;;</span><br><span class="line">person.uid = 20170810;</span><br><span class="line">person.email = @&quot;cl9000@126.com&quot;;</span><br><span class="line"></span><br><span class="line">// åºåˆ—åŒ–ä¸ºData</span><br><span class="line">NSData *data = [person data];</span><br><span class="line">NSLog(@&quot;NSData= %@&quot;, data);</span><br><span class="line"></span><br><span class="line">// ååºåˆ—åŒ–ä¸ºå¯¹è±¡</span><br><span class="line">Person *person2 = [Person parseFromData:data error:NULL];</span><br><span class="line">NSLog(@&quot;name:%@ uid:%d email:%@&quot;,person2.name,person2.uid,person2.email);</span><br></pre></td></tr></table></figure><p>OKï¼Œä¸‹ä¸€ç§æ–¹å¼<strong>ç›´æ¥å¼•å…¥</strong>ç»å¸¸ä¼šå‡ºç°çš„é”™è¯¯ï¼Œè§£å†³æ–¹æ³•å…·ä½“è¯·çœ‹ä¸‹é¢</p><h3><span id="lt2gtå¦ä¸€ç§æ–¹å¼ç›´æ¥å°†ç›¸å…³ç±»æ–‡ä»¶æ‹–å…¥å·¥ç¨‹">&lt;2&gt;å¦ä¸€ç§æ–¹å¼ç›´æ¥å°†ç›¸å…³ç±»æ–‡ä»¶æ‹–å…¥å·¥ç¨‹</span></h3><ol><li><p>æ–°å»ºä¸€ä¸ªå·¥ç¨‹PBDemo3ï¼Œshow in Finder åˆ›å»ºæ–‡ä»¶å¤¹åç§°ä¸ºï¼šprotocolbuf ï¼ˆæ­¤åç§°å¯è‡ªå®šä¹‰ï¼Œä½†åé¢é¢è¦ä½¿ç”¨å…¶è·¯å¾„ï¼‰,å’Œåˆ›å»ºä¸ªLibæ–‡ä»¶å¤¹å¤‡ç”¨</p></li><li><p>æ‰“å¼€ä¸‹è½½å¥½çš„protobuf-3.3.0ï¼ˆæˆ–æœ€æ–°ç‰ˆæœ¬ï¼‰ï¼Œä¼šæœ‰ä¸ªobjectivecçš„æ–‡ä»¶å¤¹ã€‚æ‹·è´é‡Œé¢æ‰€æœ‰çš„æ–‡ä»¶ï¼Œæ”¾åˆ°ä¸Šé¢åˆ›å»ºçš„protocolbuf æ–‡ä»¶å¤¹ä¸­ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/4665802-e24ab8787b08fd8d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><img src="http://upload-images.jianshu.io/upload_images/4665802-db5068a4468de667.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>ä½¿ç”¨Xcodeæ‰“å¼€å·¥ç¨‹ï¼Œå°†Libæ–‡ä»¶å¤¹å¼•å…¥å·¥ç¨‹ï¼Œç„¶åé€‰ä¸­Libæ–‡ä»¶å¤¹ï¼Œç‚¹å‡»å·¦ä¸‹è§’â€œ+â€ï¼ˆAdd Files to PBDemo3ï¼‰ï¼Œ å¼•ç”¨protocolBufferæºæ–‡ä»¶åˆ°å·¥ç¨‹ä¸­<br>(æºæ–‡ä»¶é‡Œé¢æœ‰ä¸¤ä¸ªå·¥ç¨‹é…ç½®æ–‡ä»¶ï¼šProtocolBuffers_iOS.xcodeprojå’ŒProtocolBuffers_OSX.xcodeprojï¼Œå¼•ç”¨ProtocolBuffers_iOS.xcodeprojå°±å¥½)ã€‚è¿™é‡Œæˆ‘ä»¬åªå¼•å…¥åº“æ–‡ä»¶ï¼Œå¦åˆ›å»ºLibæ–‡ä»¶åªæ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/4665802-6ced643bedce50a6.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>é€‰ä¸­å·¥ç¨‹: targets â€”&gt;  Build Phases  â€”&gt;  Link Binary With Librariesï¼Œ å¼•ç”¨æºç é™æ€åº“æ–‡ä»¶ï¼š<strong>libProtocolBuffers.a</strong><br><img src="http://upload-images.jianshu.io/upload_images/4665802-f9104b785f031e3a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>åœ¨å·¥ç¨‹è®¾ç½®æœç´¢é™æ€åº“çš„å¤´æ–‡ä»¶ï¼ˆpbæ–‡ä»¶åœ¨protocolbufæ–‡ä»¶å¤¹é‡Œé¢ï¼‰:<br>targets â€”&gt;  Build Setting  â€”&gt;  Search Paths  â€”&gt; Header Search Paths, å†™å…¥ï¼š<code>$(PROJECT)/protocolbuf</code><br><img src="http://upload-images.jianshu.io/upload_images/4665802-29740fc905dab2f0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>å®Œæˆå build ä¸€ä¸‹ï¼Œ<strong>success</strong></p></li></ol><p>6ã€ å°†æˆ‘ä»¬ä¸Šé¢é€šè¿‡PBç¼–è¯‘å™¨ç”Ÿæˆçš„æ•°æ®æ¨¡å‹æ–‡ä»¶Classæ–‡ä»¶å¤¹ï¼ˆå†…å«Person.protoï¼ŒPerson.pbobjc.hå’ŒPerson.pbobjc.mï¼‰<br>æ‹–å…¥å·¥ç¨‹ï¼Œï¼ˆå°½é‡ä½¿ç”¨Add File to â€¦å¼•å…¥ï¼‰<br>å› ä¸ºä¸æ”¯æŒarc, æ‰€ä»¥éœ€è¦åœ¨*.pbobjc.mè®¾ç½®<code>-fno-objc-arc</code>, ç„¶åå°±å¯ä»¥ä½¿ç”¨äº†ã€‚å…·ä½“ç›®å½•å¦‚å›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4665802-c1b322ec484eaa97.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>Buildä¸€ä¸‹ã€<strong>success</strong> ã€è¿›è¡Œæµ‹è¯•ã€æµ‹è¯•ä»£ç å¦‚ä¸Šä¸é‡å¤äº†è¿™é‡Œã€‚</p><ul><li>Demoæºç  : <a href="https://github.com/cl9000/ProtocolBufferDemo.git" target="_blank" rel="noopener">https://github.com/cl9000/ProtocolBufferDemo.git</a></li></ul><h2><span id="refrence">Refrence</span></h2><p><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-gpb/index.html" target="_blank" rel="noopener">IBM Google Protocol Buffer çš„ä½¿ç”¨å’ŒåŸç†</a><br>æ–¹å¼ä¸€ï¼šä½¿ç”¨Pod<br><a href="http://www.jianshu.com/p/8c6c009bc500/" target="_blank" rel="noopener">ProtocolBuffer for Objective-C è¿è¡Œç¯å¢ƒé…ç½®åŠä½¿ç”¨</a><br><a href="http://www.cnblogs.com/mcj-coding/p/6228760.html" target="_blank" rel="noopener">ProtocolBuffers-3 For Objective C (1)-ç®€å•çš„ä½¿ç”¨</a><br>æ–¹å¼äºŒï¼šç›´æ¥å¼•å…¥<br><a href="http://www.cnblogs.com/tandaxia/p/6181534.html" target="_blank" rel="noopener">iOSä¹‹ProtocolBufferæ­å»ºå’Œç¤ºä¾‹demo</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨æ­¤ä»…åšç¬”è®°è®°å½•ï¼Œä»¥ä¾¿åæœŸæŸ¥é˜…ï¼Œå¦‚æœ‰é—®é¢˜ï¼ŒåŠæ—¶è”ç³»ï¼Œå¤šè°¢å¤§å®¶å®¡é˜…ã€‚&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä¸€-protocol-buffer&quot;&gt;ä¸€ã€Protocol Buffer&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;æœ€æ–°ç‰ˆæœ¬Pro
      
    
    </summary>
    
    
      <category term="iOS" scheme="https://cl9000.github.io/categories/iOS/"/>
    
      <category term="protocol buffer" scheme="https://cl9000.github.io/categories/iOS/protocol-buffer/"/>
    
    
      <category term="iOS" scheme="https://cl9000.github.io/tags/iOS/"/>
    
      <category term="protocol buffer" scheme="https://cl9000.github.io/tags/protocol-buffer/"/>
    
  </entry>
  
  <entry>
    <title>[BING] è·å–BINGæ¯æ—¥ç¾å›¾</title>
    <link href="https://cl9000.github.io/2017/04/13/BING-%E8%8E%B7%E5%8F%96BING%E6%AF%8F%E6%97%A5%E7%BE%8E%E5%9B%BE/"/>
    <id>https://cl9000.github.io/2017/04/13/BING-%E8%8E%B7%E5%8F%96BING%E6%AF%8F%E6%97%A5%E7%BE%8E%E5%9B%BE/</id>
    <published>2017-04-13T10:24:44.000Z</published>
    <updated>2020-04-13T11:05:52.084Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="bingæ¯æ—¥ç¾å›¾">BINGæ¯æ—¥ç¾å›¾</span></h2><h3><span id="è§£æapi">è§£æAPI</span></h3><p><a href="www.bing.com">bing æœç´¢</a></p><!-- ![](http://www.bing.com/sa/simg/hpc27_2x.png) --><p>F12 æŸ¥çœ‹æºç ï¼Œå®šä½èƒŒæ™¯åœ°å€ã€è§£æå¯ä»¥è·å¾—é¦–é¡µå›¾çš„è·å–APIã€‚æ ¼å¼ï¼š</p><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://cn.bing.com/HPImageArchive.aspx?<span class="meta">format</span>=js<span class="variable">&amp;idx</span>=0<span class="variable">&amp;n</span>=1</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªGETå‚æ•°ï¼Œå®ƒä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š</p><ul><li>nï¼Œå¿…è¦å‚æ•°ã€‚è¿™æ˜¯è¾“å‡ºä¿¡æ¯çš„æ•°é‡ã€‚æ¯”å¦‚n=1ï¼Œå³ä¸º1æ¡ï¼Œä»¥æ­¤ç±»æ¨ï¼Œè‡³å¤šè¾“å‡º8æ¡ã€‚</li><li>formatï¼Œéå¿…è¦ã€‚è¿”å›ç»“æœçš„æ ¼å¼ï¼Œä¸å­˜åœ¨æˆ–è€…ç­‰äºxmlæ—¶ï¼Œè¾“å‡ºä¸ºxmlæ ¼å¼ï¼Œç­‰äºjsæ—¶ï¼Œè¾“å‡ºjsonæ ¼å¼</li><li>idxï¼Œéå¿…è¦ã€‚ä¸å­˜åœ¨æˆ–è€…ç­‰äº0æ—¶ï¼Œè¾“å‡ºå½“å¤©çš„å›¾ç‰‡ï¼Œ-1ä¸ºå·²ç»é¢„å¤‡ç”¨äºæ˜å¤©æ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œ1åˆ™ä¸ºæ˜¨å¤©çš„å›¾ç‰‡ï¼Œä»¥æ­¤ç±»æ¨ï¼Œidxæœ€å¤šè·å–åˆ°å‰16å¤©çš„å›¾ç‰‡ä¿¡æ¯<br>è¿™é‡Œå°†nè®¾å®šä¸º1ã€formatè®¾å®šä¸ºjsã€idxè®¾å®šä¸º1ï¼Œå»å‘å‡ºGETè¯·æ±‚ï¼Œè¿”å›çš„æ•°æ®ï¼š</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"images"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"startdate"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"fullstartdate"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"enddate"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"urlbase"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"copyright"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"copyrightlink"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"title"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"quiz"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"wp"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"hsh"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"drk"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"top"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"bot"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"hs"</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"tooltips"</span>: &#123;</span><br><span class="line">    <span class="attr">"loading"</span>: <span class="string">"æ­£åœ¨åŠ è½½..."</span>,</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="string">"ä¸Šä¸€ä¸ªå›¾åƒ"</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="string">"ä¸‹ä¸€ä¸ªå›¾åƒ"</span>,</span><br><span class="line">    <span class="attr">"walle"</span>: <span class="string">"æ­¤å›¾ç‰‡ä¸èƒ½ä¸‹è½½ç”¨ä½œå£çº¸ã€‚"</span>,</span><br><span class="line">    <span class="attr">"walls"</span>: <span class="string">"ä¸‹è½½ä»Šæ—¥ç¾å›¾ã€‚ä»…é™ç”¨ä½œæ¡Œé¢å£çº¸ã€‚"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„ â€œimagesâ€ èŠ‚ç‚¹ä¸‹çš„ â€œurlâ€ å€¼ä¾¿æ˜¯æˆ‘ä»¬è¦è·å–çš„å›¾åƒåœ°å€ã€‚<br>æŠŠå®ƒå–å‡ºæ¥ï¼Œå†åŠ ä¸ŠBingçš„ç½‘å€å‰ç¼€(<a href="http://cn.bing.com" target="_blank" rel="noopener">http://cn.bing.com</a>)å³ç»„åˆæˆäº†å®Œæ•´çš„å›¾åƒåœ°å€ã€‚å¯ç›´æ¥æµè§ˆå™¨æŸ¥çœ‹ã€‚</p><h3><span id="ç”¨phpå»åŠ¨æ€æŠ“å–">ç”¨PHPå»åŠ¨æ€æŠ“å–</span></h3><p>è·å–BINGæ¯æ—¥èƒŒæ™¯å›¾ï¼Œæ„å»ºAPIã€æ¯æ—¥æŠ“å–ä¸‹è½½ã€éƒ¨ç½²ç§äººæœåŠ¡å™¨å¹¶å­˜å‚¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// ini_set(<span class="string">'date.timezone'</span>,<span class="string">'Asia/Shanghai'</span>);  <span class="regexp">//</span>è®¾ç½®æ—¶åŒºï¼Œç¡®å®šä¸ºä¸­å›½ä¸Šæµ·æ—¶åŒº</span><br><span class="line"> </span><br><span class="line">// æ–¹æ¡ˆä¸€</span><br><span class="line">$path0 = <span class="string">'BingWallpaper'</span>; <span class="regexp">//</span> å®šä¹‰å­˜æ”¾å›¾ç‰‡çš„ä¸€çº§ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯å›ºå®šçš„ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºå¹¶è®¾ç½®å†™å…¥æƒ</span><br><span class="line">$path = $path0 .<span class="string">'/'</span>. date(<span class="string">"Ym"</span>); <span class="regexp">//</span> å›¾ç‰‡ç¼“å­˜æ–‡ä»¶å¤¹ï¼Œä»¥å½“å‰å¹´æœˆå‘½åå¹¶è‡ªåŠ¨æ–°å»ºæ–‡ä»¶å¤¹</span><br><span class="line">$filename = date(<span class="string">"Ymd"</span>) .<span class="string">'.jpg'</span>;  <span class="regexp">//</span> ç”¨å¹´æœˆæ—¥æ¥å‘½åæ–°çš„æ–‡ä»¶å</span><br><span class="line"><span class="keyword">if</span> (!file_exists($path .<span class="string">'/'</span>. $filename)) &#123; <span class="regexp">//</span> å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¯´æ˜ä»Šå¤©è¿˜æ²¡æœ‰è¿›è¡Œç¼“å­˜</span><br><span class="line">    <span class="keyword">if</span>(!file_exists($path)) &#123; <span class="regexp">//</span> å¦‚æœç›®å½•ä¸å­˜åœ¨</span><br><span class="line">        <span class="keyword">mkdir</span>($path, <span class="number">0777</span>); <span class="regexp">//</span> åˆ›å»ºç¼“å­˜ç›®å½•</span><br><span class="line">    &#125;</span><br><span class="line">    $str = file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1'</span>); <span class="regexp">//</span> è¯»å–å¿…åº”apiï¼Œè·å¾—ç›¸åº”æ•°æ®</span><br><span class="line">    $str = json_decode($str, true);</span><br><span class="line">    $imgurl = <span class="string">'http://cn.bing.com'</span>. $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'url'</span>];    <span class="regexp">//</span> è·å–å›¾ç‰‡url</span><br><span class="line">    $img = grabImage($imgurl, $path .<span class="string">'/'</span>. $filename); <span class="regexp">//</span> è¯»å–å¹¶ä¿å­˜å›¾ç‰‡</span><br><span class="line">&#125;</span><br><span class="line">function grabImage($url, $filename = <span class="string">""</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>($url == <span class="string">""</span>) <span class="keyword">return</span> false; <span class="regexp">//</span> å¦‚æœ$urlåœ°å€ä¸ºç©ºï¼Œç›´æ¥é€€å‡º</span><br><span class="line">    <span class="keyword">if</span> ($filename == <span class="string">""</span>) &#123; <span class="regexp">//</span> å¦‚æœæ²¡æœ‰æŒ‡å®šæ–°çš„æ–‡ä»¶å</span><br><span class="line">        $ext = strrchr($url, <span class="string">"."</span>);  <span class="regexp">//</span> å¾—åˆ°$urlçš„å›¾ç‰‡æ ¼å¼</span><br><span class="line">        $filename = date(<span class="string">"Ymd"</span>) . $ext;  <span class="regexp">//</span> ç”¨å¤©æœˆé¢æ—¶åˆ†ç§’æ¥å‘½åæ–°çš„æ–‡ä»¶å</span><br><span class="line">    &#125;</span><br><span class="line">    ob_start();         <span class="regexp">//</span> æ‰“å¼€è¾“å‡º</span><br><span class="line">    readfile($url);     <span class="regexp">//</span> è¾“å‡ºå›¾ç‰‡æ–‡ä»¶</span><br><span class="line">    $img = ob_get_contents();   <span class="regexp">//</span> å¾—åˆ°æµè§ˆå™¨è¾“å‡º</span><br><span class="line">    ob_end_clean();             <span class="regexp">//</span> æ¸…é™¤è¾“å‡ºå¹¶å…³é—­</span><br><span class="line">    $size = strlen($img);       <span class="regexp">//</span> å¾—åˆ°å›¾ç‰‡å¤§å°</span><br><span class="line">    $fp2 = @fopen($filename, <span class="string">"a"</span>);</span><br><span class="line">    fwrite($fp2, $img);         <span class="regexp">//</span> å‘å½“å‰ç›®å½•å†™å…¥å›¾ç‰‡æ–‡ä»¶ï¼Œå¹¶é‡æ–°å‘½å</span><br><span class="line">    fclose($fp2);</span><br><span class="line">    <span class="keyword">return</span> $filename;           <span class="regexp">//</span> è¿”å›æ–°çš„æ–‡ä»¶å</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// <span class="regexp">//</span> æ–¹æ¡ˆäºŒ</span><br><span class="line">// $path=<span class="string">'BingWallpaper'</span>;   <span class="regexp">//</span> å®šä¹‰å­˜æ”¾å›¾ç‰‡çš„ä¸€çº§ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯å›ºå®šçš„ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºå¹¶è®¾ç½®å†™å…¥æƒ</span><br><span class="line">// $path1=$path.<span class="string">'/'</span>.date(<span class="string">'Ym'</span>);  <span class="regexp">//</span> å®šä¹‰å­˜æ”¾å›¾ç‰‡çš„äºŒçº§ç›®å½•ï¼Œä»¥å½“å‰æ‰€å¤„å¹´ä»½æ¥å‘½å</span><br><span class="line">// <span class="keyword">if</span>(!file_exists($path1)) &#123;</span><br><span class="line">//     <span class="keyword">mkdir</span>($path1, <span class="number">0777</span>);</span><br><span class="line">// &#125;  // åˆ¤æ–­äºŒçº§ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºå¹¶è®¾ç½®å†™å…¥æƒ</span><br><span class="line">// <span class="regexp">//</span> $path2=$path1.<span class="string">'/'</span>.date(<span class="string">'m'</span>);  <span class="regexp">//</span> å®šä¹‰å­˜æ”¾å›¾ç‰‡çš„ä¸‰çº§ç›®å½•ï¼Œä»¥å½“å‰æ‰€å¤„æœˆä»½æ¥å‘½å</span><br><span class="line">// <span class="regexp">//</span> <span class="keyword">if</span>(!file_exists($path2))&#123;</span><br><span class="line">// <span class="regexp">//</span>     <span class="keyword">mkdir</span>($path2, <span class="number">0777</span>);</span><br><span class="line">// <span class="regexp">//</span> &#125;   // åˆ¤æ–­ä¸‰çº§ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºå¹¶è®¾ç½®å†™å…¥æƒ</span><br><span class="line">// <span class="regexp">//</span> $pathurl=$path2.<span class="string">'/'</span>.date(<span class="string">'Ymd'</span>).<span class="string">'.jpg'</span>;   <span class="regexp">//</span> å®šä¹‰å›¾ç‰‡åï¼Œä»¥å½“å‰æ‰€å¤„æ—¥ä»½æ¥å‘½å</span><br><span class="line">// $pathurl=$path1.<span class="string">'/'</span>.date(<span class="string">'Ymd'</span>).<span class="string">'.jpg'</span>;   <span class="regexp">//</span> å®šä¹‰å›¾ç‰‡åï¼Œä»¥å½“å‰æ‰€å¤„æ—¥ä»½æ¥å‘½å</span><br><span class="line">// <span class="keyword">if</span>(!is_file($pathurl)) &#123;</span><br><span class="line">//     $str=file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1'</span>);   <span class="regexp">//</span> è·å–å›¾ç‰‡åœ°å€ï¼Œå¹¶åˆ¤æ–­å›¾ç‰‡æ˜¯å¦å·²ç»å­˜åœ¨</span><br><span class="line">//     <span class="keyword">if</span>(preg_match(<span class="string">"/&lt;urlBase&gt;(.+?)&lt;\/urlBase&gt;/isu"</span>, $str, $matches)) &#123; <span class="regexp">//</span> ies</span><br><span class="line">//         $imgurl=<span class="string">'http://cn.bing.com'</span>.$matches[<span class="number">1</span>].<span class="string">'_1920x1080.jpg'</span>;</span><br><span class="line">//         copy($imgurl, $pathurl);</span><br><span class="line">//     &#125;  //è¯»å–å¯¹åº”çš„å›¾ç‰‡å¹¶å†™å…¥æŒ‡å®šç›®å½•</span><br><span class="line">// &#125;</span><br><span class="line">// <span class="regexp">//</span> æ˜¾ç¤ºå›¾ç‰‡</span><br><span class="line">// <span class="regexp">//</span> header(<span class="string">'Content-Type:image/jpeg'</span>);  <span class="regexp">//</span>å®šä¹‰è¾“å‡ºç±»å‹</span><br><span class="line">// <span class="regexp">//</span> @ob_end_clean();   <span class="regexp">//</span>æ“¦é™¤ç¼“å­˜</span><br><span class="line">// <span class="regexp">//</span> @readfile($pathurl);  <span class="regexp">//</span>è¾“å‡ºæœ¬åœ°å›¾ç‰‡</span><br><span class="line">// <span class="regexp">//</span> @flush();   <span class="regexp">//</span>ç¼“å­˜</span><br><span class="line">// <span class="regexp">//</span> @ob_flush();   <span class="regexp">//</span>è¾“å‡ºç¼“å­˜ </span><br><span class="line">// <span class="regexp">//</span> <span class="keyword">exit</span>();  <span class="regexp">//</span>é€€å‡º</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// æ–¹æ¡ˆä¸‰ï¼š + å†™å…¥å›¾ç‰‡ä¿¡æ¯ å‚è€ƒ https:<span class="regexp">//mkblog</span>.cn/<span class="number">492</span>/</span><br><span class="line">// $path = <span class="string">'temp'</span>;   <span class="regexp">//</span>è®¾ç½®å›¾ç‰‡ç¼“å­˜æ–‡ä»¶å¤¹</span><br><span class="line">// $filename = date(<span class="string">"Ymd"</span>) . <span class="string">'.jpg'</span>;  <span class="regexp">//</span>ç”¨å¹´æœˆæ—¥æ¥å‘½åæ–°çš„æ–‡ä»¶å</span><br><span class="line">// <span class="keyword">if</span> (!file_exists($path.<span class="string">'/'</span>. $filename)) &#123; <span class="regexp">//</span>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¯´æ˜ä»Šå¤©è¿˜æ²¡æœ‰è¿›è¡Œç¼“å­˜ </span><br><span class="line">//     <span class="keyword">if</span>(!file_exists($path)) //å¦‚æœç›®å½•ä¸å­˜åœ¨</span><br><span class="line">//     &#123;</span><br><span class="line">//         <span class="keyword">mkdir</span>($path, <span class="number">0777</span>); <span class="regexp">//</span>åˆ›å»ºç¼“å­˜ç›®å½•</span><br><span class="line">//     &#125;</span><br><span class="line">//     $str = file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1'</span>); <span class="regexp">//</span>è¯»å–å¿…åº”apiï¼Œè·å¾—ç›¸åº”æ•°æ®</span><br><span class="line">//     $str = json_decode($str,true);</span><br><span class="line">//     $imgurl = <span class="string">'http://cn.bing.com'</span>.$str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'url'</span>];    <span class="regexp">//</span>è·å–å›¾ç‰‡url</span><br><span class="line">//     $img = grabImage($imgurl, $path.<span class="string">'/'</span>.$filename); <span class="regexp">//</span>è¯»å–å¹¶ä¿å­˜å›¾ç‰‡</span><br><span class="line">//     $handle = fopen(<span class="string">"dat.txt"</span>, <span class="string">"a"</span>);    <span class="regexp">//</span>ç”¨äºå­˜æ”¾å›¾ç‰‡ä¿¡æ¯ï¼Œå¦‚æœä¸éœ€è¦ä¿å­˜å›¾ç‰‡çš„ç›¸å…³ä¿¡æ¯ï¼Œå¯ä»¥æŠŠä¸‹é¢è¿™äº›å»æ‰ã€‚</span><br><span class="line">//     <span class="keyword">if</span> ($handle) &#123;</span><br><span class="line">//         $copyright = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'copyright'</span>];    <span class="regexp">//</span>è¯´æ˜</span><br><span class="line">//         $startdate = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'startdate'</span>];</span><br><span class="line">//         $fullstartdate = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'fullstartdate'</span>];</span><br><span class="line">//         $enddate = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'enddate'</span>];</span><br><span class="line">//         $urlbase = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'urlbase'</span>];</span><br><span class="line">//         $copyrightlink = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'copyrightlink'</span>];</span><br><span class="line">//         $quiz = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'quiz'</span>];</span><br><span class="line">//         $wp = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'wp'</span>];</span><br><span class="line">//         $hsh = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'hsh'</span>];</span><br><span class="line">//         $drk = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'drk'</span>];</span><br><span class="line">//         $top = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'top'</span>];</span><br><span class="line">//         $bot = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'bot'</span>];</span><br><span class="line">//         $tempArr = array(<span class="string">"imgurl"</span>=&gt;$imgurl,<span class="string">"copyright"</span>=&gt;$copyright, <span class="string">"startdate"</span>=&gt;$startdate,</span><br><span class="line">//         <span class="string">"fullstartdate"</span>=&gt;$fullstartdate, <span class="string">"enddate"</span>=&gt; $enddate, <span class="string">"urlbase"</span>=&gt;$urlbase,</span><br><span class="line">//         <span class="string">"copyrightlink"</span>=&gt; $copyrightlink, <span class="string">"quiz"</span>=&gt;$quiz, <span class="string">"wp"</span>=&gt; $wp,</span><br><span class="line">//         <span class="string">"hsh"</span>=&gt;$hsh,<span class="string">"drk"</span>=&gt;$drk, <span class="string">"top"</span>=&gt; $top, <span class="string">"bot"</span>=&gt; $bot);   <span class="regexp">//</span>å°†ç›¸å…³ä¿¡æ¯æ”¾è¿›æ•°ç»„ä¸­</span><br><span class="line">//         fwrite($handle, json_encode($tempArr) .<span class="string">"\r\n"</span>); <span class="regexp">//</span>æœ€ç»ˆä»¥jsonæ ¼å¼ä¿å­˜åœ¨æ–‡æœ¬æ–‡æ¡£ä¸­</span><br><span class="line">//         fclose($handle);</span><br><span class="line">//     &#125;</span><br><span class="line">// &#125;</span><br><span class="line">// function grabImage($url, $filename = <span class="string">""</span>) &#123;</span><br><span class="line">//     <span class="keyword">if</span>($url == <span class="string">""</span>) <span class="keyword">return</span> false; <span class="regexp">//</span>å¦‚æœ$urlåœ°å€ä¸ºç©ºï¼Œç›´æ¥é€€å‡º</span><br><span class="line">//     <span class="keyword">if</span> ($filename == <span class="string">""</span>) &#123; <span class="regexp">//</span>å¦‚æœæ²¡æœ‰æŒ‡å®šæ–°çš„æ–‡ä»¶å</span><br><span class="line">//         $ext = strrchr($url, <span class="string">"."</span>);  <span class="regexp">//</span>å¾—åˆ°$urlçš„å›¾ç‰‡æ ¼å¼</span><br><span class="line">//         $filename = date(<span class="string">"Ymd"</span>) . $ext;  <span class="regexp">//</span>ç”¨å¤©æœˆé¢æ—¶åˆ†ç§’æ¥å‘½åæ–°çš„æ–‡ä»¶å</span><br><span class="line">//     &#125;</span><br><span class="line">//     ob_start();         <span class="regexp">//</span>æ‰“å¼€è¾“å‡º</span><br><span class="line">//     readfile($url);     <span class="regexp">//</span>è¾“å‡ºå›¾ç‰‡æ–‡ä»¶</span><br><span class="line">//     $img = ob_get_contents();   <span class="regexp">//</span>å¾—åˆ°æµè§ˆå™¨è¾“å‡º</span><br><span class="line">//     ob_end_clean();             <span class="regexp">//</span>æ¸…é™¤è¾“å‡ºå¹¶å…³é—­</span><br><span class="line">//     $size = strlen($img);       <span class="regexp">//</span>å¾—åˆ°å›¾ç‰‡å¤§å°</span><br><span class="line">//     $fp2 = @fopen($filename, <span class="string">"a"</span>);</span><br><span class="line">//     fwrite($fp2, $img);         <span class="regexp">//</span>å‘å½“å‰ç›®å½•å†™å…¥å›¾ç‰‡æ–‡ä»¶ï¼Œå¹¶é‡æ–°å‘½å</span><br><span class="line">//     fclose($fp2);</span><br><span class="line">//     <span class="keyword">return</span> $filename;           <span class="regexp">//</span>è¿”å›æ–°çš„æ–‡ä»¶å</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// ******************************************************************************************</span><br><span class="line">// <span class="regexp">//</span> ä»…ä½¿ç”¨å…¶ä½œä¸ºèƒŒæ™¯å›¾APIï¼Œæ–°å»ºPHPæ–‡ä»¶</span><br><span class="line">// <span class="regexp">//</span> Bingå£çº¸API - <span class="number">1</span></span><br><span class="line">// $str=file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1'</span>);</span><br><span class="line">// <span class="keyword">if</span>(preg_match(<span class="string">"/(.+?)&lt;\/url&gt;/ies"</span>,$str,$matches))&#123;</span><br><span class="line">// $imgurl=<span class="string">'http://cn.bing.com'</span>.$matches[<span class="number">1</span>];</span><br><span class="line">// &#125;</span><br><span class="line">// <span class="keyword">if</span>($imgurl)&#123;</span><br><span class="line">// header(<span class="string">'Content-Type: image/JPEG'</span>);</span><br><span class="line">// @ob_end_clean();</span><br><span class="line">// @readfile($imgurl);</span><br><span class="line">// @flush(); @ob_flush();</span><br><span class="line">// <span class="keyword">exit</span>();</span><br><span class="line">// &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">// <span class="keyword">exit</span>(<span class="string">'error'</span>);</span><br><span class="line">// &#125;</span><br><span class="line">// <span class="regexp">//</span> Warning: preg_match(): The /e modifier is <span class="keyword">no</span> longer supported, <span class="keyword">use</span> preg_replace_callback instead in /Library/WebServer/Documents/phpMyProjects/php-test/index4.php on line <span class="number">4</span></span><br><span class="line">// <span class="regexp">//</span> error</span><br><span class="line"></span><br><span class="line">// <span class="regexp">//</span> Bingå£çº¸API - <span class="number">2</span></span><br><span class="line">// $str = file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1'</span>);   <span class="regexp">//</span> ä»bingè·å–æ•°æ®</span><br><span class="line">// <span class="keyword">if</span>(preg_match(<span class="string">'/&lt;url&gt;([^&lt;]+)&lt;\/url&gt;/isU'</span>, $str, $matches)) &#123; <span class="regexp">//</span> æ­£åˆ™åŒ¹é…æŠ“å–å›¾ç‰‡url</span><br><span class="line">//     $imgurl = <span class="string">'http://cn.bing.com'</span>.$matches[<span class="number">1</span>];</span><br><span class="line">// &#125; <span class="keyword">else</span> &#123;  <span class="regexp">//</span> å¦‚æœç”±äºæŸäº›åŸå› ï¼Œæ²¡æŠ“å–åˆ°å›¾ç‰‡åœ°å€</span><br><span class="line">//     $imgurl = <span class="string">'http://img.infinitynewtab.com/InfinityWallpaper/2_14.jpg'</span>; <span class="regexp">//</span> ä½¿ç”¨é»˜è®¤çš„å›¾åƒ(é»˜è®¤å›¾åƒé“¾æ¥å¯ä¿®æ”¹ä¸ºè‡ªå·±çš„)</span><br><span class="line">// &#125;</span><br><span class="line">// echo <span class="string">"$imgurl"</span>;</span><br><span class="line">// echo <span class="string">"&lt;img src='$imgurl' /&gt;"</span>;</span><br><span class="line">// header(<span class="string">"Location:&#123;$imgurl&#125;"</span>); <span class="regexp">//</span> è·³è½¬è‡³ç›®æ ‡å›¾åƒ</span><br></pre></td></tr></table></figure><h3><span id="æ–‡ä»¶ç®¡ç†">æ–‡ä»¶ç®¡ç†</span></h3><p><a href="https://github.com/DirectoryLister/DirectoryLister" target="_blank" rel="noopener">DirectoryLister</a></p><h2><span id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</span></h2><p><a href="https://mkblog.cn/492/" target="_blank" rel="noopener">å‚è€ƒé“¾æ¥</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;bingæ¯æ—¥ç¾å›¾&quot;&gt;BINGæ¯æ—¥ç¾å›¾&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span id=&quot;è§£æapi&quot;&gt;è§£æAPI&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;www.bing.com&quot;&gt;bing æœç´¢&lt;/a&gt;&lt;/p&gt;
&lt;!-- ![](http:
      
    
    </summary>
    
    
    
      <category term="BING" scheme="https://cl9000.github.io/tags/BING/"/>
    
      <category term="bing å›¾" scheme="https://cl9000.github.io/tags/bing-%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>Mac å®šæ—¶ä»»åŠ¡ launchctl</title>
    <link href="https://cl9000.github.io/2017/04/09/Mac-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1-launchctl/"/>
    <id>https://cl9000.github.io/2017/04/09/Mac-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1-launchctl/</id>
    <published>2017-04-09T11:04:12.000Z</published>
    <updated>2020-04-13T09:48:58.266Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="mac-å®šæ—¶ä»»åŠ¡-launchctl">Mac å®šæ—¶ä»»åŠ¡ launchctl</span></h2><h3><span id="launchctl">launchctl</span></h3><p>launchctl: æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æœåŠ¡ç®¡ç†æ¡†æ¶ï¼Œå¯ä»¥å¯åŠ¨ã€åœæ­¢å’Œç®¡ç†å®ˆæŠ¤è¿›ç¨‹ã€åº”ç”¨ç¨‹åºã€è¿›ç¨‹å’Œè„šæœ¬ç­‰ã€‚<br>launchctlæ˜¯é€šè¿‡é…ç½®æ–‡ä»¶æ¥æŒ‡å®šæ‰§è¡Œå‘¨æœŸå’Œä»»åŠ¡çš„ã€‚</p><h3><span id="é…ç½®æ–‡ä»¶plistæ–‡ä»¶">é…ç½®æ–‡ä»¶ï¼ˆplistæ–‡ä»¶ï¼‰</span></h3><p>launchctl å°†æ ¹æ®plistæ–‡ä»¶çš„ä¿¡æ¯æ¥å¯åŠ¨ä»»åŠ¡ã€‚</p><h5><span id="plistæ–‡ä»¶ä½ç½®">plistæ–‡ä»¶ä½ç½®ï¼š</span></h5><ul><li>~/Library/LaunchAgents ç”±ç”¨æˆ·è‡ªå·±å®šä¹‰çš„ä»»åŠ¡é¡¹ï¼ˆæ¨èï¼‰</li><li>/Library/LaunchAgents ç”±ç®¡ç†å‘˜ä¸ºç”¨æˆ·å®šä¹‰çš„ä»»åŠ¡é¡¹</li><li>/Library/LaunchDaemons ç”±ç®¡ç†å‘˜å®šä¹‰çš„å®ˆæŠ¤è¿›ç¨‹ä»»åŠ¡é¡¹</li><li>/System/Library/LaunchAgents ç”±Mac OS Xä¸ºç”¨æˆ·å®šä¹‰çš„ä»»åŠ¡é¡¹</li><li>/System/Library/LaunchDaemons ç”±Mac OS Xå®šä¹‰çš„å®ˆæŠ¤è¿›ç¨‹ä»»åŠ¡é¡¹</li></ul><h5><span id="plistéƒ¨åˆ†å‚æ•°è¯´æ˜">plistéƒ¨åˆ†å‚æ•°è¯´æ˜ï¼š</span></h5><ul><li>Labelï¼šå…¨å±€å”¯ä¸€æ€§ï¼›</li><li>ProgramArgumentsï¼šæŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬</li><li>StartCalendarIntervalï¼šå¯ä»¥æŒ‡å®šè„šæœ¬åœ¨å¤šå°‘åˆ†é’Ÿã€å°æ—¶ã€å¤©ã€æ˜ŸæœŸå‡ ã€æœˆæ—¶é—´ä¸Šæ‰§è¡Œ</li><li>StartIntervalï¼šæŒ‡å®šè„šæœ¬æ¯é—´éš”å¤šé•¿æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰æ‰§è¡Œä¸€æ¬¡ï¼›</li><li>StandardInPathã€StandardOutPathã€StandardErrorPathï¼šæ ‡å‡†çš„è¾“å…¥ã€è¾“å‡ºã€é”™è¯¯æ–‡ä»¶ã€‚</li></ul><h3><span id="ç›¸å…³å‘½ä»¤">ç›¸å…³å‘½ä»¤</span></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åŠ è½½ä»»åŠ¡, -wé€‰é¡¹ä¼šå°†plistæ–‡ä»¶ä¸­æ— æ•ˆçš„keyè¦†ç›–æ‰ï¼Œå»ºè®®åŠ ä¸Š</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl load -w com.test.plist</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤ä»»åŠ¡</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl unload -w com.test.plist</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨, ä½¿ç”¨ grep <span class="string">'ä»»åŠ¡éƒ¨åˆ†åå­—'</span> è¿‡æ»¤</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl list | grep <span class="string">'test.demo'</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¼€å§‹ä»»åŠ¡ - ç«‹å³æ‰§è¡Œ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl start com.test.plist</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç»“æŸä»»åŠ¡</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl stop com.test.plist</span></span><br></pre></td></tr></table></figure><h3><span id="ä½¿ç”¨">ä½¿ç”¨</span></h3><ol><li><p>æ–°å»º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">demo</span></span><br><span class="line">    <span class="selector-tag">-</span> <span class="selector-tag">com</span><span class="selector-class">.test</span><span class="selector-class">.plist</span></span><br><span class="line">    <span class="selector-tag">-</span> <span class="selector-tag">testshell</span><span class="selector-class">.sh</span></span><br></pre></td></tr></table></figure></li><li><p>å†…å®¹ï¼š<br>com.test.plist</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">plist</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//Apple//DTD PLIST 1.0//EN"</span> <span class="meta-string">"http://www.apple.com/DTDs/PropertyList-1.0.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Labelå”¯ä¸€çš„æ ‡è¯† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>com.test<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è¦è¿è¡Œçš„ç¨‹åºï¼Œ å¦‚æœçœç•¥è¿™ä¸ªé€‰é¡¹ï¼Œä¼šæŠŠProgramArgumentsçš„ç¬¬ä¸€ä¸ª</span></span><br><span class="line"><span class="comment">    å…ƒç´ ä½œä¸ºè¦è¿è¡Œçš„ç¨‹åº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Program<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/weichanglu/Desktop/demo/testShell.sh<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>ProgramArguments<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/weichanglu/Desktop/demo/testShell.sh<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šè¿è¡Œçš„æ—¶é—´ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StartCalendarInterval<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Minute<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>30<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Hour<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>9<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Day<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>1<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Month<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>5<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 0å’Œ7éƒ½æŒ‡æ˜ŸæœŸå¤© --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Weekday<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>0<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è¿è¡Œé—´éš”ï¼Œä¸StartCalenderIntervalä½¿ç”¨å…¶ä¸€ï¼Œå•ä½ä¸ºç§’ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StartInterval<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">integer</span>&gt;</span>3<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ ‡å‡†è¾“å…¥æ–‡ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StandardInPath<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/uniflor/runin.log<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ ‡å‡†è¾“å‡ºæ–‡ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StandardOutPath<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/weichanglu/Desktop/demo/success.log<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ ‡å‡†é”™è¯¯è¾“å‡ºæ–‡ä»¶ï¼Œé”™è¯¯æ—¥å¿— --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StandardErrorPath<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/weichanglu/Desktop/demo/error.log<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="http://testshell.sh" target="_blank" rel="noopener">testshell.sh</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> <span class="comment">#è®°å½•æ—¶é—´ - è‡ªå®šä¹‰è„šæœ¬æˆ–Pythonè„šæœ¬</span></span><br><span class="line"><span class="built_in">echo</span> `date` &gt;&gt; ~/Desktop/demo/success.log</span><br><span class="line">time=$(date <span class="string">"+%Y-%m-%d %Hï¼š%Mï¼š%S"</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$time</span>"</span> &gt;&gt; ~/Desktop/demo/time.txt</span><br></pre></td></tr></table></figure><ol start="3"><li><p>å°† plist æ–‡ä»¶å¤åˆ¶åˆ° <code>~/Library/LaunchAgents</code> ç›®å½•ä¸‹ï¼Œéœ€è¦æƒé™ã€‚</p></li><li><p>ç»ˆç«¯æ‰§è¡Œ <code>$ cd ~/Library/LaunchAgents</code>ï¼Œç›®å½•ä¸‹ï¼Œæ‰§è¡Œå¯åŠ¨æœåŠ¡å‘½ä»¤ï¼Œå‚è€ƒä¸Šé¢å‘½ä»¤ã€‚</p></li><li><p>æŸ¥çœ‹è¾“å‡ºæ–‡ä»¶ã€‚</p></li></ol><h3><span id="è·¯å¾„åŸºç¡€æ¦‚å¿µ">è·¯å¾„åŸºç¡€æ¦‚å¿µ</span></h3><h6><span id="systemlibraryå’Œlibraryå’Œ~libraryç›®å½•çš„åŒºåˆ«">/System/Libraryå’Œ/Libraryå’Œ~/Libraryç›®å½•çš„åŒºåˆ«ï¼Ÿ</span></h6><blockquote><p>/System/Libraryç›®å½•æ˜¯å­˜æ”¾Appleè‡ªå·±å¼€å‘çš„è½¯ä»¶ã€‚<br>/Libraryç›®å½•æ˜¯ç³»ç»Ÿç®¡ç†å‘˜å­˜æ”¾çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚<br>~/Library/æ˜¯ç”¨æˆ·è‡ªå·±å­˜æ”¾çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚</p></blockquote><h6><span id="launchdaemonså’Œlaunchagentsçš„åŒºåˆ«">LaunchDaemonså’ŒLaunchAgentsçš„åŒºåˆ«ï¼Ÿ</span></h6><blockquote><p>LaunchDaemonsæ˜¯ç”¨æˆ·æœªç™»é™†å‰å°±å¯åŠ¨çš„æœåŠ¡ï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰ã€‚<br>LaunchAgentsæ˜¯ç”¨æˆ·ç™»é™†åå¯åŠ¨çš„æœåŠ¡ï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰ã€‚</p></blockquote><h3><span id="è¡¥å……">è¡¥å……</span></h3><ol><li>è¿è¡Œå¼‚å¸¸ï¼š<code>... operation not permitted ...</code><br>è§£å†³æ–¹æ¡ˆï¼šæš‚æ—¶å…³é—­Mac rootlessæœºåˆ¶</li><li>æƒé™é—®é¢˜<br>æ³¨æ„ï¼Œè„šæœ¬è¦æ”¹æˆå¯æ‰§è¡Œçš„æƒé™ï¼š<br><code>chmod 777 *.sh</code></li></ol><h3><span id="launchctlçš„guiå·¥å…·">launchctlçš„GUIå·¥å…·</span></h3><p><a href="https://www.soma-zone.com/LaunchControl/" target="_blank" rel="noopener">LaunchControl</a>ï¼Œç”¨è¿™ä¸ªå·¥å…·å¯ä»¥æŸ¥çœ‹åˆ°æ‰€æœ‰çš„launchctlå®šæ—¶ä»»åŠ¡ã€‚å¹¶ç”¨GUIçš„æ–¹å¼è¿›è¡Œä¿®æ”¹æ‰§è¡Œç­‰ã€‚</p><h3><span id="å‚è€ƒ">å‚è€ƒ</span></h3><p><a href="http://codingpub.github.io/2016/10/27/OS-X-%E6%B7%BB%E5%8A%A0%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" target="_blank" rel="noopener">OS X æ·»åŠ å®šæ—¶ä»»åŠ¡</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;mac-å®šæ—¶ä»»åŠ¡-launchctl&quot;&gt;Mac å®šæ—¶ä»»åŠ¡ launchctl&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span id=&quot;launchctl&quot;&gt;launchctl&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;launchctl: æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æœåŠ¡ç®¡ç†æ¡†æ¶ï¼Œå¯
      
    
    </summary>
    
    
      <category term="Mac" scheme="https://cl9000.github.io/categories/Mac/"/>
    
    
      <category term="Mac" scheme="https://cl9000.github.io/tags/Mac/"/>
    
      <category term="å®šæ—¶ä»»åŠ¡" scheme="https://cl9000.github.io/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"/>
    
      <category term="launchctl" scheme="https://cl9000.github.io/tags/launchctl/"/>
    
  </entry>
  
  <entry>
    <title>Mac rootlessæœºåˆ¶</title>
    <link href="https://cl9000.github.io/2017/04/03/Mac-rootless%E6%9C%BA%E5%88%B6/"/>
    <id>https://cl9000.github.io/2017/04/03/Mac-rootless%E6%9C%BA%E5%88%B6/</id>
    <published>2017-04-03T10:08:22.000Z</published>
    <updated>2020-04-09T11:11:23.949Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="mac-rootlessæœºåˆ¶-operation-not-permitted">Mac rootlessæœºåˆ¶ <code>Operation not permitted</code></span></h2><p>Macä½¿ç”¨ <code>sudo</code> æˆ–åˆ‡æ¢æˆ <code>root</code> æƒé™ï¼Œè¿˜æ˜¯å‡ºç°<br><code>Operation not permitted</code></p><p>è¿™æ˜¯ç”±äº Max OS X El çš„<code>rootless</code>æœºåˆ¶ï¼Œå³sudoä¹Ÿä¸èƒ½æ“ä½œéƒ¨åˆ†æ–‡ä»¶ç›®å½•ï¼Œ æ‰€ä»¥å¦‚æœéœ€è¦æ‰§è¡Œï¼Œéœ€è¦å…ˆå…³é—­rootlessåŠŸèƒ½ã€‚å¯ä»¥è¿›å…¥æ¢å¤æ¨¡å¼å…³é—­<code>rootless</code>æœºåˆ¶ï¼š</p><p>1ã€é‡å¯Macï¼ŒæŒ‰ <code>command+R</code> è¿›å…¥æ¢å¤æ¨¡å¼</p><p>2ã€é€‰æ‹©ç»ˆç«¯ï¼Œåœ¨å·¦ä¸Šè§’ï¼Œè¾“å…¥æŒ‡ä»¤ï¼š</p><p><code>$ csrutil disable</code></p><p>3ã€é‡å¯åè®©æœºå™¨æ­£å¸¸å¯åŠ¨ï¼Œå¯ä»¥åœ¨ç»ˆç«¯æŸ¥çœ‹<code>rootless</code>çŠ¶æ€ï¼š<br><code>$ csrutil status</code></p><p>æ­£å¸¸æƒ…å†µä¸‹rootlesså·²ç»å…³é—­ã€‚</p><p>4ã€è¦æƒ³é‡æ–°å¼€å¯<code>rootless</code>æœºåˆ¶ï¼Œå‚ç…§æ­¥éª¤1ï¼Œè¾“å…¥æŒ‡ä»¤ï¼š<br><code>$ csrutil enable</code></p><p>å¦å¤–ä¸€ç§æ–¹å¼æ›´ç®€æ´ï¼Œ ä½†æ˜¯æˆ‘æ²¡æœ‰éªŒè¯è¿‡ï¼Œ è‡ªå·±å¯ä»¥åŠ¨æ‰‹è¯•ä¸€ä¸‹ï¼š</p><p>ä¸éœ€è¦è¿›å…¥æ¢å¤æ¨¡å¼ï¼Œ åœ¨teminalä¸­è¾“å…¥</p><p>sudo nvram boot-args=â€kext-dev-mode=1 rootless=0â€³;sudo reboot</p><p>è¾“å…¥å¯†ç åé‡å¯ã€‚</p><p>æ‰“å¼€rootless</p><p>sudo nvram boot-args=â€rootless=1â€³ é‡å¯</p><p>æŸ¥çœ‹rootless<br>nvram boot-args</p><p>æŸ¥çœ‹é‚£äº›ç›®å½•æœ‰rootlessé™åˆ¶</p><p>cd /</p><p>ls -lO|grep restricted</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;mac-rootlessæœºåˆ¶-operation-not-permitted&quot;&gt;Mac rootlessæœºåˆ¶ &lt;code&gt;Operation not permitted&lt;/code&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Macä½¿ç”¨ &lt;code&gt;sudo&lt;/c
      
    
    </summary>
    
    
      <category term="Mac" scheme="https://cl9000.github.io/categories/Mac/"/>
    
    
      <category term="Mac" scheme="https://cl9000.github.io/tags/Mac/"/>
    
      <category term="rootless" scheme="https://cl9000.github.io/tags/rootless/"/>
    
  </entry>
  
  <entry>
    <title>fullpage.js ä½¿ç”¨</title>
    <link href="https://cl9000.github.io/2017/04/01/fullpage-js/"/>
    <id>https://cl9000.github.io/2017/04/01/fullpage-js/</id>
    <published>2017-04-01T10:19:35.000Z</published>
    <updated>2020-04-10T10:49:36.261Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="fullpagejs">fullpage.js</span></h2><h3><span id="é“¾æ¥">é“¾æ¥</span></h3><ul><li><a href="https://github.com/alvarotrigo/fullPage.js" target="_blank" rel="noopener">fullPage.js å®˜æ–¹</a></li><li><a href="https://alvarotrigo.com/fullPage/" target="_blank" rel="noopener">fullPage.js é¡µé¢</a></li></ul><h3><span id="åœ¨ä½¿ç”¨">åœ¨ä½¿ç”¨</span></h3><ul><li><a href="http://i.360.cn/security/accountguard?sb_param=213339c16e226d74ff0ec3b949fd52d6" target="_blank" rel="noopener">360</a></li><li><a href="http://themify.me/demo/#theme=fullpane" target="_blank" rel="noopener">http://themify.me/demo/#theme=fullpane</a></li><li><a href="http://www.kesstrio.com/#galleryPage" target="_blank" rel="noopener">http://www.kesstrio.com/#galleryPage</a></li><li><a href="http://boxx.hk/tc/" target="_blank" rel="noopener">http://boxx.hk/tc/</a></li><li><a href="http://www.camanihome.com/#contacts" target="_blank" rel="noopener">http://www.camanihome.com/#contacts</a></li><li><a href="https://lingualeo.com/pt" target="_blank" rel="noopener">https://lingualeo.com/pt</a></li><li><a href="https://github.com/cl9000/fullPage.js#who-is-using-fullpagejs" target="_blank" rel="noopener">æ›´å¤š â€¦</a></li></ul><h3><span id="ä½¿ç”¨-å…·ä½“å‚è€ƒå®˜æ–¹æ–‡æ¡£">ä½¿ç”¨ - å…·ä½“å‚è€ƒå®˜æ–¹æ–‡æ¡£</span></h3><p>index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>fullpage-js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"fullpage.css"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"background: #fc6c7c;text-align: center;"</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- fullpage --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"fullpage"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- active è®¾ç½®é»˜è®¤èµ·å§‹é¡µ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span>Some section<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section active"</span>&gt;</span>Some section<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span> <span class="attr">data-anchor</span>=<span class="string">"slide1"</span>&gt;</span> slide 1 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span> <span class="attr">data-anchor</span>=<span class="string">"slide2"</span>&gt;</span> slide 2 <span class="tag">&lt;<span class="name">img</span> <span class="attr">data-src</span>=<span class="string">"static/bg.jpg"</span> <span class="attr">style</span>=<span class="string">"width: 80%;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span> <span class="attr">data-anchor</span>=<span class="string">"slide3"</span>&gt;</span> slide 3</span><br><span class="line">        <span class="comment">&lt;!-- &lt;audio controls data-autoplay data-keepplaying&gt;</span></span><br><span class="line"><span class="comment">          &lt;source src="http://metakoncept.hr/horse.ogg" type="audio/ogg"&gt;</span></span><br><span class="line"><span class="comment">        &lt;/audio&gt;</span></span><br><span class="line"><span class="comment">        &lt;video controls&gt; --&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- &lt;source data-src="video.webm" type="video/webm" /&gt; --&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- &lt;source data-src="static/20190324.mp4" type="video/mp4" /&gt;</span></span><br><span class="line"><span class="comment">        &lt;/video&gt;  --&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span> <span class="attr">data-anchor</span>=<span class="string">"slide4"</span>&gt;</span> slide 4 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span>æ•´ä¸ªè§†å›¾<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section fp-auto-height"</span>&gt;</span><span class="tag">&lt;<span class="name">h2</span>&gt;</span>fp-auto-height è‡ªåŠ¨é«˜åº¦<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section fp-auto-height-responsive"</span>&gt;</span>fp-auto-height-responsive å…¨å±ï¼Œç›´åˆ°å“åº”æ¨¡å¼ç»ˆæ­¢ã€‚ æ ¹æ®å®šä¹‰è°ƒæ•´å¤§å°ï¼Œå¯èƒ½æ˜¯å¤§äºæˆ–å°äºè§†å£<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- ä»¥ä¸‹è¡Œæ˜¯å¯é€‰çš„ã€‚ åªæœ‰åœ¨ä½¿ç”¨é€‰é¡¹ css3:false ï¼Œå¹¶ä¸”æ‚¨å¸Œæœ›ä½¿ç”¨å…¶ä»–ç¼“åŠ¨æ•ˆæœï¼Œè€Œé linearã€swing æˆ– easeInOutCubic æ—¶æ‰æœ‰å¿…è¦ã€‚ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;script src="vendors/easings.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ä»¥ä¸‹è¡Œä»…åœ¨ä½¿ç”¨é€‰é¡¹ scrollOverflow:true çš„æƒ…å†µä¸‹æ˜¯å¿…éœ€çš„ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;script type="text/javascript" src="vendors/scrolloverflow.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"fullpage.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- fullpage.js åˆå§‹åŒ– --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> myFullpage = <span class="keyword">new</span> fullpage(<span class="string">'#fullpage'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">      anchors:[<span class="string">'firstPage'</span>, <span class="string">'secondPage'</span>, <span class="string">'thirdPage'</span>,<span class="string">'fourthPage'</span>, <span class="string">'fifthPage'</span>],</span></span><br><span class="line"><span class="actionscript">      sectionsColor: [<span class="string">'#fc6c7c'</span>, <span class="string">'#4BBFC3'</span>, <span class="string">'#7BAABE'</span>, <span class="string">'#898989'</span>, <span class="string">'green'</span>]</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- ä»£ç å— --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell-header"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"shell-header-actions shell-header-close"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"shell-header-actions shell-header-minimize"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"shell-header-actions shell-header-maximize"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"shell-tabs"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#html"</span> <span class="attr">class</span>=<span class="string">"shell-tab active"</span>&gt;</span>HTML<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#js"</span> <span class="attr">class</span>=<span class="string">"shell-tab"</span>&gt;</span>JS<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://codepen.io/alvarotrigo/pen/qqabrp"</span> <span class="attr">class</span>=<span class="string">"shell-demo"</span>&gt;</span>See in Codepen<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell-body"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell-tab-content active"</span> <span class="attr">data-tab</span>=<span class="string">"html"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">"highlight"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"language-html"</span> <span class="attr">data-lang</span>=<span class="string">"html"</span>&gt;</span>222<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line">truetrue  <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell-tab-content"</span> <span class="attr">data-tab</span>=<span class="string">"js"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">"highlight"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"language-javascript"</span> <span class="attr">data-lang</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">truetruetruetrue<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color: #e5e4e4;"</span>&gt;</span>111<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line">truetrue  <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä»£ç å— --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// Jqueryè·å–ç¬¬ä¸€ä¸ªå­å…ƒç´ </span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// ($(".shell-tabs").children(":first")).on('click', function () &#123;</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//   alert(222)</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// Jqueryè·å–ç¬¬å‡ ä¸ªå­å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">$(<span class="string">".shell-tabs a"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> index = $(<span class="string">".shell-tabs a"</span>).index(<span class="keyword">this</span>);</span></span><br><span class="line">    if(0 == index) &#123;</span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-tabs"</span>).children(<span class="string">'a'</span>).eq(<span class="number">0</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-tabs"</span>).children(<span class="string">'a'</span>).eq(<span class="number">1</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-body"</span>).children(<span class="string">"div"</span>).eq(<span class="number">0</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-body"</span>).children(<span class="string">"div"</span>).eq(<span class="number">1</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-tabs"</span>).children(<span class="string">'a'</span>).eq(<span class="number">0</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-tabs"</span>).children(<span class="string">'a'</span>).eq(<span class="number">1</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-body"</span>).children(<span class="string">"div"</span>).eq(<span class="number">0</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-body"</span>).children(<span class="string">"div"</span>).eq(<span class="number">1</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"> &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@charset</span> <span class="string">"UTF-8"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä»£ç å— */</span></span><br><span class="line"><span class="selector-class">.shell</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">54px</span>);</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#173549</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">54px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">1030px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.shell</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">60%</span> - <span class="number">54px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">900px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.shell</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e5e4e4</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header-actions</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">2px</span>;</span><br><span class="line">  <span class="comment">/* box-shadow: 0px 0px 10px 1px; */</span></span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-demo</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#173549</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-demo</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header-close</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header-minimize</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header-maximize</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">14px</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#173549</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab-content</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab-content</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2.18em</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.4em</span>;</span><br><span class="line">  <span class="attribute">overflow-x</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* ä»£ç å— */</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;fullpagejs&quot;&gt;fullpage.js&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span id=&quot;é“¾æ¥&quot;&gt;é“¾æ¥&lt;/span&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/alvarotrigo/fullPage
      
    
    </summary>
    
    
      <category term="JS" scheme="https://cl9000.github.io/categories/JS/"/>
    
    
      <category term="fullpage.js" scheme="https://cl9000.github.io/tags/fullpage-js/"/>
    
  </entry>
  
</feed>
