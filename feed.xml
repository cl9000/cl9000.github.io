<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Weichanglu</title>
  <icon>https://www.gravatar.com/avatar/749a0cb196d7f8d7b7f41d5a5fa372e4</icon>
  <subtitle>ä½ çŸ¥é“çš„è¶Šå¤šï¼Œä½ ä¸çŸ¥é“çš„è¶Šå¤š</subtitle>
  <link href="/feed.xml" rel="self"/>
  
  <link href="https://cl9000.github.io/"/>
  <updated>2021-09-24T04:04:50.718Z</updated>
  <id>https://cl9000.github.io/</id>
  
  <author>
    <name>cl9000</name>
    <email>cl9000@126.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ„å»ºå‰ç«¯è„šæ‰‹æ¶/cliçŸ¥è¯†</title>
    <link href="https://cl9000.github.io/2021/09/23/%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E8%84%9A%E6%89%8B%E6%9E%B6-cli%E7%9F%A5%E8%AF%86/"/>
    <id>https://cl9000.github.io/2021/09/23/%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E8%84%9A%E6%89%8B%E6%9E%B6-cli%E7%9F%A5%E8%AF%86/</id>
    <published>2021-09-23T03:08:23.000Z</published>
    <updated>2021-09-24T04:04:50.718Z</updated>
    
    <content type="html"><![CDATA[<p>é‚£äº›ç–¯ç‹‚åˆ°è®¤ä¸ºè‡ªå·±èƒ½å¤Ÿæ”¹å˜ä¸–ç•Œçš„äººï¼Œæ‰èƒ½çœŸæ­£æ”¹å˜ä¸–ç•Œã€‚â€”â€”&lt;å²è’‚å¤«Â·ä¹”å¸ƒæ–¯&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>è„šæ‰‹æ¶çš„ä½œç”¨å°±æ˜¯<strong>åˆ›å»ºé¡¹ç›®çš„åŸºæœ¬ç»“æ„å¹¶æä¾›é¡¹ç›®è§„èŒƒå’Œçº¦å®š</strong>ã€‚</p><ul><li><strong>ç»„ç»‡ç»“æ„</strong></li><li><strong>å¼€å‘èŒƒå¼</strong></li><li><strong>æ¨¡å—ä¾èµ–</strong></li><li><strong>å·¥å…·é…ç½®</strong></li><li><strong>ä»£ç åŸºç¡€</strong></li></ul><p>ç›®å‰å·¥ä½œä¸­å¸¸ç”¨çš„è„šæ‰‹æ¶æœ‰ <code>vue-cliã€create-react-appã€angular-cliã€yoemanï¼Œexpress-generator</code> ç­‰ï¼Œéƒ½æ˜¯é€šè¿‡ç®€å•çš„åˆå§‹åŒ–å‘½ä»¤ï¼Œå¿«é€Ÿæ­å»ºä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®çš„ç»“æ„ã€‚<br>è„šæ‰‹æ¶æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„å·¥å…·ï¼Œä¹Ÿæ˜¯å›¢é˜Ÿææ•ˆçš„é‡è¦æ‰‹æ®µã€‚</p><blockquote><p><strong>è„šæ‰‹æ¶å°±æ˜¯åœ¨å¯åŠ¨çš„æ—¶å€™è¯¢é—®ä¸€äº›ç®€å•çš„é—®é¢˜ï¼Œå¹¶ä¸”é€šè¿‡ç”¨æˆ·å›ç­”çš„ç»“æœå»æ¸²æŸ“å¯¹åº”çš„æ¨¡æ¿æ–‡ä»¶</strong>ï¼ŒåŸºæœ¬å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p></blockquote><ol><li>é€šè¿‡å‘½ä»¤è¡Œäº¤äº’è¯¢é—®ç”¨æˆ·</li><li>æ ¹æ®ç”¨æˆ·å›ç­”çš„ç»“æœç”Ÿæˆæ–‡ä»¶</li></ol><p>ä¾‹å¦‚ åœ¨ä½¿ç”¨ <code>vue-cli</code> åˆ›å»º Vue é¡¹ç›®æ—¶ã€‚<br><a href="https://cli.vuejs.org/zh/guide/creating-a-project.html" target="_blank" rel="noopener">ã€vue-cli æ–‡æ¡£ã€‘- https://cli.vuejs.org/zh/guide/creating-a-project.html </a></p><h2><span id="è„šæ‰‹æ¶å·¥å…·åº“">è„šæ‰‹æ¶å·¥å…·åº“</span></h2><p>æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶æˆ–è€…é˜…è¯»å…¶ä»–è„šæ‰‹æ¶æºç çš„æ—¶å€™éœ€è¦äº†è§£ä¸‹é¢è¿™äº›å·¥å…·åº“ ğŸ‘‡</p><table><thead><tr><th style="text-align:left">åç§°</th><th style="text-align:left">ç®€ä»‹</th><th style="text-align:left">åœ°å€</th></tr></thead><tbody><tr><td style="text-align:left"><a href="https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md" target="_blank" rel="noopener">commander</a></td><td style="text-align:left">å‘½ä»¤è¡Œè‡ªå®šä¹‰æŒ‡ä»¤</td><td style="text-align:left"><a href="https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md" target="_blank" rel="noopener">https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md</a></td></tr><tr><td style="text-align:left"><a href="https://github.com/SBoudrias/Inquirer.js/" target="_blank" rel="noopener">inquirer</a></td><td style="text-align:left">å‘½ä»¤è¡Œè¯¢é—®ç”¨æˆ·é—®é¢˜ï¼Œè®°å½•å›ç­”ç»“æœ</td><td style="text-align:left"><a href="https://github.com/SBoudrias/Inquirer.js/" target="_blank" rel="noopener">https://github.com/SBoudrias/Inquirer.js/</a></td></tr><tr><td style="text-align:left"><a href="https://www.npmjs.com/package/chalk" target="_blank" rel="noopener">chalk</a></td><td style="text-align:left">æ§åˆ¶å°è¾“å‡ºå†…å®¹æ ·å¼ç¾åŒ–</td><td style="text-align:left"><a href="https://www.npmjs.com/package/chalk" target="_blank" rel="noopener">https://www.npmjs.com/package/chalk</a></td></tr><tr><td style="text-align:left"><a href="https://www.npmjs.com/package/ora" target="_blank" rel="noopener">ora</a></td><td style="text-align:left">æ§åˆ¶å° loading æ ·å¼</td><td style="text-align:left"><a href="https://www.npmjs.com/package/ora" target="_blank" rel="noopener">https://www.npmjs.com/package/ora</a></td></tr><tr><td style="text-align:left"><a href="https://www.npmjs.com/package/download-git-repo" target="_blank" rel="noopener">download-git-repo</a></td><td style="text-align:left">ä¸‹è½½è¿œç¨‹æ¨¡ç‰ˆ</td><td style="text-align:left"><a href="https://www.npmjs.com/package/download-git-repo" target="_blank" rel="noopener">https://www.npmjs.com/package/download-git-repo</a></td></tr><tr><td style="text-align:left"><a href="https://www.npmjs.com/package/fs-extra" target="_blank" rel="noopener">fs-extra</a></td><td style="text-align:left">ç³»ç»Ÿfsæ¨¡å—çš„æ‰©å±•ï¼Œæä¾›äº†æ›´å¤šä¾¿åˆ©çš„ APIï¼Œå¹¶ç»§æ‰¿äº†fsæ¨¡å—çš„ API</td><td style="text-align:left"><a href="https://www.npmjs.com/package/fs-extra" target="_blank" rel="noopener">https://www.npmjs.com/package/fs-extra</a></td></tr><tr><td style="text-align:left"><a href="https://www.npmjs.com/package/figlet" target="_blank" rel="noopener">figlet</a></td><td style="text-align:left">æ§åˆ¶å°æ‰“å° logo</td><td style="text-align:left"><a href="https://www.npmjs.com/package/figlet" target="_blank" rel="noopener">https://www.npmjs.com/package/figlet</a></td></tr><tr><td style="text-align:left"><a href="https://www.npmjs.com/package/easy-table" target="_blank" rel="noopener">easy-table</a></td><td style="text-align:left">æ§åˆ¶å°è¾“å‡ºè¡¨æ ¼</td><td style="text-align:left"><a href="https://www.npmjs.com/package/easy-table" target="_blank" rel="noopener">https://www.npmjs.com/package/easy-table</a></td></tr><tr><td style="text-align:left"><a href="https://www.npmjs.com/package/cross-spawn" target="_blank" rel="noopener">cross-spawn</a></td><td style="text-align:left">æ”¯æŒè·¨å¹³å°è°ƒç”¨ç³»ç»Ÿä¸Šçš„å‘½ä»¤</td><td style="text-align:left"><a href="https://www.npmjs.com/package/cross-spawn" target="_blank" rel="noopener">https://www.npmjs.com/package/cross-spawn</a></td></tr></tbody></table><blockquote><p><strong>è¯¦ç»†å¯ä»¥æŸ¥çœ‹å…·ä½“è¯´æ˜æ–‡æ¡£</strong></p></blockquote><h2><span id="è„šæ‰‹æ¶-v1-ç®€å•ç‰ˆæœ¬">è„šæ‰‹æ¶ v1 ï¼ˆç®€å•ç‰ˆæœ¬ï¼‰</span></h2><h3><span id="1-åˆ›å»ºé¡¹ç›®">1. åˆ›å»ºé¡¹ç›®</span></h3><p>å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„ Node-Cli ç»“æ„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cl9000-cli          </span><br><span class="line">â”œâ”€ bin            </span><br><span class="line">â”‚  â””â”€ cli.js  # å¯åŠ¨æ–‡ä»¶ </span><br><span class="line">â”œâ”€ lib</span><br><span class="line">â”‚  â””â”€ constants.js</span><br><span class="line">â”‚  â””â”€ create.js</span><br><span class="line">â”‚  â””â”€ generator.js</span><br><span class="line">â”‚  â””â”€ http.js</span><br><span class="line">â”œâ”€ .npmrc</span><br><span class="line">â”œâ”€ LICENSE</span><br><span class="line">â”œâ”€ package.json</span><br><span class="line">â””â”€ README.md</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶ <code>package.json</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"cl9000-cli"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"simple vue cli"</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="string">"bin"</span>: &#123;</span><br><span class="line">    <span class="string">"cl"</span>: <span class="string">"./bin/cli.js"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"files"</span>: [</span><br><span class="line">    <span class="string">"bin"</span>,</span><br><span class="line">    <span class="string">"lib"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"author"</span>: &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"cl9000"</span>,</span><br><span class="line">    <span class="string">"email"</span>: <span class="string">"cl9000@126.com"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"keywords"</span>: [</span><br><span class="line">    <span class="string">"cl9000-cli"</span>,</span><br><span class="line">    <span class="string">"cl"</span>,</span><br><span class="line">    <span class="string">"è„šæ‰‹æ¶"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">  <span class="string">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"axios"</span>: <span class="string">"^0.21.1"</span>,</span><br><span class="line">    <span class="string">"chalk"</span>: <span class="string">"^4.1.2"</span>,</span><br><span class="line">    <span class="string">"commander"</span>: <span class="string">"^8.1.0"</span>,</span><br><span class="line">    <span class="string">"download-git-repo"</span>: <span class="string">"^3.0.2"</span>,</span><br><span class="line">    <span class="string">"figlet"</span>: <span class="string">"^1.5.2"</span>,</span><br><span class="line">    <span class="string">"fs-extra"</span>: <span class="string">"^10.0.0"</span>,</span><br><span class="line">    <span class="string">"inquirer"</span>: <span class="string">"^8.1.2"</span>,</span><br><span class="line">    <span class="string">"ora"</span>: <span class="string">"^5.4.0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å•ç¼–è¾‘ä¸€ä¸‹ cli.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /usr/bin/env node</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'cl9000-cli doing'</span>)</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿å¼€å‘è°ƒè¯•ï¼Œä½¿ç”¨ <code>npm link</code> å‘½ä»¤é“¾æ¥åˆ°å…¨å±€</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">~<span class="regexp">/Desktop/</span>cli/cl9000-cli -&gt;npm link</span><br><span class="line">npm WARN cl9000-cli@<span class="number">1.0</span><span class="number">.0</span> No repository field.</span><br><span class="line"></span><br><span class="line">up to date <span class="keyword">in</span> <span class="number">1.327</span>s</span><br><span class="line">found <span class="number">0</span> vulnerabilities</span><br><span class="line"></span><br><span class="line">/usr/local/bin/cl -&gt; <span class="regexp">/usr/</span>local/lib/node_modules/cl9000-cli/bin/cli.js</span><br><span class="line">/usr/local/lib/node_modules/cl9000-cli -&gt; <span class="regexp">/Users/</span>Desktop/cli/cl9000-cli</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä¸€ä¸‹</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~<span class="regexp">/Desktop/</span>cli/cl9000-cli -&gt;cl</span><br><span class="line">cl9000-cli doing # æ‰“å°å†…å®¹</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¾—åˆ°äº†æƒ³è¦çš„æ‰“å°å†…å®¹ã€‚ç»§ç»­ä¸‹ä¸€æ­¥ã€‚</p><h3><span id="2-åˆ›å»ºè„šæ‰‹æ¶å¯åŠ¨å‘½ä»¤">2. åˆ›å»ºè„šæ‰‹æ¶å¯åŠ¨å‘½ä»¤</span></h3><h4><span id="å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–</span></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ npm install commander --save</span><br><span class="line">$ npm install chalk --save</span><br><span class="line">$ npm install figlet --save</span><br><span class="line">$ npm install path --save</span><br><span class="line">$ npm install fs-extra --save</span><br><span class="line">$ npm install inquirer --save</span><br><span class="line">$ npm install ora --save</span><br><span class="line">$ npm install download-git-repo --save</span><br></pre></td></tr></table></figure><h4><span id="åˆ›å»ºå‘½ä»¤è¯¢é—®-å¸®åŠ©ä¿¡æ¯-æ‰“å°logo">åˆ›å»ºå‘½ä»¤ï¼Œè¯¢é—®ã€å¸®åŠ©ä¿¡æ¯ã€æ‰“å°Logo</span></h4><p>ç¼–è¾‘ <code>cli.js</code> æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /usr/bin/env node</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'cl9000-cli doing'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> program = <span class="built_in">require</span>(<span class="string">'commander'</span>)</span><br><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">'chalk'</span>)</span><br><span class="line"><span class="keyword">const</span> figlet = <span class="built_in">require</span>(<span class="string">'figlet'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å‘½ä»¤å’Œå‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®ç‰ˆæœ¬å·ä¿¡æ¯</span></span><br><span class="line">program</span><br><span class="line">    .version(<span class="string">`v<span class="subst">$&#123;<span class="built_in">require</span>(<span class="string">'../package.json'</span>).version&#125;</span>`</span>)</span><br><span class="line">    .usage(<span class="string">'&lt;command&gt; [option]'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º å‘½ä»¤</span></span><br><span class="line">program</span><br><span class="line">    .command(<span class="string">'create &lt;app-name&gt;'</span>)</span><br><span class="line">    .description(<span class="string">'create a new project'</span>)</span><br><span class="line">    <span class="comment">// -f or --force ä¸ºå¼ºåˆ¶åˆ›å»ºï¼Œå¦‚æœåˆ›å»ºçš„ç›®å½•å­˜åœ¨åˆ™ç›´æ¥è¦†ç›–</span></span><br><span class="line">    .option(<span class="string">'-f, --force'</span>, <span class="string">'overwrite target directory if it exist'</span>)</span><br><span class="line">    .action(<span class="function">(<span class="params">name, options</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æ‰“å°æ‰§è¡Œç»“æœ</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'name:'</span>, name, <span class="string">'options:'</span>, options)</span><br><span class="line">        <span class="comment">// åœ¨ create.js ä¸­æ‰§è¡Œåˆ›å»ºä»»åŠ¡</span></span><br><span class="line">        <span class="built_in">require</span>(<span class="string">'../lib/create.js'</span>)(name, options)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½® config å‘½ä»¤</span></span><br><span class="line">program</span><br><span class="line">    .command(<span class="string">'config [value]'</span>)</span><br><span class="line">    .description(<span class="string">'inspect and modify the config'</span>)</span><br><span class="line">    .option(<span class="string">'-g, --get &lt;path&gt;'</span>, <span class="string">'get value from option'</span>)</span><br><span class="line">    .option(<span class="string">'-s, --set &lt;path&gt; &lt;value&gt;'</span>)</span><br><span class="line">    .option(<span class="string">'-d, --delete &lt;path&gt;'</span>, <span class="string">'delete option from config'</span>)</span><br><span class="line">    .action(<span class="function">(<span class="params">value, options</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value, options)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½® ui å‘½ä»¤</span></span><br><span class="line">program</span><br><span class="line">    .command(<span class="string">'ui'</span>)</span><br><span class="line">    .description(<span class="string">'start add open cl9000-cli ui'</span>)</span><br><span class="line">    .option(<span class="string">'-p, --port &lt;port&gt;'</span>, <span class="string">'Port used for the UI Server'</span>)</span><br><span class="line">    .action(<span class="function">(<span class="params">option</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(option)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ --help æ‰§è¡Œ</span></span><br><span class="line">program</span><br><span class="line">    .on(<span class="string">'--help'</span>, () =&gt; &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ figlet ç»˜åˆ¶ Logo</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'\r\n'</span> + figlet.textSync(<span class="string">'cl9000'</span>, &#123;</span><br><span class="line">            font: <span class="string">'Ghost'</span>,</span><br><span class="line">            horizontalLayout: <span class="string">'default'</span>,</span><br><span class="line">            verticalLayout: <span class="string">'default'</span>,</span><br><span class="line">            width: <span class="number">80</span>,</span><br><span class="line">            whitespaceBreak: <span class="literal">true</span></span><br><span class="line">        &#125;));</span><br><span class="line">        <span class="comment">// æ–°å¢è¯´æ˜ä¿¡æ¯</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`\r\nRun <span class="subst">$&#123;chalk.cyan(<span class="string">`cl &lt;command&gt; --help`</span>)&#125;</span> for detailed usage of given command\r\n`</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æç”¨æˆ·æ‰§è¡Œå‘½ä»¤ä¼ å…¥å‚æ•°</span></span><br><span class="line">program.parse(process.argv);</span><br></pre></td></tr></table></figure><h3><span id="3-è¯¢é—®ç”¨æˆ·é—®é¢˜è·å–åˆ›å»ºæ‰€éœ€ä¿¡æ¯">3. è¯¢é—®ç”¨æˆ·é—®é¢˜è·å–åˆ›å»ºæ‰€éœ€ä¿¡æ¯</span></h3><h4><span id="è¯¢é—®åˆ›å»ºå¹¶è¿›è¡Œè¦†ç›–">è¯¢é—®åˆ›å»ºå¹¶è¿›è¡Œè¦†ç›–</span></h4><p>ç¼–è¾‘ <code>create.js</code> æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/create.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="comment">// fs-extra æ˜¯å¯¹ fs æ¨¡å—çš„æ‰©å±•ï¼Œæ”¯æŒ promise è¯­æ³•</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs-extra'</span>)</span><br><span class="line"><span class="keyword">const</span> inquirer = <span class="built_in">require</span>(<span class="string">'inquirer'</span>)</span><br><span class="line"><span class="keyword">const</span> Generator = <span class="built_in">require</span>(<span class="string">'./generator'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">name, options</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// éªŒè¯æ˜¯å¦æ­£å¸¸å–åˆ°å€¼</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'&gt;&gt;&gt; create.js'</span>, name, options)</span><br><span class="line">    <span class="comment">// æ‰§è¡Œåˆ›å»ºå‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å½“å‰å‘½ä»¤è¡Œé€‰æ‹©çš„ç›®å½•</span></span><br><span class="line">    <span class="keyword">const</span> cwd = process.cwd();</span><br><span class="line">    <span class="comment">// éœ€è¦åˆ›å»ºçš„ç›®å½•åœ°å€</span></span><br><span class="line">    <span class="keyword">const</span> targetAir = path.join(cwd, name)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›®å½•æ˜¯å¦å·²ç»å­˜åœ¨ï¼Ÿ</span></span><br><span class="line">    <span class="keyword">if</span> (fs.existsSync(targetAir)) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ˜¯å¦ä¸ºå¼ºåˆ¶åˆ›å»ºï¼Ÿ</span></span><br><span class="line">        <span class="keyword">if</span> (options.force) &#123;</span><br><span class="line">            <span class="keyword">await</span> fs.remove(targetAir)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è¯¢é—®ç”¨æˆ·æ˜¯å¦ç¡®å®šè¦è¦†ç›–</span></span><br><span class="line">            <span class="keyword">let</span> &#123; action &#125; = <span class="keyword">await</span> inquirer.prompt([</span><br><span class="line">                &#123;</span><br><span class="line">                    name: <span class="string">'action'</span>,</span><br><span class="line">                    type: <span class="string">'list'</span>,</span><br><span class="line">                    message: <span class="string">'Target directory already exists Pick an action:'</span>,</span><br><span class="line">                    choices: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            name: <span class="string">'Overwrite'</span>,</span><br><span class="line">                            value: <span class="string">'overwrite'</span></span><br><span class="line">                        &#125;, &#123;</span><br><span class="line">                            name: <span class="string">'Cancel'</span>,</span><br><span class="line">                            value: <span class="literal">false</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            ])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!action) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (action === <span class="string">'overwrite'</span>) &#123;</span><br><span class="line">                <span class="comment">// ç§»é™¤å·²å­˜åœ¨çš„ç›®å½•</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`\r\nRemoving...`</span>)</span><br><span class="line">                <span class="keyword">await</span> fs.remove(targetAir)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºé¡¹ç›®</span></span><br><span class="line">    <span class="keyword">const</span> generator = <span class="keyword">new</span> Generator(name, targetAir);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼€å§‹åˆ›å»ºé¡¹ç›®</span></span><br><span class="line">    generator.create()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="å¦‚ä½•è·å–æ¨¡ç‰ˆä¿¡æ¯">å¦‚ä½•è·å–æ¨¡ç‰ˆä¿¡æ¯</span></h3><p>æ¨¡æ¿ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“</p><p>åœ¨ <code>lib</code> ç›®å½•ä¸‹åˆ›å»º <code>constants.js</code> é™æ€å¸¸é‡æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/constants.js</span></span><br><span class="line">exports.REPO_ORGS = <span class="string">'https://api.github.com/orgs/cl9000-org/'</span>;</span><br><span class="line">exports.REPOS_ORG = <span class="string">'https://api.github.com/repos/cl9000-org/'</span>;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>lib</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>http.js</code> ä¸“é—¨å¤„ç†æ¨¡æ¿å’Œç‰ˆæœ¬ä¿¡æ¯çš„è·å–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/http.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ axios å¤„ç†è¯·æ±‚</span></span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">'axios'</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; REPO_ORGS, REPOS_ORG &#125; = <span class="built_in">require</span>(<span class="string">'./constants'</span>);</span><br><span class="line"></span><br><span class="line">axios.interceptors.response.use(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> res.data;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–æ¨¡æ¿åˆ—è¡¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="variable">Promise</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getRepoList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(REPO_ORGS + <span class="string">'repos'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>repo æ¨¡æ¿åç§°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="variable">Promise</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span>  <span class="title">getTagList</span>(<span class="params">repo</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">`<span class="subst">$&#123;REPOS_ORG&#125;</span><span class="subst">$&#123;repo&#125;</span>/tags`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  getRepoList,</span><br><span class="line">  getTagList</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸€ä¸ª Generator.js æ¥å¤„ç†é¡¹ç›®åˆ›å»ºé€»è¾‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/generator.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; getRepoList, getTagList &#125; = <span class="built_in">require</span>(<span class="string">'./http'</span>)</span><br><span class="line"><span class="keyword">const</span> ora = <span class="built_in">require</span>(<span class="string">'ora'</span>)</span><br><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">'chalk'</span>)</span><br><span class="line"><span class="keyword">const</span> inquirer = <span class="built_in">require</span>(<span class="string">'inquirer'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> downloadGitRepo = <span class="built_in">require</span>(<span class="string">'download-git-repo'</span>) <span class="comment">// ä¸æ”¯æŒ Promise</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ åŠ è½½åŠ¨ç”»</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">wrapLoading</span>(<span class="params">fn, message, ...args</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ ora åˆå§‹åŒ–ï¼Œä¼ å…¥æç¤ºä¿¡æ¯ message</span></span><br><span class="line">    <span class="keyword">const</span> spinner = ora(message);</span><br><span class="line">    <span class="comment">// å¼€å§‹åŠ è½½åŠ¨ç”»</span></span><br><span class="line">    spinner.start();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// æ‰§è¡Œä¼ å…¥æ–¹æ³• fn</span></span><br><span class="line">        <span class="keyword">const</span> result = <span class="keyword">await</span> fn(...args);</span><br><span class="line">        <span class="comment">// çŠ¶æ€ä¸ºä¿®æ”¹ä¸ºæˆåŠŸ</span></span><br><span class="line">        spinner.succeed();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="comment">// çŠ¶æ€ä¸ºä¿®æ”¹ä¸ºå¤±è´¥</span></span><br><span class="line">        spinner.fail(<span class="string">'Request failed, refetch ...'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name, targetDir) &#123;</span><br><span class="line">        <span class="comment">// ç›®å½•åç§°</span></span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä½ç½®</span></span><br><span class="line">        <span class="keyword">this</span>.targetDir = targetDir;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹ download-git-repo è¿›è¡Œ promise åŒ–æ”¹é€ </span></span><br><span class="line">        <span class="keyword">this</span>.downloadGitRepo = util.promisify(downloadGitRepo);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ç”¨æˆ·é€‰æ‹©çš„æ¨¡æ¿</span></span><br><span class="line">    <span class="comment">// 1ï¼‰ä»è¿œç¨‹æ‹‰å–æ¨¡æ¿æ•°æ®</span></span><br><span class="line">    <span class="comment">// 2ï¼‰ç”¨æˆ·é€‰æ‹©è‡ªå·±æ–°ä¸‹è½½çš„æ¨¡æ¿åç§°</span></span><br><span class="line">    <span class="comment">// 3ï¼‰return ç”¨æˆ·é€‰æ‹©çš„åç§°</span></span><br><span class="line">    <span class="keyword">async</span> getRepo() &#123;</span><br><span class="line">        <span class="comment">// 1ï¼‰ä»è¿œç¨‹æ‹‰å–æ¨¡æ¿æ•°æ®</span></span><br><span class="line">        <span class="keyword">const</span> repoList = <span class="keyword">await</span> wrapLoading(getRepoList, <span class="string">'waiting fetch template'</span>);</span><br><span class="line">        <span class="keyword">if</span> (!repoList) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿‡æ»¤æˆ‘ä»¬éœ€è¦çš„æ¨¡æ¿åç§°</span></span><br><span class="line">        <span class="keyword">const</span> repos = repoList.map(<span class="function"><span class="params">item</span> =&gt;</span> item.name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ï¼‰ç”¨æˆ·é€‰æ‹©è‡ªå·±æ–°ä¸‹è½½çš„æ¨¡æ¿åç§°</span></span><br><span class="line">        <span class="keyword">const</span> &#123; repo &#125; = <span class="keyword">await</span> inquirer.prompt(&#123;</span><br><span class="line">            name: <span class="string">'repo'</span>,</span><br><span class="line">            type: <span class="string">'list'</span>,</span><br><span class="line">            choices: repos,</span><br><span class="line">            message: <span class="string">'Please choose a template to create project'</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ï¼‰return ç”¨æˆ·é€‰æ‹©çš„åç§°</span></span><br><span class="line">        <span class="keyword">return</span> repo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ç”¨æˆ·é€‰æ‹©çš„ç‰ˆæœ¬</span></span><br><span class="line">    <span class="comment">// 1ï¼‰åŸºäº repo ç»“æœï¼Œè¿œç¨‹æ‹‰å–å¯¹åº”çš„ tag åˆ—è¡¨</span></span><br><span class="line">    <span class="comment">// 2ï¼‰ç”¨æˆ·é€‰æ‹©è‡ªå·±éœ€è¦ä¸‹è½½çš„ tag</span></span><br><span class="line">    <span class="comment">// 3ï¼‰return ç”¨æˆ·é€‰æ‹©çš„ tag</span></span><br><span class="line">    <span class="keyword">async</span> getTag(repo) &#123;</span><br><span class="line">        <span class="comment">// 1ï¼‰åŸºäº repo ç»“æœï¼Œè¿œç¨‹æ‹‰å–å¯¹åº”çš„ tag åˆ—è¡¨</span></span><br><span class="line">        <span class="keyword">const</span> tags = <span class="keyword">await</span> wrapLoading(getTagList, <span class="string">'waiting fetch tag'</span>, repo);</span><br><span class="line">        <span class="keyword">if</span> (!tags) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿‡æ»¤æˆ‘ä»¬éœ€è¦çš„ tag åç§°</span></span><br><span class="line">        <span class="keyword">const</span> tagsList = tags.map(<span class="function"><span class="params">item</span> =&gt;</span> item.name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ï¼‰ç”¨æˆ·é€‰æ‹©è‡ªå·±éœ€è¦ä¸‹è½½çš„ tag</span></span><br><span class="line">        <span class="keyword">const</span> &#123; tag &#125; = <span class="keyword">await</span> inquirer.prompt(&#123;</span><br><span class="line">            name: <span class="string">'tag'</span>,</span><br><span class="line">            type: <span class="string">'list'</span>,</span><br><span class="line">            choices: tagsList,</span><br><span class="line">            message: <span class="string">'Place choose a tag to create project'</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ï¼‰return ç”¨æˆ·é€‰æ‹©çš„ tag</span></span><br><span class="line">        <span class="keyword">return</span> tag</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸‹è½½è¿œç¨‹æ¨¡æ¿</span></span><br><span class="line">    <span class="comment">// 1ï¼‰æ‹¼æ¥ä¸‹è½½åœ°å€</span></span><br><span class="line">    <span class="comment">// 2ï¼‰è°ƒç”¨ä¸‹è½½æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">async</span> download(repo, tag) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ï¼‰æ‹¼æ¥ä¸‹è½½åœ°å€</span></span><br><span class="line">        <span class="keyword">const</span> requestUrl = <span class="string">`cl9000-org/<span class="subst">$&#123;repo&#125;</span><span class="subst">$&#123;tag ? <span class="string">'#'</span> + tag : <span class="string">''</span>&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ï¼‰è°ƒç”¨ä¸‹è½½æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">await</span> wrapLoading(</span><br><span class="line">            <span class="keyword">this</span>.downloadGitRepo, <span class="comment">// è¿œç¨‹ä¸‹è½½æ–¹æ³•</span></span><br><span class="line">            <span class="string">'waiting download template'</span>, <span class="comment">// åŠ è½½æç¤ºä¿¡æ¯</span></span><br><span class="line">            requestUrl, <span class="comment">// å‚æ•°1: ä¸‹è½½åœ°å€</span></span><br><span class="line">            path.resolve(process.cwd(), <span class="keyword">this</span>.targetDir)) <span class="comment">// å‚æ•°2: åˆ›å»ºä½ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¸å¿ƒåˆ›å»ºé€»è¾‘</span></span><br><span class="line">    <span class="comment">// 1ï¼‰è·å–æ¨¡æ¿åç§°</span></span><br><span class="line">    <span class="comment">// 2ï¼‰è·å– tag åç§°</span></span><br><span class="line">    <span class="comment">// 3ï¼‰ä¸‹è½½æ¨¡æ¿åˆ°æ¨¡æ¿ç›®å½•</span></span><br><span class="line">    <span class="keyword">async</span> create() &#123;</span><br><span class="line">        <span class="comment">// 1ï¼‰è·å–æ¨¡æ¿åç§°</span></span><br><span class="line">        <span class="keyword">const</span> repo = <span class="keyword">await</span> <span class="keyword">this</span>.getRepo()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2) è·å– tag åç§°</span></span><br><span class="line">        <span class="keyword">const</span> tag = <span class="keyword">await</span> <span class="keyword">this</span>.getTag(repo)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'ç”¨æˆ·é€‰æ‹©äº†ï¼Œrepo='</span> + repo + <span class="string">'ï¼Œtag='</span> + tag)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ï¼‰ä¸‹è½½æ¨¡æ¿åˆ°æ¨¡æ¿ç›®å½•</span></span><br><span class="line">        <span class="keyword">await</span> <span class="keyword">this</span>.download(repo, tag)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 4ï¼‰æ¨¡æ¿ä½¿ç”¨æç¤º</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`\r\nSuccessfully created project <span class="subst">$&#123;chalk.cyan(<span class="keyword">this</span>.name)&#125;</span>`</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`\r\n  cd <span class="subst">$&#123;chalk.cyan(<span class="keyword">this</span>.name)&#125;</span>`</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'  npm run dev\r\n'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = Generator;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä¸€ä¸‹ï¼Œç»ˆç«¯æ‰§è¡Œå‘½ä»¤ <code>cl create my-project</code>â€¦</p><h2><span id="è„šæ‰‹æ¶-v2-æ‰©å±•ç‰ˆæœ¬">è„šæ‰‹æ¶ v2 ï¼ˆæ‰©å±•ç‰ˆæœ¬ï¼‰</span></h2><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><p><a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener">ã€vue-cli æºç ã€‘- https://github.com/vuejs/vue-cli</a></p></li><li><p><a href="https://cli.vuejs.org/zh/guide/creating-a-project.html" target="_blank" rel="noopener">ã€vue-cli æ–‡æ¡£ã€‘- https://cli.vuejs.org/zh/guide/creating-a-project.html </a></p></li><li><p><a href="https://yeoman.io/authoring/index.html" target="_blank" rel="noopener">ã€yeomanã€‘- https://yeoman.io/authoring/index.html</a></p></li><li><p><a href="https://juejin.cn/post/6966119324478079007#heading-33" target="_blank" rel="noopener">https://juejin.cn/post/6966119324478079007#heading-33</a></p></li><li><p><a href="https://juejin.cn/post/6932610749906812935#heading-0" target="_blank" rel="noopener">https://juejin.cn/post/6932610749906812935#heading-0</a></p></li><li><p><a href="https://juejin.cn/post/6882681067971543047" target="_blank" rel="noopener">https://juejin.cn/post/6882681067971543047</a></p></li><li><p><a href="https://juejin.cn/post/6844903807919325192#heading-0" target="_blank" rel="noopener">https://juejin.cn/post/6844903807919325192#heading-0</a></p></li><li><p><a href="https://juejin.cn/post/6844903806921080846" target="_blank" rel="noopener">https://juejin.cn/post/6844903806921080846</a></p></li><li><p><a href="https://segmentfault.com/a/1190000006190814?utm_source=weekly&amp;utm_medium=email&amp;utm_campaign=email_weekly#articleHeader0" target="_blank" rel="noopener">https://segmentfault.com/a/1190000006190814?utm_source=weekly&amp;utm_medium=email&amp;utm_campaign=email_weekly#articleHeader0</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é‚£äº›ç–¯ç‹‚åˆ°è®¤ä¸ºè‡ªå·±èƒ½å¤Ÿæ”¹å˜ä¸–ç•Œçš„äººï¼Œæ‰èƒ½çœŸæ­£æ”¹å˜ä¸–ç•Œã€‚â€”â€”&amp;lt;å²è’‚å¤«Â·ä¹”å¸ƒæ–¯&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;è„šæ‰‹æ¶çš„ä½œç”¨å°±æ˜¯&lt;strong&gt;åˆ›å»ºé¡¹ç›®çš„åŸºæœ¬ç»“æ„å¹¶æä¾›é¡¹ç›®è§„èŒƒå’Œçº¦å®š&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;u
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/tags/JavaScript/"/>
    
      <category term="è„šæ‰‹æ¶" scheme="https://cl9000.github.io/tags/%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
    
      <category term="cli" scheme="https://cl9000.github.io/tags/cli/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript è®¡ç®—é˜¶ä¹˜ - è¿­ä»£å’Œé€’å½’</title>
    <link href="https://cl9000.github.io/2021/08/18/JavaScript-%E8%AE%A1%E7%AE%97%E9%98%B6%E4%B9%98-%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/"/>
    <id>https://cl9000.github.io/2021/08/18/JavaScript-%E8%AE%A1%E7%AE%97%E9%98%B6%E4%B9%98-%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/</id>
    <published>2021-08-18T10:13:39.000Z</published>
    <updated>2021-09-17T10:37:40.657Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ç•æƒ§å¤±è´¥æ˜¯åˆ›é€ åŠ›çš„ä¸€ä¸ªåŸºæœ¬è¦ç´ ã€‚â€”â€”&lt;è‰¾å°”æ–‡Â·å…°å¾·åšå£«&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p><strong>ä¸€ä¸ªæ•°</strong>çš„<strong>é˜¶ä¹˜</strong>æ˜¯è¯¥æ•´æ•°ä¸æ‰€æœ‰å°äºæˆ–ç­‰äºå®ƒçš„æ­£æ•´æ•°çš„ä¹˜ç§¯ã€‚å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªæ­£æ•´æ•° - å¦åˆ™ï¼Œé€»è¾‘ä¼šæ‰©å±•åˆ°è´Ÿæ— ç©·å¤§ã€‚æ¢å¥è¯è¯´ - è®¡ç®—é˜¶ä¹˜æ„å‘³ç€å°†æ•°å­—å’Œ 1 ä¹‹é—´çš„æ‰€æœ‰æ•´æ•°ç›¸ä¹˜ã€‚</p><blockquote><p><strong>0ï¼æŒ‰ç…§æƒ¯ä¾‹ç­‰äº 1ï¼Œå¹¶ä¸”ä¸éµå¾ªæ ‡å‡†è§„åˆ™</strong><br>é˜¶ä¹˜ç”±æˆ‘ä»¬è®¡ç®—é˜¶ä¹˜çš„æ•´æ•°è¡¨ç¤ºï¼Œåè·Ÿæ„Ÿå¹å·ã€‚<br><strong>3ï¼è¡¨ç¤ºé˜¶ä¹˜çš„3</strong><br>ä¸ºäº†è®¡ç®—é˜¶ä¹˜ï¼Œæˆ‘ä»¬å°†æ•°å­—ä¹˜ä»¥æ¯ä¸ªå°äºå®ƒçš„æ•´æ•°ï¼Œç›´åˆ°è¾¾åˆ° 1ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>! = <span class="number">4</span> * <span class="number">3</span> * <span class="number">2</span> * <span class="number">1</span></span><br><span class="line"><span class="number">4</span>! = <span class="number">24</span></span><br></pre></td></tr></table></figure><p>æœ¬æ•™ç¨‹ä¸­ï¼Œå°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ <code>JavaScript</code> ä½¿ç”¨å¾ªç¯å’Œé€’å½’è®¡ç®—æ•´æ•°çš„é˜¶ä¹˜ã€‚</p><h2><span id="ä½¿ç”¨å¾ªç¯è®¡ç®—">ä½¿ç”¨å¾ªç¯è®¡ç®—</span></h2><p>æˆ‘ä»¬å¯ä»¥åŒæ—¶ä½¿ç”¨ <code>while</code> å¾ªç¯å’Œ <code>for</code> å¾ªç¯æ¥è®¡ç®—é˜¶ä¹˜ã€‚é€šå¸¸åªéœ€è¦ä¸€ä¸ªç”¨äºå¾ªç¯ç»ˆæ­¢çš„è®¡æ•°å™¨å’Œæˆ‘ä»¬æ­£åœ¨è®¡ç®—é˜¶ä¹˜çš„æä¾›çš„æ•°å­—ã€‚</p><p>ä½¿ç”¨ <code>for</code> å¾ªç¯è®¡ç®—é˜¶ä¹˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFactorialForLoop</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            result = result * i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"n å¿…é¡»æ˜¯æ­£æ•°"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»æ•°å­¦ä¸Šè®²ï¼Œè¿™äº›æ˜¯ç­‰æ•ˆçš„é™ˆè¿°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> * <span class="number">2</span> * <span class="number">3</span> * <span class="number">4</span> ... * n = n * (n<span class="number">-1</span>) * (n<span class="number">-2</span>) * (n<span class="number">-3</span>) * (n<span class="number">-4</span>) ... * (n - (n- <span class="number">1</span>))</span><br></pre></td></tr></table></figure><blockquote><p><strong>ä¸ºç®€åŒ–èµ·è§ï¼Œ(n - (n-1))å°†å§‹ç»ˆç­‰äº1ã€‚</strong><br>æ¼”ç¤º</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> inp = <span class="built_in">window</span>.prompt(<span class="string">"Enter a number: "</span>);</span><br><span class="line">inp = <span class="built_in">parseInt</span>(inp);</span><br><span class="line"></span><br><span class="line">alert(<span class="string">"The result is: "</span> + getFactorialForLoop(inp));</span><br><span class="line"><span class="comment">// 4ï¼æ˜¯4 * 3 * 2 * 1ï¼Œç»“æœä¸º24ã€‚</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>while</code> å¾ªç¯è®¡ç®—é˜¶ä¹˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFactorialWhileLoop</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        result = result * n;</span><br><span class="line">        n -= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ <code>for</code> å¾ªç¯éå¸¸ç›¸ä¼¼ã€‚é™¤äº†è¿™ä¸€æ¬¡æˆ‘ä»¬ä»ç§»åŠ¨ <code>n</code> å‘ <code>1</code>  -æ›´æ¥è¿‘äºæ•°å­¦ä¸Šçš„å®šä¹‰ã€‚è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬çš„åŠŸèƒ½ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> inp = <span class="built_in">window</span>.prompt(<span class="string">"Enter a number: "</span>);</span><br><span class="line">inp = <span class="built_in">parseInt</span>(inp);</span><br><span class="line">alert(<span class="string">"The result is: "</span> + getFactorialWhileLoop(inp));</span><br></pre></td></tr></table></figure><h2><span id="ä½¿ç”¨é€’å½’è®¡ç®—">ä½¿ç”¨é€’å½’è®¡ç®—</span></h2><p>é€’å½’å‡½æ•°æ˜¯è°ƒç”¨è‡ªèº«çš„å‡½æ•°ã€‚ä¹ä¸€å¬å¯èƒ½æœ‰ç‚¹å“äººï¼Œä½†è¯·è€å¿ƒç­‰å¾…ï¼Œæ‚¨ä¼šå‘ç°é€’å½’å‡½æ•°å¾ˆå®¹æ˜“ç†è§£ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸ªé€’å½’å‡½æ•°éƒ½æœ‰ä¸¤ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š<strong>åŸºæœ¬æƒ…å†µå’Œé€’å½’æ­¥éª¤ã€‚</strong></p><p>åŸºæœ¬æ¡ˆä¾‹æ˜¯é—®é¢˜çš„æœ€å°å®ä¾‹ - è¿™å°±æ˜¯é‡å¤çš„å†…å®¹ã€‚ä¹Ÿæ˜¯ä¸€ä¸ªä¸­æ–­ï¼Œä¸€ä¸ªå°†è¿”å›ä¸€ä¸ªå€¼å¹¶é€€å‡ºé€’å½’çš„æƒ…å†µã€‚å°±é˜¶ä¹˜å‡½æ•°è€Œè¨€ï¼ŒåŸºæœ¬æƒ…å†µæ˜¯æˆ‘ä»¬è¿”å›é˜¶ä¹˜çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå³<code>1</code>ã€‚</p><blockquote><p><strong>å¦‚æœæ²¡æœ‰åŸºæœ¬æƒ…å†µæˆ–ä¸æ­£ç¡®çš„åŸºæœ¬æƒ…å†µï¼Œæ‚¨çš„é€’å½’å‡½æ•°å¯èƒ½ä¼šæ— é™è¿è¡Œï¼Œä»è€Œå¯¼è‡´æº¢å‡ºã€‚</strong></p></blockquote><p>é€’å½’æ­¥éª¤â€”â€”é¡¾åæ€ä¹‰â€”â€”æ˜¯å‡½æ•°çš„é€’å½’éƒ¨åˆ†ï¼Œåœ¨è¿™é‡Œæ•´ä¸ªé—®é¢˜è¢«è½¬åŒ–ä¸ºæ›´å°çš„é—®é¢˜ã€‚å¦‚æœé€’å½’æ­¥éª¤æœªèƒ½ç¼©å°é—®é¢˜ï¼Œé‚£ä¹ˆé€’å½’å¯ä»¥æ— é™è¿è¡Œã€‚</p><p>è€ƒè™‘é˜¶ä¹˜çš„é‡å¤éƒ¨åˆ†ï¼š</p><ul><li>**5ï¼**æ˜¯ <code>5 * 4 * 3 * 2 * 1</code>ã€‚<br>// ä¹ŸçŸ¥é“ï¼š</li><li><code>4 * 3 * 2 * 1</code> æ˜¯ <strong>4ï¼</strong>.</li></ul><p>æ¢å¥è¯è¯´ï¼Œ<code>5</code>ï¼æ˜¯ <code>5 * 4!</code>ï¼Œå’Œ <code>4ï¼</code>æ˜¯ <code>4 * 3!</code> ç­‰ç­‰ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆè¯´ <code>n! = n * (n-1)!</code>ã€‚<strong>è¿™å°†æ˜¯æˆ‘ä»¬é˜¶ä¹˜çš„é€’å½’æ­¥éª¤ï¼</strong></p><p>é˜¶ä¹˜é€’å½’åœ¨è¾¾åˆ° <code>1</code> æ—¶ç»“æŸã€‚è¿™å°†æ˜¯æˆ‘ä»¬çš„åŸºæœ¬æƒ…å†µã€‚<code>1</code> å¦‚æœ <code>n</code> æ˜¯ <code>1</code> æˆ–æ›´å°‘ï¼Œæˆ‘ä»¬å°†è¿”å›ï¼Œè¦†ç›–é›¶è¾“å…¥ã€‚</p><p>é€’å½’é˜¶ä¹˜å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFactorialRecursively</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n * getFactorialRecursively(n<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æ‚¨æ‰€è§ï¼Œ<code>if</code>å—ä½“ç°äº†æˆ‘ä»¬çš„åŸºæœ¬æƒ…å†µï¼Œè€Œ <code>else</code>å—åˆ™æ¶µç›–äº†é€’å½’æ­¥éª¤ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> inp = <span class="built_in">window</span>.prompt(<span class="string">"Enter a number: "</span>);</span><br><span class="line">inp = <span class="built_in">parseInt</span>(inp);</span><br><span class="line"></span><br><span class="line">alert(<span class="string">"The result is: "</span> + getFactorialRecursively(inp));</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚ä½†è¿™ä¸€æ¬¡ï¼Œå¼•æ“ç›–ä¸‹çš„å†…å®¹ç›¸å½“æœ‰è¶£ï¼š</p><p>ä½ çœ‹ï¼Œå½“æˆ‘ä»¬è¾“å…¥è¾“å…¥æ—¶ï¼Œå‡½æ•°ä¼šæ£€æŸ¥<code>if</code>å—ï¼Œç”±äº <code>3</code> å¤§äº <code>1</code>ï¼Œå®ƒä¼šè·³åˆ° <code>else</code> å—ã€‚åœ¨è¿™ä¸ªå—ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€è¡Œ<code>return n * getFactorialRecursively(n-1);</code>ã€‚</p><blockquote><p><strong>æˆ‘ä»¬æš‚æ—¶çŸ¥é“<code>n</code>çš„å½“å‰å€¼ï¼Œå®ƒæ˜¯3ï¼Œä½†getFactorialRecursively(n-1)ä»æœ‰å¾…è®¡ç®—ã€‚</strong></p></blockquote><p>ç„¶åç¨‹åºå†æ¬¡è°ƒç”¨åŒä¸€ä¸ªå‡½æ•°ï¼Œä½†è¿™æ¬¡æˆ‘ä»¬çš„å‡½æ•°ä»¥ <code>2</code> ä½œä¸ºå‚æ•°ã€‚å®ƒæ£€æŸ¥ <code>if</code> å—å¹¶è·³åˆ° <code>else</code> å—å¹¶å†æ¬¡é‡åˆ°æœ€åä¸€è¡Œã€‚ç°åœ¨ï¼Œ<code>n</code>çš„å½“å‰å€¼<code>2</code><br>ä½†ç¨‹åºä»ç„¶è®¡ç®— <code>getFactorialRecursively(n-1)</code>.</p><p>å› æ­¤å®ƒå†æ¬¡è°ƒç”¨è¯¥å‡½æ•°ï¼Œä½†è¿™æ¬¡æ˜¯ <code>if</code> å—ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼ŒåŸºç±»æˆåŠŸè¿”å› <code>1</code> å¹¶ä»é€’å½’ä¸­è·³å‡ºã€‚</p><p>éµå¾ªç›¸åŒçš„æ¨¡å¼å‘ä¸Šï¼Œå®ƒè¿”å›æ¯ä¸ªå‡½æ•°ç»“æœï¼Œå°†å½“å‰ç»“æœä¸å‰ä¸€ä¸ªç»“æœç›¸ä¹˜ï¼Œ<code>n</code> å¹¶ä¸ºå‰ä¸€ä¸ªå‡½æ•°è°ƒç”¨è¿”å›å®ƒã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬çš„ç¨‹åºé¦–å…ˆåˆ°è¾¾é˜¶ä¹˜çš„åº•éƒ¨ï¼ˆå³ <code>1</code>ï¼‰ï¼Œç„¶åå‘ä¸Šæ„å»ºï¼ŒåŒæ—¶åœ¨æ¯ä¸€æ­¥è¿›è¡Œä¹˜æ³•è¿ç®—ã€‚</p><p>ä¹Ÿå°†å‡½æ•°ä»è°ƒç”¨æ ˆä¸­ä¸€ä¸€ç§»é™¤ï¼Œç›´åˆ° <code>n * (n-1)</code> è¿”å›æœ€ç»ˆç»“æœã€‚</p><p>è¿™é€šå¸¸æ˜¯é€’å½’å‡½æ•°çš„å·¥ä½œæ–¹å¼ã€‚ä¸€äº›æ›´å¤æ‚çš„é—®é¢˜å¯èƒ½éœ€è¦åŒ…å«å¤šä¸ªåŸºæœ¬æƒ…å†µæˆ–å¤šä¸ªé€’å½’æ­¥éª¤çš„æ›´æ·±å±‚æ¬¡çš„é€’å½’ã€‚ä½†å°±ç›®å‰è€Œè¨€ï¼Œè¿™ä¸ªç®€å•çš„é€’å½’è¶³ä»¥è§£å†³æˆ‘ä»¬çš„é˜¶ä¹˜é—®é¢˜ï¼</p><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ <code>for</code> å’Œ <code>while</code> å¾ªç¯è®¡ç®—é˜¶ä¹˜ã€‚æˆ‘ä»¬è¿˜å­¦ä¹ äº† <strong>é€’å½’</strong> æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨é€’å½’è®¡ç®—é˜¶ä¹˜ã€‚</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/calculate-factorial-with-javascript-iterative-and-recursive/" target="_blank" rel="noopener">https://stackabuse.com/calculate-factorial-with-javascript-iterative-and-recursive/</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸ç•æƒ§å¤±è´¥æ˜¯åˆ›é€ åŠ›çš„ä¸€ä¸ªåŸºæœ¬è¦ç´ ã€‚â€”â€”&amp;lt;è‰¾å°”æ–‡Â·å…°å¾·åšå£«&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ä¸ªæ•°&lt;/strong&gt;çš„&lt;strong&gt;é˜¶ä¹˜&lt;/strong&gt;æ˜¯è¯¥æ•´æ•°ä¸æ‰€æœ‰å°äºæˆ–ç­‰äºå®ƒçš„æ­£æ•´æ•°çš„ä¹˜ç§¯ã€‚
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>github å°†ä½¿ç”¨tokenä»£æ›¿å¯†ç </title>
    <link href="https://cl9000.github.io/2021/08/18/github%E5%B0%86%E4%BD%BF%E7%94%A8token%E4%BB%A3%E6%9B%BF%E5%AF%86%E7%A0%81/"/>
    <id>https://cl9000.github.io/2021/08/18/github%E5%B0%86%E4%BD%BF%E7%94%A8token%E4%BB%A3%E6%9B%BF%E5%AF%86%E7%A0%81/</id>
    <published>2021-08-18T05:52:46.000Z</published>
    <updated>2021-09-18T06:28:09.752Z</updated>
    
    <content type="html"><![CDATA[<p>è¾¾åˆ°å®Œç¾å¢ƒç•Œå¹¶ä¸æ˜¯æ— ä»¥å¤åŠ ï¼Œè€Œæ˜¯æ— å¯å»é™¤ã€‚â€”â€”&lt;å®‰æ‰˜ä¸‡Â·å¾·Â·åœ£Â·åŸƒå…‹è‹ä½©é‡Œ&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p><code>github</code> ä¸å†æ”¯æŒä½¿ç”¨å¯†ç çš„æ–¹å¼</p><h3><span id="github-ä¸å†æ”¯æŒä½¿ç”¨å¯†ç pushçš„æ–¹å¼">github ä¸å†æ”¯æŒä½¿ç”¨å¯†ç pushçš„æ–¹å¼</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Error</span>: remote: Support <span class="keyword">for</span> password authentication was removed on August <span class="number">13</span>, <span class="number">2021.</span> Please use a personal access token instead.</span><br><span class="line">remote: Please see https:<span class="comment">//github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.</span></span><br><span class="line"><span class="comment">// fatal: unable to access 'https://github.com/***/': The requested URL returned error: 403</span></span><br><span class="line"><span class="comment">// æ„æ€å°±æ˜¯ä½ åŸå…ˆçš„å¯†ç å‡­è¯ä»2021å¹´8æœˆ13æ—¥å¼€å§‹å°±ä¸èƒ½ç”¨äº†ï¼Œå¿…é¡»ä½¿ç”¨ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆpersonal access tokenï¼‰ï¼Œå°±æ˜¯æŠŠä½ çš„å¯†ç æ›¿æ¢æˆtokenï¼</span></span><br><span class="line"><span class="comment">// åŸå› ï¼šè‡ª2021å¹´8æœˆ13æ—¥èµ·ï¼Œgithubä¸å†æ”¯æŒä½¿ç”¨å¯†ç pushçš„æ–¹å¼</span></span><br></pre></td></tr></table></figure><h2><span id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆï¼š</span></h2><h3><span id="1-ç›´æ¥ä½¿ç”¨-github-çš„æ¡Œé¢å®¢æˆ·ç«¯æ“ä½œ-æˆ–-ssh">1ã€ç›´æ¥ä½¿ç”¨ github çš„æ¡Œé¢å®¢æˆ·ç«¯æ“ä½œ æˆ– SSH</span></h3><h3><span id="2-token-æ–¹å¼">2ã€token æ–¹å¼</span></h3><h4><span id="ç”Ÿæˆ-token">ç”Ÿæˆ token</span></h4><ul><li><code>ä¸ªäººè®¾ç½®é¡µé¢</code>ï¼ˆæˆ–å³ä¸Šè§’å¤´åƒï¼‰</li><li><code>Setting</code></li><li><code>Developer setting</code></li><li><code>Personal access tokens</code> =&gt; <code>Generate new token</code></li><li>è®¾ç½® <code>token</code> çš„æœ‰æ•ˆæœŸï¼Œè®¿é—®æƒé™ï¼Œè®¾ç½®å¤‡æ³¨ç­‰<ul><li>è¦ä½¿ç”¨ <code>token</code> è®¿é—®ä»“åº“ï¼Œè¯·é€‰æ‹© <code>repo</code>ã€‚</li><li>è¦ä½¿ç”¨ <code>token</code> åˆ é™¤ä»“åº“ï¼Œè¯·é€‰æ‹© <code>delete_repo</code></li><li>å…¶ä»–æ ¹æ®éœ€è¦è¿›è¡Œå‹¾é€‰</li></ul></li><li>ç”Ÿæˆä»¤ç‰Œ <code>Generate token</code></li></ul><blockquote><p><strong>æ³¨æ„ï¼š</strong><br>è®°å¾—æŠŠ <code>token</code> ä¿å­˜ä¸‹æ¥ï¼Œå› ä¸ºä½ ä¸€æ—¦ç¦»å¼€ç½‘é¡µçš„æ—¶å€™ï¼Œå°†æ— æ³•çœ‹åˆ°å®ƒäº†ï¼Œåªèƒ½åˆ é™¤é‡æ–°ç”³è¯·ã€‚</p></blockquote><h4><span id="ä½¿ç”¨tokenä»£æ›¿å¯†ç ">ä½¿ç”¨tokenä»£æ›¿å¯†ç </span></h4><ul><li>éœ€è¦è¾“å…¥è´¦å·åç§°å’Œå¯†ç ï¼Œå¯†ç æ›¿æ¢ä¸º <code>token</code> å³å¯ã€‚</li><li>ä¹Ÿå¯ä»¥æ”¾åˆ°é“¾æ¥ä¸­ï¼Œä¾‹å¦‚ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git remote <span class="keyword">set</span>-url origin https://&lt;your_token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git</span><br><span class="line">$ git push https://&lt;your_token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git</span><br><span class="line">// &lt;your_token&gt;ï¼šç”³è¯·çš„token</span><br><span class="line">// &lt;USERNAME&gt;ï¼šç”¨æˆ·å</span><br><span class="line">// &lt;REPO&gt;ï¼šä»“åº“å</span><br></pre></td></tr></table></figure><h2><span id="hexo-è§£å†³æ–¹å¼">hexo è§£å†³æ–¹å¼</span></h2><ul><li>ä¿®æ”¹ <code>_config.yml</code> æ–‡ä»¶</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo:</span><br><span class="line">    github: https:<span class="comment">//&lt;your_token&gt;@github.com/cl9000/cl9000.github.io.git</span></span><br><span class="line">    # github: git@github.com:cl9000/cl9000.github.io.git</span><br><span class="line">    # coding: </span><br><span class="line">    # gitee: </span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><ul><li>ä¿å­˜ï¼Œé‡æ–°æ‰§è¡Œå‘½ä»¤å³å¯ã€‚</li></ul><blockquote><p><strong>VS Code</strong> å¯ä»¥æ ¹æ®æç¤ºæ“ä½œï¼Œæˆæƒä½¿ç”¨ä¸‰æ–¹ <code>token</code></p></blockquote><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¾¾åˆ°å®Œç¾å¢ƒç•Œå¹¶ä¸æ˜¯æ— ä»¥å¤åŠ ï¼Œè€Œæ˜¯æ— å¯å»é™¤ã€‚â€”â€”&amp;lt;å®‰æ‰˜ä¸‡Â·å¾·Â·åœ£Â·åŸƒå…‹è‹ä½©é‡Œ&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;github&lt;/code&gt; ä¸å†æ”¯æŒä½¿ç”¨å¯†ç çš„æ–¹å¼&lt;/p&gt;
&lt;h3&gt;&lt;span id=&quot;gi
      
    
    </summary>
    
    
    
      <category term="github" scheme="https://cl9000.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript é›†åˆå…¥é—¨</title>
    <link href="https://cl9000.github.io/2021/08/12/JavaScript-%E9%9B%86%E5%90%88%E5%85%A5%E9%97%A8/"/>
    <id>https://cl9000.github.io/2021/08/12/JavaScript-%E9%9B%86%E5%90%88%E5%85%A5%E9%97%A8/</id>
    <published>2021-08-12T13:48:12.000Z</published>
    <updated>2021-09-16T10:29:09.098Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>ä¸åŒå½¢å¼çš„æ•°æ®ç»„æ˜¯å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­çš„åŸºæœ¬æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œ<strong>é€šè¿‡ä¸åŒæ•°æ®ç±»å‹è¡¨ç¤ºçš„æ•°æ®ç»„è¢«ç§°ä¸ºé›†åˆ</strong>ã€‚</p><p>åœ¨æœ¬æŒ‡å—ä¸­ - æˆ‘ä»¬å°†çœ‹çœ‹ <code>JavaScript</code> ä¸­çš„é›†åˆä»¥åŠä½•æ—¶ä½¿ç”¨å“ªç§ç±»å‹çš„é›†åˆã€‚æˆ‘ä»¬å°†ç ”ç©¶çš„ä¸‰ä¸ªä¸»è¦é›†åˆç»„æ˜¯ï¼š</p><ul><li>ç´¢å¼•é›†åˆ</li><li>é”®æ§é›†åˆ</li><li>DOM é›†åˆ</li></ul><h2><span id="ç´¢å¼•é›†åˆ">ç´¢å¼•é›†åˆ</span></h2><p>ä¸€ä¸ªç´¢å¼•é›†æ˜¯è¯¥æ•°æ®çš„é›†åˆï¼Œé€šè¿‡å®ƒä»¬çš„ç´¢å¼•ä¸­ã€‚<code>JavaScript</code> é›†åˆç´¢å¼•æ˜¯ä»0å¼€å§‹çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä» å¼€å§‹0ï¼Œè€Œä¸æ˜¯1ä¸€ç›´åˆ°n-1ï¼Œnå³é›†åˆä¸­å¯¹è±¡çš„æ•°é‡ã€‚<code>JavaScript</code> æœ‰ä¸¤ç§ç´¢å¼•é›†åˆ <code>Arrays</code> å’Œ <code>TypedArrays</code>ã€‚</p><h2><span id="æ•°ç»„å¯¹è±¡">æ•°ç»„å¯¹è±¡</span></h2><p><code>Array JavaScript</code> ä¸­çš„å¯¹è±¡æ˜¯ä¸€ä¸ªæœ‰åºåˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•è®¿é—®å…¶å…ƒç´ ã€‚<code>Array</code> åœ¨ <code>JavaScript</code> ä¸­æœ‰å¤šç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨åº•å±‚æ²¡æœ‰å¤ªå¤§åŒºåˆ«:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myArray1 = [x1, x2, ... , xN];</span><br><span class="line"><span class="keyword">let</span> myArray2 = <span class="keyword">new</span> <span class="built_in">Array</span>(x1, x2, ... , xN);</span><br><span class="line"><span class="keyword">let</span> myArray3 = <span class="built_in">Array</span>(x1, x2, ... , xN);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="string">"one"</span>, <span class="number">1</span>, <span class="string">"two"</span>, <span class="number">2</span>];</span><br><span class="line"><span class="comment">// 0    1   23 --&gt; index values</span></span><br></pre></td></tr></table></figure><p>æ›´æ”¹é•¿åº¦å°†æ›´æ”¹æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myArray = [<span class="string">"one"</span>, <span class="number">1</span>, <span class="string">"two"</span>, <span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(myArray);</span><br><span class="line"></span><br><span class="line">myArray.length = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(myArray);</span><br><span class="line"></span><br><span class="line">myArray.length = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(myArray);</span><br><span class="line"><span class="comment">// ["one", 1, "two", 2]</span></span><br><span class="line"><span class="comment">// ["one", 1, "two", 2, undefined]</span></span><br><span class="line"><span class="comment">// ["one"]</span></span><br></pre></td></tr></table></figure><p>åœ¨ <code>JavaScript</code> ä¸­ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªæ²¡æœ‰ä»»ä½•å…ƒç´ ä½†æœ‰ä¸€å®šé•¿åº¦çš„æ•°ç»„ã€‚æ‚¨å¯ä»¥å°†å…¶è§†ä¸ºæå‰åˆ†é…ï¼ˆä¿ç•™ï¼‰å†…å­˜ã€‚å½“æˆ‘ä»¬é€šè¿‡å°†æ•°ç»„æ›´æ”¹ <code>length</code> ä¸ºæ¯”ä»¥å‰æ›´å¤§æ¥æ‰©å±•æ•°ç»„æ—¶ï¼Œè¿™æ­£æ˜¯å‘ç”Ÿçš„äº‹æƒ…ã€‚</p><p>ç”±äºæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªå……æ»¡å…ƒç´ çš„æ•°ç»„ï¼Œå› æ­¤ä¹Ÿæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥åˆ›å»ºå…·æœ‰åˆ†é…å†…å­˜çš„ç©ºæ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myArray1 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">4</span>); <span class="comment">// creates an array with 4 empty spaces</span></span><br><span class="line"><span class="built_in">console</span>.log(myArray1.length); <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myArray2 = <span class="built_in">Array</span>(<span class="number">4</span>); <span class="comment">// similar to the previous one, just without the keyword new</span></span><br><span class="line"><span class="built_in">console</span>.log(myArray2.length); <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myArray3 = [];</span><br><span class="line">myArray3.length = <span class="number">4</span> <span class="comment">// this one is a bit different, we assign the value to the property length</span></span><br><span class="line"><span class="built_in">console</span>.log(myArray3.length); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><h2><span id="å‘æ•°ç»„æ·»åŠ å…ƒç´ ">å‘æ•°ç»„æ·»åŠ å…ƒç´ </span></h2><p>æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ª <code>Array</code>ï¼Œæ— è®ºæ˜¯ç©ºçš„è¿˜æ˜¯éç©ºçš„ã€‚ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å‘å®ƒæ·»åŠ æ–°å…ƒç´ ã€‚ç”±äºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ç´¢å¼•é›†åˆï¼Œå› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨ç´¢å¼•è¿›è¡Œæ“ä½œã€‚</p><p>ç”±äºæˆ‘ä»¬å·²ç»åˆ›å»ºäº†4ä¸ªç©ºå…ƒç´ ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å®ƒã€‚è¦æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯é€šè¿‡å®ƒçš„ç´¢å¼•è®¿é—®è¯¥å…ƒç´ å¹¶ä¸ºå…¶åˆ†é…ä¸€ä¸ªå€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myArray1 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">myArray1[<span class="number">0</span>] = <span class="string">"one"</span></span><br><span class="line">myArray1[<span class="number">1</span>] = <span class="string">"two"</span></span><br><span class="line">myArray1[<span class="number">2</span>] = <span class="string">"three"</span></span><br><span class="line">myArray1[<span class="number">3</span>] = <span class="string">"four"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myArray)</span><br><span class="line"><span class="comment">// Output: ['one', 'two', 'three', 'four']</span></span><br><span class="line">myArray1[<span class="number">4</span>] = <span class="string">"five"</span></span><br><span class="line">myArray1[<span class="number">5</span>] = <span class="string">"six"</span></span><br><span class="line"><span class="built_in">console</span>.log(myArray) <span class="comment">// Output: ['one', 'two', 'three', 'four', 'five', 'six']</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>for</code> å¾ªç¯æˆ– <code>forEach</code> å¾ªç¯è½»æ¾åœ°éå†æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'Traditional for loop:'</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; myArray1.length ; i++) &#123;</span><br><span class="line">true<span class="built_in">console</span>.log(myArray1[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Functional forEach loop:'</span>)</span><br><span class="line">myArray1.forEach( <span class="function"><span class="keyword">function</span> (<span class="params">element</span>)</span>&#123; <span class="built_in">console</span>.log(element);&#125;);</span><br><span class="line"><span class="comment">// Output: </span></span><br><span class="line"><span class="comment">// Traditional for loop:</span></span><br><span class="line"><span class="comment">// one</span></span><br><span class="line"><span class="comment">// two</span></span><br><span class="line"><span class="comment">// three</span></span><br><span class="line"><span class="comment">// four</span></span><br><span class="line"><span class="comment">// five</span></span><br><span class="line"><span class="comment">// six</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Functional forEach loop:</span></span><br><span class="line"><span class="comment">// one</span></span><br><span class="line"><span class="comment">// two</span></span><br><span class="line"><span class="comment">// three</span></span><br><span class="line"><span class="comment">// four</span></span><br><span class="line"><span class="comment">// five</span></span><br><span class="line"><span class="comment">// six</span></span><br></pre></td></tr></table></figure><h2><span id="æ•°ç»„æ–¹æ³•">æ•°ç»„æ–¹æ³•</span></h2><ul><li><code>push()</code> - åœ¨æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">myArray.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myArray); <span class="comment">// outputs [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure><ul><li><code>pop()</code> - åˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">myArray.pop();</span><br><span class="line"><span class="built_in">console</span>.log(myArray); <span class="comment">// outputs [1, 2, 3]</span></span><br></pre></td></tr></table></figure><ul><li><code>concat()</code> - å°†æ•°ç»„ï¼ˆä¸¤ä¸ªæˆ–æ›´å¤šï¼‰è¿æ¥åˆ°ä¸€ä¸ªæ•°ç»„ä¸­</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Concating 2 arrayslet myArray1 = [1,2,3]</span></span><br><span class="line"><span class="keyword">let</span> myArray2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> finalArray1 = myArray1.concat(myArray2);</span><br><span class="line"><span class="built_in">console</span>.log(finalArray1); <span class="comment">// [1,2,3,4,5,6]</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// Concating 3 arrayslet </span></span><br><span class="line">myArray3 = [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line"><span class="keyword">let</span> finalArray2 = myArray1.concat(myArray2, myArray3);</span><br><span class="line"><span class="built_in">console</span>.log(finalArray2); <span class="comment">// [1,2,3,4,5,6,7,8,9]</span></span><br></pre></td></tr></table></figure><ul><li><code>join(delimiter)</code> - å°†æ‰€æœ‰å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨åˆ†éš”ç¬¦ <code>delimiter</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myArray = [<span class="string">"Earth"</span>, <span class="string">"Wind"</span>, <span class="string">"Fire"</span>];</span><br><span class="line"><span class="keyword">let</span> arrayString = myArray.join(<span class="string">","</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arrayString); <span class="comment">// outputs Earth, Wind, Fire</span></span><br><span class="line"><span class="comment">// Bonus example</span></span><br><span class="line"><span class="built_in">console</span>.log(arrayString + <span class="string">"- September"</span>); <span class="comment">// outputs Earth, Wind, Fire - September</span></span><br></pre></td></tr></table></figure><ul><li><code>reverse()</code> - é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> reversed = myArray.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(reversed); <span class="comment">// [3,2,1]</span></span><br><span class="line">slice(start, end)- å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œä»ç´¢å¼•startå¼€å§‹åˆ°ç´¢å¼•end<span class="number">-1</span></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">myArray = myArray.slice(<span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myArray); <span class="comment">// [4,5]</span></span><br></pre></td></tr></table></figure><h2><span id="typedarray-å¯¹è±¡">TypedArray å¯¹è±¡</span></h2><p><code>Array</code> å¯¹è±¡éå¸¸é€‚åˆå¤„ç† <code>JavaScript</code> ä¸­çš„ä»»ä½•æ•°æ®ç±»å‹ï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨ä¸€ä¸ªæ•°ç»„ä¸­å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œå¹¶ä¸”æ‹¥æœ‰å¼ºå¤§çš„æ–¹æ³•æ¥æ“ä½œè¿™äº›å…ƒç´ ã€‚</p><p>ç„¶è€Œï¼Œå½“éœ€è¦å¤„ç†åŸå§‹äºŒè¿›åˆ¶æ•°æ®æ—¶â€”â€”è¿™å°±æ˜¯ <code>TypedArray</code> å¯¹è±¡å‘æŒ¥ä½œç”¨çš„æ—¶å€™ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤„ç†éŸ³é¢‘å’Œè§†é¢‘æ—¶å¤„ç†åŸå§‹æ•°æ®ã€‚</p><h3><span id="typedarrayå¯¹è±¡çš„æ¶æ„">TypedArrayå¯¹è±¡çš„æ¶æ„</span></h3><p>JavaScript ç±»å‹æ•°ç»„åˆ†ä¸ºbufferså’Œviewsã€‚ç”²ç¼“å†²å™¨æ˜¯åªå­˜å‚¨æ•°æ®çš„å—çš„å¯¹è±¡ï¼Œæ²¡æœ‰æ–¹æ³•æ¥è®¿é—®æˆ–æ“çºµè¯¥æ•°æ®ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨è§†å›¾â€”â€”å®ƒæä¾›äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œä¸€ç§å°†æ•°æ®è½¬æ¢ä¸ºTypedArray.</p><p>ç”²ç¼“å†²é€šè¿‡ä¸€ä¸ªå®ç°ArrayBufferå¯¹è±¡ã€‚å®ƒç”¨äºè¡¨ç¤ºå›ºå®šé•¿åº¦çš„äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒºã€‚ä¸ºäº†è¡¨ç¤ºè¿™ä¸ªç¼“å†²åŒºï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªè§†å›¾DataViewâ€”â€”å®ƒä»¥é€‰å®šçš„æ ¼å¼è¡¨ç¤ºé‚£ä¸ªç¼“å†²åŒºã€‚æœ‰å¤šç§ç±»å‹çš„è§†å›¾ï¼Œä»£è¡¨æœ€å¸¸è§çš„æ•°å­—ç±»å‹ï¼š</p><ul><li><code>Int8Array</code> - å€¼èŒƒå›´ [-128, 127]</li><li><code>UInt8Array</code>- å–å€¼èŒƒå›´ [0, 255]ï¼Œu ä»£è¡¨æ— ç¬¦å·</li><li><code>Int16Array</code> - å€¼èŒƒå›´ [-32768, 32767]</li><li><code>UInt16Array</code> - å€¼èŒƒå›´ [0, 65535]</li><li><code>Float32Array</code> - æ•°å€¼èŒƒå›´ [1.2E-38, 3.4E38]</li></ul><h3><span id="åˆ›å»ºä¸€ä¸ªtypedarray">åˆ›å»ºä¸€ä¸ªTypedArray</span></h3><p>åœ¨åˆ›å»º <code>TypedArray</code>æŸç§ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å®ç°äº†æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„â€”â€”åˆ›å»ºç¼“å†²åŒºå’Œè§†å›¾ã€‚<code>TypedArray</code>å¯¹è±¡æ²¡æœ‰æ˜¾å¼æ„é€ å‡½æ•°â€”â€”æ²¡æœ‰ <code>new TypedArray()</code>è¯­æ³•â€”â€”æˆ‘ä»¬ç›´æ¥å®ä¾‹åŒ–æˆ‘ä»¬éœ€è¦çš„æ•°ç»„ç±»å‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tArray = <span class="keyword">new</span> <span class="built_in">Int8Array</span>(<span class="number">8</span>);</span><br><span class="line"><span class="comment">// åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸º a åˆ›å»ºäº†ä¸€ä¸ªç¼“å†²åŒºå’Œä¸€ä¸ªInt8Array8 å­—èŠ‚å¤§å°çš„è§†å›¾ã€‚ç»™å…ƒç´ èµ‹å€¼ä¸Arrayå¯¹è±¡ç›¸åŒï¼š</span></span><br><span class="line"></span><br><span class="line">tArray[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(tArray);</span><br><span class="line"><span class="comment">// Int8Array [ 10, 0, 0, 0, 0, 0, 0, 0 ]</span></span><br></pre></td></tr></table></figure><h2><span id="é”®æ§">é”®æ§</span></h2><p>ä¸€ä¸ª<strong>é”®æ§é›†</strong>æ˜¯åœ¨è¡¨ç¤ºçš„æ•°æ®çš„é›†åˆ<code>é”®å€¼</code>ç¬¦å·ã€‚å…ƒç´ çš„å€¼é€šè¿‡å®ƒä»¬å„è‡ªçš„é”®æ¥è®¿é—®å’Œæ“ä½œã€‚</p><blockquote><p>åœ¨ <code>JavaScript</code> ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„é”®æ§é›†åˆï¼š<code>Map</code> å’Œ <code>Set</code>.</p></blockquote><h2><span id="map-å¯¹è±¡">Map å¯¹è±¡</span></h2><p><code>Map</code> åœ¨ <code>JavaScript</code> å¯¹è±¡æ˜¯å«æœ‰ä¸€ä¸ªæ ‡å‡†çš„ <code>Mqp</code> é”®-å€¼å¯¹ã€‚è¦åˆ›å»ºä¸€ä¸ªæ–°<code>Map</code>å¯¹è±¡ï¼Œæˆ‘ä»¬åªéœ€è°ƒç”¨æ„é€ å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ å…ƒç´ </span></span><br><span class="line">myMap.set(<span class="string">"one"</span>, <span class="number">1</span>);</span><br><span class="line">myMap.set(<span class="string">"two"</span>, <span class="number">2</span>);</span><br><span class="line">myMap.set(<span class="string">"three"</span>, <span class="string">"three"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myMap);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Map</span> &#123; <span class="string">'one'</span> =&gt; <span class="number">1</span>, <span class="string">'two'</span> =&gt; <span class="number">2</span>, <span class="string">'three'</span> =&gt; <span class="string">'three'</span> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(myMap.get(<span class="string">"two"</span>)); <span class="comment">// Output: 2</span></span><br><span class="line"><span class="comment">// get(key_name)åœ¨ä¸å­˜åœ¨çš„ keyä¸Šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ™è¿”å›å€¼ä¹Ÿæ˜¯undefined</span></span><br></pre></td></tr></table></figure><h3><span id="mapæ–¹æ³•">Mapæ–¹æ³•</span></h3><p>å¸¸ç”¨çš„æ–¹æ³•ï¼š</p><ul><li><code>set(key_name, value)</code> - å°†é”®å€¼å¯¹æ·»åŠ åˆ° <code>Map</code>.</li><li><code>get(key_name)</code> - è¿”å›åˆ†é…ç»™ä¼ é€’çš„é”®çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„é”® - è¿”å›<code>undefined</code>ã€‚</li><li><code>has(key_name)</code> - è¿”å› <code>true</code> æˆ– <code>false</code> å–å†³äº <code>Map</code> æ˜¯å¦æœ‰é”®<code>key_name</code>ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(myMap.has(<span class="string">"two"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(myMap.has(<span class="string">"five"</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><ul><li><code>delete(key_name)</code> - æ ¹æ®ä¼ é€’çš„é”®å’Œå€¼åˆ é™¤é”®å’Œå€¼ <code>key_name</code> ï¼Œå¦‚æœä¼ é€’çš„æ˜¯ä¸å­˜åœ¨çš„é”® - æ²¡æœ‰ä»»ä½•ååº”ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">myMap.delete(<span class="string">"two"</span>)<span class="built_in">console</span>.log(myMap);  </span><br><span class="line"><span class="comment">// Output: Map &#123; 'one' =&gt; 1, 'three' =&gt; 'three' &#125;</span></span><br><span class="line">myMap.delete(<span class="string">"five"</span>)<span class="built_in">console</span>.log(myMap); </span><br><span class="line"><span class="comment">// Output: Map &#123; 'one' =&gt; 1, 'three' =&gt; 'three' &#125;</span></span><br></pre></td></tr></table></figure><ul><li><code>clear()</code>- ä»<code>Map</code>å¯¹è±¡ä¸­åˆ é™¤æ¯ä¸ªé”®å€¼å¯¹ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myMap.clear();</span><br><span class="line"><span class="built_in">console</span>.log(myMap); </span><br><span class="line"><span class="comment">// Output: Map &#123;&#125;</span></span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªä¸»è¦çš„å±æ€§ <code>Map</code>â€”â€”å®ƒçš„sizeå±æ€§ã€‚å®ƒåŒ…å«ä¸€ä¸ªè¡¨ç¤º <code>Map</code> å¯¹è±¡å¤§å°çš„æ•°å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">myMap.set(<span class="string">"one"</span>, <span class="number">1</span>);</span><br><span class="line">myMap.set(<span class="string">"two"</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myMap.size); </span><br><span class="line"><span class="comment">// Output: 2</span></span><br></pre></td></tr></table></figure><h3><span id="éå†-map">éå† Map</span></h3><p><code>Map</code> åœ¨ <code>JavaScript</code> ä¸­éå†å¯¹è±¡æœ‰ç‚¹ <code>Python</code> é£æ ¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>for..of</code> è¯­æ³•æ¥å®ç°è¿™ä¸€ç‚¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [k, v] <span class="keyword">of</span> myMap)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(k + <span class="string">" written in number is "</span> + v)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// one written in number is 1</span></span><br><span class="line"><span class="comment">// two written in number is 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// forEach()æ–¹æ³•ï¼š</span></span><br><span class="line">myMap.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123; <span class="built_in">console</span>.log(value);&#125;);</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// three</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒæ—¶æ£€ç´¢valueå’Œkeyï¼š</span></span><br><span class="line">myMap.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, key</span>) </span>&#123; <span class="built_in">console</span>.log(value, key);&#125;);</span><br><span class="line"><span class="comment">// 1 one</span></span><br><span class="line"><span class="comment">// 2 two</span></span><br><span class="line"><span class="comment">// three three</span></span><br></pre></td></tr></table></figure><h3><span id="weakmapå¯¹è±¡">WeakMapå¯¹è±¡</span></h3><p><code>WeakMap</code> ä¸ <code>Map</code> çš„ <code>API</code> ç›¸åŒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> athlete = <span class="class"><span class="keyword">class</span> <span class="title">Athlete</span></span>&#123;&#125;</span><br><span class="line">myMap.set(athlete, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myMap.get(athlete))</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h2><span id="é›†åˆå¯¹è±¡-set">é›†åˆå¯¹è±¡ Set</span></h2><p>ä¸€ä¸ª <code>Set</code> åœ¨ <code>JavaScript</code> å¯¹è±¡ä»…ä»…æ˜¯å€¼çš„é›†åˆã€‚è¿™äº›å€¼æ˜¯å”¯ä¸€çš„ï¼Œè¿™æ„å‘³ç€ä¸å…è®¸é‡å¤ï¼Œå¹¶ä¸”å°è¯•æ·»åŠ é‡å¤å…ƒç´ ä¸ä¼šæ·»åŠ ä»»ä½•å†…å®¹ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æµ‹è¯•è¿™ä¸€ç‚¹ï¼Œå› ä¸ºæ‰“å°é›†æŒ‰æ’å…¥é¡ºåºæ‰“å°å®ƒä»¬çš„å…ƒç´ ï¼Œå¹¶ä¸”åœ¨å¼€å§‹å’Œç»“æŸæ·»åŠ é‡å¤å…ƒç´ åªä¼šå¯¼è‡´ç¬¬ä¸€ä¸ªå‡ºç°ã€‚</p><p>åˆ›å»º <code>Set</code>å°±åƒè°ƒç”¨å®ƒçš„æ„é€ å‡½æ•°ä¸€æ ·ç®€å•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mySet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘é›†åˆæ·»åŠ æ–°å…ƒç´ ï¼Œä½¿ç”¨add(value)æ–¹æ³•ã€‚</span></span><br><span class="line">mySet.add(<span class="number">1</span>);</span><br><span class="line">mySet.add(<span class="string">"one"</span>);</span><br><span class="line">mySet.add(<span class="string">"one"</span>);</span><br><span class="line">mySet.add(<span class="string">"two"</span>);</span><br><span class="line">mySet.add(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(mySet);</span><br></pre></td></tr></table></figure><p>é›†åˆä¿æŒæ’å…¥çš„é¡ºåºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æµ‹è¯•æ–°çš„æ˜¯å¦1è¦†ç›–æ—§çš„1æˆ–è€…å®ƒçš„æ·»åŠ æ˜¯å¦è¢«ç®€å•åœ°è·³è¿‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set</span> &#123; <span class="number">1</span>, <span class="string">'one'</span>, <span class="string">'two'</span> &#125;</span><br></pre></td></tr></table></figure><h3><span id="setæ–¹æ³•">Setæ–¹æ³•</span></h3><ul><li><code>add(value)</code> - ä¸º<code>Set</code>å¯¹è±¡æ·»åŠ ä¸€ä¸ªæ–°å€¼</li><li><code>delete(value)</code> - åˆ é™¤ <code>value</code> ä» <code>Set</code>å¯¹è±¡</li><li><code>has(value)</code> - è¿”å›<code>true</code>æˆ–<code>false</code>å–å†³äº<code>value</code>æ˜¯å¦åœ¨<code>Set</code>å¯¹è±¡ä¸­</li><li><code>clear()</code> - ä»<code>Set</code>å¯¹è±¡ä¸­åˆ é™¤æ‰€æœ‰å€¼</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mySet = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add values</span></span><br><span class="line">mySet.add(<span class="number">1</span>);</span><br><span class="line">mySet.add(<span class="string">"two"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Delete a value</span></span><br><span class="line">mySet.delete(<span class="string">"two"</span>)</span><br><span class="line"><span class="comment">// Check if the deleted value is present</span></span><br><span class="line"><span class="built_in">console</span>.log(mySet.has(<span class="string">"two"</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="comment">// Clear all values</span></span><br><span class="line">mySet.clear()</span><br><span class="line"><span class="comment">// Check if first value is present</span></span><br><span class="line"><span class="built_in">console</span>.log(mySet.has(<span class="number">1</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3><span id="weakset">WeakSet</span></h3><p>ä¸€ä¸ª<code>WeakSet</code>å¯¹è±¡æ˜¯ä¸€ä¸ªå¯¹è±¡çš„é›†åˆã€‚ä¸<code>Set</code>çš„å€¼ç›¸åŒï¼Œ<code>WeakSet</code>çš„å¯¹è±¡å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚è¿™æ˜¯æŒ‡å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„å­—æ®µæˆ–å€¼ã€‚</p><p><code>Set</code>å’Œ <code>WeakSet</code>ä¹‹é—´æœ‰ä¸€äº›ä¸»è¦åŒºåˆ«ï¼š</p><ul><li><code>WeakSet</code> æ˜¯ <code>objects</code> çš„é›†åˆï¼Œè€Œ <code>Set</code> æ˜¯ä»»ä½•ç±»å‹çš„å€¼çš„é›†åˆã€‚</li><li>ä¸ <code>WeakMap</code> ç›¸åŒï¼Œå¦‚æœæ²¡æœ‰å¯¹ <code>WeakSet</code>å¯¹è±¡çš„å¼•ç”¨- å®ƒè¢«åˆ é™¤ã€‚</li></ul><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/getting-started-with-collections-in-javascript/" target="_blank" rel="noopener">https://stackabuse.com/getting-started-with-collections-in-javascript/</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;ä¸åŒå½¢å¼çš„æ•°æ®ç»„æ˜¯å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­çš„åŸºæœ¬æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œ&lt;strong&gt;é€šè¿‡ä¸åŒæ•°æ®ç±»å‹è¡¨ç¤ºçš„æ•°æ®ç»„è¢«ç§°ä¸ºé›†åˆ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬æŒ‡å—ä¸­ - æˆ‘ä»¬å°†çœ‹çœ‹ &lt;code&gt;JavaS
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/tags/JavaScript/"/>
    
      <category term="é›†åˆ" scheme="https://cl9000.github.io/tags/%E9%9B%86%E5%90%88/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ä¸­çš„ æ­£åˆ™è¡¨è¾¾å¼ å’Œ åŒ¹é…å­—ç¬¦ä¸²</title>
    <link href="https://cl9000.github.io/2021/08/10/JavaScript%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <id>https://cl9000.github.io/2021/08/10/JavaScript%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6%E4%B8%B2/</id>
    <published>2021-08-10T10:08:28.000Z</published>
    <updated>2021-09-12T14:20:14.488Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ›é€ æ€§å°±æ˜¯å‘æ˜ã€å®éªŒã€æˆé•¿ã€å†’é™©ã€çŠ¯è§„ã€çŠ¯é”™å’Œäº«å—ä¹è¶£ã€‚ â€”â€”&lt;ç›ä¸½Â·å¢Â·åº“å…‹&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>åŒ¹é…å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ¨¡å¼ï¼Œåœ¨æœ€å¸¸è§çš„æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦è¿™äº›æ¥éªŒè¯ç”µå­é‚®ä»¶ã€ç”¨æˆ·è¾“å…¥ã€æ–‡ä»¶åæˆ–å¤§å¤šæ•°ç±»å‹çš„è¾“å…¥å­—ç¬¦ä¸²ã€‚è™½ç„¶æœ‰è®¸å¤šæ¨¡å¼åŒ¹é…åº“å’Œæ–¹æ³• - ä¸€ç§ä¹…ç»è€ƒéªŒçš„æ–¹æ³•æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥å®šä¹‰ä¸€ç»„è§„åˆ™ï¼ŒæŸä¸ªå­—ç¬¦ä¸²å¿…é¡»éµå¾ªä»¥åŒ¹é…è¯¥æ¨¡å¼ã€‚</p><p>åœ¨ <code>JavaScript</code> ä¸­ï¼Œ<code>RegExp</code>ç±»ç”¨äºè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶ä¸”å¯ä»¥ä¸ä¸€äº›ä½¿åŒ¹é…æ¨¡å¼æ›´å®¹æ˜“çš„æ–¹æ³•ç»“åˆä½¿ç”¨ã€‚<br>æ˜¾ç„¶ï¼Œä½¿ç”¨è¿™äº›çš„å…ˆå†³æ¡ä»¶æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„çŸ¥è¯†ã€‚å¦‚æœæ‚¨ä¸ä¹ æƒ¯ç¼–å†™å®ƒä»¬ï¼Œæ‚¨å¯ä»¥éšæ—¶ä½¿ç”¨ <code>RegEx</code> æµ‹è¯•ç½‘ç«™ï¼Œ<br>ä¾‹å¦‚ <a href="https://regex101.com/" target="_blank" rel="noopener">https://regex101.com/</a><br>æˆ– <a href="https://regexr.com/" target="_blank" rel="noopener">https://regexr.com/</a> - å®ƒä»¬ç›´è§‚åœ°æ˜¾ç¤ºæ‚¨çš„è¡¨è¾¾å¼å¯¹ç»™å®šå­—ç¬¦ä¸²çš„å½±å“ã€‚</p><blockquote><p>æœ¬æ–‡ä¸­ï¼Œå°†ç ”ç©¶ <code>JavaScript</code> ä¸­çš„<code>æ­£åˆ™è¡¨è¾¾å¼</code>ã€<code>RegExp()ç±»</code>çš„ç”¨æ³•ä»¥åŠ<code>exec()</code>å’Œ<code>test()</code>æ–¹æ³•ã€‚</p></blockquote><p>å…ˆæ¥çœ‹ä¸€äº›ä¸å®ç°çš„æ–¹æ³• <code>String</code> çš„å¯¹è±¡- <code>match()</code>ï¼Œ<code>search()</code> å¹¶ä¸” <code>replace()</code> ï¼Œæ­£åˆ™è¡¨è¾¾å¼ <code>RegExç±»</code> å¯ä½œä¸ºä¸€ä¸ªè¾ƒçŸ­çš„æ›¿ä»£ä½¿ç”¨ã€‚</p><h2><span id="ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼">ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ</span></h2><p>åœ¨æˆ‘ä»¬æ·±å…¥ç ”ç©¶ç”¨äºä½¿ç”¨ <code>RegEx</code> çš„ <code>JavaScript API</code> ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ­£åˆ™è¡¨è¾¾å¼æœ¬èº«ã€‚</p><p><strong>æ­£åˆ™è¡¨è¾¾å¼</strong>ï¼ˆç¼©å†™æ­£åˆ™è¡¨è¾¾å¼ï¼‰æ˜¯ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²æˆ–å­—ç¬¦çš„ä¸åŒç»„åˆçš„å­—ç¬¦çš„å›¾æ¡ˆã€‚æ‚¨éœ€è¦éµå¾ªæŸäº›è§„åˆ™æ‰èƒ½å½¢æˆæ­£ç¡®çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ç¤ºä¾‹ï¼š</p><ul><li><code>[abc]</code> - åŒ¹é…å•ä¸ªå­—ç¬¦ï¼šaã€b æˆ– c</li><li><code>[^abc]</code> - åŒ¹é…é™¤aã€b æˆ– cä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦</li><li><code>[a-z]</code> - åŒ¹é…èŒƒå›´ azä¸­çš„ä»»ä½•å­—ç¬¦</li><li><code>\s</code> - åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦</li><li><code>\w</code> - åŒ¹é…ä»»ä½•å•è¯å­—ç¬¦</li></ul><p>è¿™äº›æ˜¯ä¸€äº›åŸºæœ¬çš„ï¼Œä½†å®ƒä»¬æ›´å¸¸ç”¨ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ”¯æŒè¿ç®—ç¬¦ï¼š</p><ul><li><code>a?</code> - è¿ç®—ç¬¦ <code>?</code> åŒ¹é…é›¶ä¸ªæˆ–ä¸€ä¸ªå­—ç¬¦ <code>a</code></li><li><code>a*</code> - è¿ç®—ç¬¦ <code>*</code> åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ <code>a</code></li><li><code>a+</code> - è¿ç®—ç¬¦ <code>+</code> åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ <code>a</code></li><li><code>a{n}</code> - è¿ç®—ç¬¦ <code>{n}</code> ç²¾ç¡®åŒ¹é… <code>n</code> ä¸ªå­—ç¬¦ <code>a</code>ï¼Œä¾‹å¦‚ï¼Œ<code>'o{2}'</code> ä¸èƒ½åŒ¹é… <code>&quot;Bob&quot;</code>ä¸­çš„ <code>'o'</code>ï¼Œä½†æ˜¯èƒ½åŒ¹é… <code>&quot;food&quot;</code> ä¸­çš„ä¸¤ä¸ª <code>o</code></li><li><code>a{n, m}</code> - è¿ç®—ç¬¦ <code>{n, m}</code> åŒ¹é…å­—ç¬¦ <code>a</code>, æœ€å°‘åŒ¹é… <code>n</code> æ¬¡ä¸”æœ€å¤šåŒ¹é… <code>m</code> æ¬¡ï¼Œä¾‹å¦‚ï¼Œ<code>&quot;o{1,3}&quot;</code> å°†åŒ¹é… <code>&quot;fooooood&quot;</code> ä¸­çš„å‰ä¸‰ä¸ª <code>o</code></li><li><code>\.</code> - æ“ä½œç¬¦ <code>\</code> å¯¹å­—ç¬¦ <code>.</code> è¿›è¡Œè½¬ä¹‰ï¼Œè¿™æ„å‘³ç€å­—ç¬¦ <code>.</code> å°†æ²¡æœ‰å…¶é€šå¸¸çš„å«ä¹‰ - åŒ¹é…ä»»ä½•å­—ç¬¦ä¸² - ä½†å°†ä½œä¸ºå­—ç¬¦åŒ¹é….</li></ul><p>ç¼–å†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å« <code>@gmail.com</code> åœ¨å­—ç¬¦ä¸²çš„æœ«å°¾å¹¶ <code>a</code> åœ¨ <code>@</code> ç¬¦å·ä¹‹å‰åŒ…å«ä¸‰ä¸ªå­—ç¬¦ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"\w+a&#123;3&#125;@gmail\.com"</span></span><br><span class="line"><span class="comment">// \w - åŒ¹é…ä»»ä½•å­—ç¬¦</span></span><br><span class="line"><span class="comment">// a&#123;3&#125;-è¿ç»­åŒ¹é…ä¸‰ä¸ªå­—ç¬¦a</span></span><br><span class="line"><span class="comment">// @gmail\.com- åŒ¹é…æ–‡å­—å­—ç¬¦ä¸²"@gmail.com"ï¼ŒåŒæ—¶.ä½¿ç”¨\è¿ç®—ç¬¦è½¬ä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥åŒ¹é…å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class="line"><span class="comment">// otherEmailaaa@gmail.com</span></span><br><span class="line"><span class="comment">// caaa@gmail.com</span></span><br><span class="line"><span class="comment">// è€Œé</span></span><br><span class="line"><span class="comment">// aaaSomeEmail@gmail.com</span></span><br><span class="line"><span class="comment">// aaa@gmail.com</span></span><br><span class="line"><span class="comment">// aaa@yahoo.com</span></span><br></pre></td></tr></table></figure><h2><span id="regexp-ç±»">RegExp ç±»</span></h2><p>åœ¨ <code>JavaScript</code> ä¸­ï¼Œæœ‰ä¸¤ç§åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•ï¼š</p><ol><li>ä½¿ç”¨ <code>RegEx</code> å­—é¢é‡ï¼Œè¿™æ˜¯ä¸€ç§æ”¾ç½®åœ¨ <code>/</code> å­—ç¬¦ä¹‹é—´çš„æ¨¡å¼ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="string">"/[abc]+/"</span>;</span><br><span class="line"><span class="comment">// å¦‚æœ `RegEx` åœ¨æ•´ä¸ªè„šæœ¬ä¸­ä¿æŒä¸å˜ï¼Œåº”è¯¥ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå› ä¸º `RegEx` åœ¨è„šæœ¬è‡ªåŠ¨åŠ è½½æ—¶è¢«ç¼–è¯‘ã€‚</span></span><br></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨ <code>RegExp()</code> æ„é€ å‡½æ•°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[abc]+"</span>);</span><br><span class="line"><span class="comment">// å½“ `RegEx` æ˜¯åŠ¨æ€çš„å¹¶ä¸”å¯ä»¥åœ¨è„šæœ¬çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æ›´æ”¹æ—¶ï¼Œè¿™ç§æ–¹æ³•æ˜¯é¦–é€‰ã€‚å®ƒæ˜¯åœ¨è¿è¡Œæ—¶ç¼–è¯‘çš„ï¼Œè€Œä¸æ˜¯åŠ è½½æ—¶</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä» <code>ES6</code> å¼€å§‹ï¼Œæ‚¨è¿˜å¯ä»¥å°† <code>RegEx</code> ä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°ä¼ é€’</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/[abc]+/</span>);</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>RegExp</code> æ—¶ï¼Œè¿˜å¯ä»¥ä¼ é€’æ ‡å¿— - å…·æœ‰å«ä¹‰çš„å­—ç¬¦ - æ”¹å˜æ¨¡å¼åŒ¹é…çš„æ–¹å¼ã€‚å…¶ä¸­ä¸€äº›æ ‡å¿—æ˜¯ï¼š</p><ul><li><code>i</code> - è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ï¼Œæ‰€ä»¥ <code>A</code> å’Œ <code>a</code> åŒ¹é…æ—¶ç›¸åŒ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Matches both ABC and abc one or more times</span></span><br><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[abc]+"</span>, <span class="string">"i"</span>);</span><br></pre></td></tr></table></figure><ul><li><p><code>g</code> - è¡¨ç¤ºå°†åŒ¹é…æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼Œè€Œä¸ä»…ä»…æ˜¯é‡åˆ°çš„ç¬¬ä¸€ä¸ª</p></li><li><p><code>m</code> - è¡¨ç¤ºå¤šè¡Œæ¨¡å¼ï¼Œå…è®¸æ¨¡å¼ä¸å¤šè¡Œå†™å…¥çš„å­—ç¬¦ä¸²åŒ¹é…</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> string = <span class="string">`</span></span><br><span class="line"><span class="string">This string can also be matched with</span></span><br><span class="line"><span class="string">Even though it's written in multiple lines</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><p><code>RegExp()</code>æ„é€ ä»…ç”¨äºç”Ÿæˆå›¾æ¡ˆè¿›è¡Œæµ‹è¯•ã€‚ä½†æ˜¯ï¼Œå®ƒåŒ…å«ä¸¤ç§æ–¹æ³•å¯ä»¥æµ‹è¯•æ¨¡å¼å¹¶åœ¨é€‚åˆæ—¶è¿›è¡ŒåŒ¹é…ï¼š<code>exec()</code> å’Œ <code>test()</code>ã€‚</p><h2><span id="exec-å‡½æ•°">exec() å‡½æ•°</span></h2><p><code>exec()</code> å‡½æ•°åœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡Œæœç´¢ã€‚å¦‚æœæœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›ä¸€ä¸ªåŒ…å«åŒ¹é…é¡¹ä¿¡æ¯çš„æ•°ç»„ï¼Œå¦åˆ™è¿”å› <code>null</code>ã€‚</p><p>ä¾‹å¦‚æ£€æŸ¥ç”µå­é‚®ä»¶æ˜¯å¦ä»¥åŸŸåç»“å°¾ <code>@gmail.com</code> å¹¶åŒ…å«ä¸‰ä¸ªè¿ç»­çš„ <code>a</code> å­—ç¬¦ <code>@gmail</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸åŒºåˆ†å¤§å°å†™</span></span><br><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/\w+a&#123;3&#125;@gmail\.com/</span>, <span class="string">"i"</span>);</span><br><span class="line"><span class="keyword">let</span> result1 = regex.exec(<span class="string">"someEmailaaa@gmail.com"</span>);</span><br><span class="line"><span class="keyword">let</span> result2 = regex.exec(<span class="string">"sOmEEmAiLaAa@gmail.com"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result1);</span><br><span class="line"><span class="built_in">console</span>.log(result2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–</span></span><br><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/\w+a&#123;3&#125;@gmail\.com/</span>, <span class="string">"i"</span>);</span><br><span class="line"><span class="keyword">let</span> result1 = regex.exec(<span class="string">"someEmailaaa@gmail.com"</span>) ?? <span class="string">'No matched results'</span>;</span><br><span class="line"><span class="keyword">let</span> result2 = regex.exec(<span class="string">"sOmEEmAiLaAa@gmail.com"</span>) ?? <span class="string">'No matched results'</span>;</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="string">'someEmailaaa@gmail.com'</span>,</span><br><span class="line">  index: <span class="number">0</span>,</span><br><span class="line">  input: <span class="string">'someEmailaaa@gmail.com'</span>,</span><br><span class="line">  groups: <span class="literal">undefined</span> ]</span><br><span class="line">  </span><br><span class="line">[ <span class="string">'sOmEEmAiLaAa@gmail.com'</span>,</span><br><span class="line">  index: <span class="number">0</span>,</span><br><span class="line">  input: <span class="string">'sOmEEmAiLaAa@gmail.com'</span>,</span><br><span class="line">  groups: <span class="literal">undefined</span> ]</span><br><span class="line"><span class="comment">// åŒ¹é…çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// åŒ¹é…å­—ç¬¦ä¸²å¼€å§‹çš„ç´¢å¼•å€¼</span></span><br><span class="line"><span class="comment">// è¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// åŒ…å«æ‰€æœ‰å‘½åæ•è·ç»„çš„å¯¹è±¡çš„ç»„å±æ€§- åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™å°†æ˜¯undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœåªæƒ³éš”ç¦»åŒ¹é…çš„å­—ç¬¦ä¸²è€Œä¸éœ€è¦é¢å¤–çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥æ‰“å°å‡º</span></span><br><span class="line"><span class="built_in">console</span>.log(results[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><p><code>exec()</code>æ–¹æ³•çš„ä¸€ä¸ªæœ‰è¶£ç‰¹æ€§æ˜¯å®ƒä¼šè®°ä½å®ƒåœæ­¢æ‰§è¡Œçš„å­—ç¬¦çš„ç´¢å¼•ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šï¼Œä½ å¯ä»¥ä¸€æ¬¡åˆä¸€æ¬¡åœ°è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œç›´åˆ°ä½ å¾—åˆ°ä¸€ä¸ª <code>null</code></p><p>æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ï¼›å…¶ä¸­ä¸¤ä¸ªä¼šåŒ¹é…ï¼Œä¸€ä¸ªä¸ä¼šã€‚ä¸ºäº†å¾—åˆ°å¤šä¸ªç»“æœï¼Œæˆ‘ä»¬å¯ä»¥éå†æ•°ç»„å¹¶è°ƒç”¨ï¼Œ<code>exec()</code>ç›´åˆ°å¾—åˆ°ä¸€ä¸ª<code>null</code>. å¦å¤–ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ <code>matchedStrings</code> å¹¶å°†åŒ¹é…çš„å­—ç¬¦ä¸²æ¨é€ç»™å®ƒã€‚</p><p><strong>æ³¨æ„</strong>ï¼šæ‚¨å¿…é¡»å°† <code>g</code>æ ‡å¿—ä¼ é€’ç»™RegExp()æ„é€ å‡½æ•°æ‰èƒ½è·å¾—æ‰€æœ‰ç»“æœï¼Œè€Œä¸ä»…ä»…æ˜¯ç¬¬ä¸€ä¸ªã€‚è¿™æ ·ï¼Œæ‚¨å°†é¿å…è¿›å…¥æ— é™å¾ªç¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/\w+a&#123;3&#125;@gmail\.com/</span>, <span class="string">"g"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> strings = [<span class="string">"someEmailaaa@gmail.com"</span>, <span class="string">"baaa@gmail.com"</span>, <span class="string">"baaa@yahoo.com"</span>];</span><br><span class="line"><span class="keyword">let</span> matchedStrings = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = regex.exec(strings);</span><br><span class="line"><span class="keyword">if</span>(result != <span class="literal">null</span>) &#123;</span><br><span class="line">    matchedStrings.push(result[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(result != <span class="literal">null</span>) &#123;</span><br><span class="line">    result = regex.exec(strings);</span><br><span class="line">    <span class="keyword">if</span>(result != <span class="literal">null</span>) &#123;</span><br><span class="line">        matchedStrings.push(result[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(matchedStrings);</span><br><span class="line"><span class="comment">// ["someEmailaaa@gmail.com", "baaa@gmail.com"]</span></span><br><span class="line"><span class="comment">// å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä»æ¥æ²¡æœ‰è·Ÿè¸ªæ•°ç»„ä¸­æœ€åæ‰§è¡Œçš„å­—ç¬¦ä¸²çš„ç´¢å¼•ï¼Œä½†exec()çŸ¥é“åœ¨å“ªé‡Œç»§ç»­æœç´¢</span></span><br></pre></td></tr></table></figure><h2><span id="test-å‡½æ•°">test() å‡½æ•°</span></h2><p><code>test()</code>æ–¹æ³•ç±»ä¼¼äº <code>exec()</code> é™¤äº†å®ƒä¸è¿”å›åŒ…å«ä¿¡æ¯çš„æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç®€å•çš„ <code>true</code> æˆ– <code>false</code>. å®ƒæ‰§è¡Œç›¸åŒçš„æœç´¢ <code>exec()</code>ï¼Œå¦‚æœæ¨¡å¼ä¸å­—ç¬¦ä¸²åŒ¹é…ï¼Œåˆ™è¿”å› <code>true</code>ã€‚å¦åˆ™ï¼Œè¿”å› <code>false</code> ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/\w+a&#123;3&#125;@gmail\.com/</span>, <span class="string">"i"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> results = regex.test(<span class="string">"someEmailaaa@gmail.com"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(results); <span class="comment">// Output: true</span></span><br><span class="line"></span><br><span class="line">results = regex.test(<span class="string">"someEmailaaa@yahoo.com"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(results); <span class="comment">// Output: false</span></span><br></pre></td></tr></table></figure><p>å¯¹åŒä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œä¸¤æ¬¡æµ‹è¯•ï¼Œå°†å¾—åˆ°ä¸åŒçš„ç»“æœï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/\w+a&#123;3&#125;@gmail\.com/</span>, <span class="string">"g"</span>); <span class="comment">// Remember the 'g' flag when working with multiple results</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> results = regex.test(<span class="string">"someEmailaaa@gmail.com"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(results); <span class="comment">// Output: true</span></span><br><span class="line"></span><br><span class="line">results = regex.test(<span class="string">"someEmailaaa@gmail.com"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(results); <span class="comment">// Output: false</span></span><br></pre></td></tr></table></figure><p><code>test()</code>å­—ç¬¦ä¸²æ•°ç»„çš„ç”¨æ³•ä¸ ç›¸åŒ <code>exec()</code>ï¼Œä¸åŒä¹‹å¤„åœ¨äºæ‚¨å°†æ‰“å°å‡º <code>true / false</code>ã€‚å®é™…ä¸Šï¼Œè¿™å¹¶ä¸å¸¸ç”¨ï¼Œé™¤éæ‚¨è¦è·Ÿè¸ªåŒ¹é…å­—ç¬¦ä¸²çš„æ•°é‡ã€‚</p><h2><span id="matchæ–¹æ³•">match()æ–¹æ³•</span></h2><p><code>match()</code> æ–¹æ³•æ˜¯ <code>String</code> æˆ‘ä»¬å°†è¦ç ”ç©¶çš„ç¬¬ä¸€ä¸ªæ–¹æ³• - å®ƒé€‚ç”¨äºæ­£åˆ™è¡¨è¾¾å¼ã€‚<br>å®ƒæ¥å—ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºå‚æ•°å¹¶è¿”å›ä¸€ä¸ªåŒ¹é…æ•°ç»„ï¼Œæˆ–è€… <code>null</code>,å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆæœ¬è´¨ä¸Š - ä¸å®ä¾‹çš„<code>exec()</code>æ–¹æ³•å¤§è‡´ç›¸åŒçš„ <code>API RegEx</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/\w+a&#123;3&#125;@gmail\.com/</span>, <span class="string">"g"</span>); <span class="comment">// Note the 'g' flag</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> string = <span class="string">"someEmailaaa@gmail.com"</span>;</span><br><span class="line"><span class="keyword">let</span> resultArray = string.match(regex);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(resultArray); <span class="comment">// Output: [ 'someEmailaaa@gmail.com' ]</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä¹Ÿå¯ä»¥åœ¨æ­¤å¤„ä½¿ç”¨ <code>RegEx</code> æ¥ç¼©çŸ­ä»£ç ï¼Œå› ä¸º <code>RegEx</code> æ— è®ºå¦‚ä½•éƒ½ä¼šç¼–è¯‘ä¸ºå®ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> string = <span class="string">"someEmailaaa@gmail.com"</span>;</span><br><span class="line"><span class="keyword">let</span> resultArray = string.match(<span class="regexp">/\w+a&#123;3&#125;@gmail\.com/</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(resultArray); <span class="comment">// Output: [ 'someEmailaaa@gmail.com' ]</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°† <code>RegEx</code> æ›´æ”¹ä¸º <code>/[a-z]/</code> - ä»¥ä»…åŒ¹é…å°å†™å­—ç¬¦ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/[a-z]/</span>, <span class="string">"g"</span>); <span class="comment">// Note the 'g' flag</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> string = <span class="string">"someEmailaaa@gmail.com"</span>;</span><br><span class="line"><span class="keyword">let</span> resultArray = string.match(regex);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(resultArray);</span><br><span class="line"><span class="comment">// ["s","o","m","e","m","a","i","l","a","a","a","g","m","a","i","l","c","o","m"]</span></span><br></pre></td></tr></table></figure><h2><span id="search-æ–¹æ³•">search() æ–¹æ³•</span></h2><p><code>search()</code> æ–¹æ³•æœç´¢ä¼ é€’çš„æ¨¡å¼å’Œå­—ç¬¦ä¸²ä¹‹é—´çš„åŒ¹é…é¡¹ã€‚å¦‚æœæ‰¾åˆ°åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›å…¶ç´¢å¼•ã€‚å¦åˆ™ï¼Œè¯¥æ–¹æ³•è¿”å›-1ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/\w+a&#123;3&#125;@gmail\.com/</span>, <span class="string">"g"</span>); <span class="comment">// Note the 'g' flag</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> string = <span class="string">"some string that isn't matched someEmailaaa@gmail.com"</span>;</span><br><span class="line"><span class="keyword">let</span> result = string.search(regex);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// Output: 31</span></span><br><span class="line"></span><br><span class="line">string = <span class="string">"It should return -1 with this string"</span>;</span><br><span class="line">result = string.search(regex);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// Output: -1</span></span><br></pre></td></tr></table></figure><h2><span id="replace-æ–¹æ³•">replace() æ–¹æ³•</span></h2><p><code>replace(to_replace, replace_with)</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå…¶ä¸­æ¨¡å¼åŒ¹é… <code>to_replace</code> è¢«æ›¿æ¢ä¸º <code>replace_with</code>ã€‚</p><blockquote><p><strong>å®ƒä¸ä¼šæ›´æ”¹åŸå§‹å­—ç¬¦ä¸²ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ã€‚</strong><br><code>to_replace</code> å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ª <code>RegExp</code> å®ä¾‹ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™åªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªå‡ºç°çš„ä½ç½®ï¼Œè€Œå¦‚æœæ˜¯ <code>RegExp</code>ï¼Œåˆ™å°†æ›¿æ¢æ¯ä¸ªå‡ºç°çš„ä½ç½®ã€‚<br>æ›¿æ¢ <code>gmail.com</code> ä¸º <code>yahoo.com</code></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/gmail\.com/</span>, <span class="string">"g"</span>); <span class="comment">// Note the 'g' flag</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> string = <span class="string">"example@gmail.com"</span>;</span><br><span class="line"><span class="keyword">let</span> result = string.replace(regex, <span class="string">"yahoo.com"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// Output: example@yahoo.com</span></span><br><span class="line"></span><br><span class="line">string = <span class="string">"example1@gmail.com example2@example.com"</span></span><br><span class="line">result = string.replace(regex, <span class="string">"yahoo.com"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// Output: example1@yahoo.com example2@yahoo.com</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(string); <span class="comment">// Output: example1@gmail.com example2@gmail.com</span></span><br></pre></td></tr></table></figure><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><ul><li><code>RegExp</code>ç±» - ä¸€ä¸ªç±»ï¼Œå…¶ç›®çš„æ˜¯ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼</li><li><code>exec()</code>æ–¹æ³• - å…¶æœç´¢å­—ç¬¦ä¸²ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶è¿”å›åŒ¹é…çš„é˜µåˆ—ï¼ˆå…·æœ‰é™„åŠ ä¿¡æ¯ï¼‰ã€‚</li><li><code>test()</code>æ–¹æ³• - è¿™åªæ˜¯å¦‚æœæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›åŒ¹é…æµ‹è¯•<code>true/ false</code>ã€‚</li><li><code>match()</code>æ–¹æ³• - åœ¨æ‰€å®šä¹‰çš„<code>String</code>ï¼Œåˆ™è¿”å›åŒ¹é…çš„é˜µåˆ—ï¼ˆæ²¡æœ‰é™„åŠ ä¿¡æ¯ï¼‰ã€‚</li><li><code>search()</code>æ–¹æ³• - åœ¨å·²å®šä¹‰<code>String</code>ï¼Œè¿”å›åŒ¹é…çš„ç´¢å¼•ä¸­æ‰¾åˆ°ã€‚</li><li><code>replace()</code>æ–¹æ³• - åœ¨å·²å®šä¹‰<code>String</code>ï¼Œå–ä»£äº†<code>RegExp()</code>ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li></ul><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/guide-to-regular-expressions-and-matching-strings-in-javascript/" target="_blank" rel="noopener">https://stackabuse.com/guide-to-regular-expressions-and-matching-strings-in-javascript/</a></li><li><a href="https://regexr.com/" target="_blank" rel="noopener">https://regexr.com/</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åˆ›é€ æ€§å°±æ˜¯å‘æ˜ã€å®éªŒã€æˆé•¿ã€å†’é™©ã€çŠ¯è§„ã€çŠ¯é”™å’Œäº«å—ä¹è¶£ã€‚ â€”â€”&amp;lt;ç›ä¸½Â·å¢Â·åº“å…‹&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;åŒ¹é…å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ¨¡å¼ï¼Œåœ¨æœ€å¸¸è§çš„æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦è¿™äº›æ¥éªŒè¯ç”µå­é‚®ä»¶ã€ç”¨æˆ·è¾“å…¥ã€æ–‡ä»¶åæˆ–å¤§å¤šæ•°ç±»å‹çš„è¾“
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/tags/JavaScript/"/>
    
      <category term="æ­£åˆ™" scheme="https://cl9000.github.io/tags/%E6%AD%A3%E5%88%99/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript Node æ£€æŸ¥æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦ä¸ºç©º</title>
    <link href="https://cl9000.github.io/2021/06/29/JavaScript-Node%E6%A3%80%E6%9F%A5%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA/"/>
    <id>https://cl9000.github.io/2021/06/29/JavaScript-Node%E6%A3%80%E6%9F%A5%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA/</id>
    <published>2021-06-29T10:36:09.000Z</published>
    <updated>2021-09-09T14:30:11.366Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨äº‹æƒ…æˆåŠŸä¹‹å‰ï¼Œä¸€åˆ‡æ€»çœ‹ä¼¼ä¸å¯èƒ½ã€‚â€”â€”&lt;çº³å°”é€ŠÂ·æ›¼å¾·æ‹‰&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>Web åº”ç”¨ç¨‹åºé€šå¸¸ä»¥æŸç§å½¢å¼æ¥æ”¶ç”¨æˆ·è¾“å…¥- å¯¹äºä»»ä½•è¾“å…¥ï¼ŒéªŒè¯éƒ½å¾ˆé‡è¦ã€‚ç¡®ä¿è¡¨å•å­—æ®µåŒ…å«æœ‰æ•ˆæ•°æ®ï¼Œæˆ–è€…å®ƒä»¬åŒ…å«ä»»ä½•æ•°æ®æ˜¯æ‚¨å¯ä»¥åšçš„ç¬¬ä¸€é¡¹æ£€æŸ¥ã€‚</p><p>å½“ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶æ—¶ - æ‚¨éœ€è¦æ£€æŸ¥è¿™äº›æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼Œè€Œä¸ä»…ä»…æ˜¯å®ƒä»¬æ˜¯å¦å­˜åœ¨ã€‚<br>æ­¤å¤–ï¼Œç”±äº Node æ”¯æŒæœåŠ¡å™¨ç«¯å¼€å‘å¹¶ä¸”å¯ä»¥ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿï¼Œæ‚¨ä¼šå‘ç°è‡ªå·±ä¸€ç›´åœ¨ä½¿ç”¨æ–‡ä»¶å’Œç›®å½•ï¼Œå°¤å…¶æ˜¯åœ¨åˆ›å»º CLI åº”ç”¨ç¨‹åºæ—¶ã€‚</p><p>åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ <code>Node.js</code> æ£€æŸ¥æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦ä¸ºç©ºã€‚</p><p>æ³¨æ„ï¼šä¸¤æ–¹é¢æŸ¥ç ”ç©¶ - ä»å‰ç«¯æ¥æ”¶æ–‡ä»¶å¹¶å¯¹å…¶è¿›è¡ŒéªŒè¯ï¼Œæˆ–è€…ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿè€Œä¸è€ƒè™‘å¯èƒ½ä¸å­˜åœ¨çš„å‰ç«¯ã€‚</p><h2><span id="æ£€æŸ¥æ˜¯å¦ä½¿ç”¨-javascript-é€‰æ‹©äº†æ–‡ä»¶">æ£€æŸ¥æ˜¯å¦ä½¿ç”¨ JavaScript é€‰æ‹©äº†æ–‡ä»¶</span></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;!-- Meta tags --&gt;</span><br><span class="line">&lt;<span class="regexp">/head&gt;</span></span><br><span class="line"><span class="regexp">&lt;body&gt;</span></span><br><span class="line"><span class="regexp">    &lt;form enctype="multipart/</span>form-data<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;input type="</span>file<span class="string">" name="</span>file<span class="string">" id="</span>file<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;button type="</span>submit<span class="string">" onclick="</span>checkFile()<span class="string">"&gt;Submit&lt;/button&gt;    </span></span><br><span class="line"><span class="string">    &lt;/form&gt;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">    &lt;script src="</span>script.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><p>é¡µé¢åŒ…å«ä¸€ä¸ª<code>&lt;form&gt;</code>æ¥å—ä¸€ä¸ª <code>multipart</code> æ–‡ä»¶ï¼Œé€šè¿‡<code>&lt;input type=&quot;file&quot;&gt;</code>ã€‚æŒ‰ä¸‹æŒ‰é’®åï¼Œå°†<code>checkFile()</code>è§¦å‘è¯¥åŠŸèƒ½ï¼Œä»å¯¼å…¥çš„<code>script.js</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkFile</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> fileInputField = <span class="built_in">document</span>.getElementById(<span class="string">"file"</span>);</span><br><span class="line">    <span class="keyword">if</span> (fileInputField.files.length == <span class="number">0</span>) &#123;</span><br><span class="line">        alert(<span class="string">"Please select a file!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è·å–æˆ‘ä»¬çš„ <code>input</code>å…ƒç´  <code>document.getElementById()</code>å¹¶æ£€æŸ¥fileså±æ€§çš„é•¿åº¦ï¼Œå®ƒçš„ <code>input</code>ç±»å‹<code>file</code>ä¸ºã€‚å¦‚æœå®ƒæ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ä¼šæé†’ç”¨æˆ·æ²¡æœ‰é€‰æ‹©æ–‡ä»¶ã€‚</p><p>ä¸€æ—¦æˆ‘ä»¬ç¡®å®šç”¨æˆ·æä¾›äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ£€æŸ¥ä»–ä»¬æ˜¯å¦æä¾›äº†ä¸€ä¸ªéç©ºæ–‡ä»¶ã€‚</p><h2><span id="fsçš„æ¨¡å—">fsçš„æ¨¡å—</span></h2><p>Node.jsæ˜¯ä¸€ç§ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¹‹å¤–æ‰§è¡Œ JavaScript ä»£ç ã€‚è¿™ä¹Ÿä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸åº•å±‚æ“ä½œç³»ç»Ÿå’Œæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚fsåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå†…ç½®ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰æ¨¡å—ä¸ºæˆ‘ä»¬åˆ›é€ äº†æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬å°†ä¾èµ–äº <code>fs.readFile()</code> å’Œ <code>fs.readdir()</code> æ–¹æ³•ã€‚</p><h2><span id="ä½¿ç”¨-nodejs-æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸ºç©º">ä½¿ç”¨ Node.js æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸ºç©º</span></h2><p>ä¸€æ—¦ç”¨æˆ·é€šè¿‡è¡¨å•å°†æ–‡ä»¶å‘é€åˆ°æ‚¨çš„åç«¯ï¼Œä¾‹å¦‚å‘é€åˆ°/uploadç«¯ç‚¹ï¼Œå°±è¯¥æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸ºç©ºã€‚</p><p>æœ€ç®€å•çš„æ£€æŸ¥æ–¹æ³•æ˜¯æµå¼ä¼ è¾“æ–‡ä»¶ä¸­çš„æ•°æ®å¹¶æ£€æŸ¥å…¶é•¿åº¦ã€‚å¦‚æœæ–‡ä»¶ä¸­æœ‰0 ä¸ªå­—èŠ‚ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼Œå¦‚æœlengthæ•°æ®çš„ ç­‰äº0ï¼Œåˆ™æ–‡ä»¶ä¸ºç©ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">router.post(<span class="string">'/upload'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">true<span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">true<span class="keyword">const</span> multiparty = <span class="built_in">require</span>(<span class="string">'multiparty'</span>);</span><br><span class="line">true<span class="keyword">let</span> form = <span class="keyword">new</span> multiparty.Form();</span><br><span class="line">trueform.parse(req, <span class="function"><span class="keyword">function</span>(<span class="params">err, fields, files</span>) </span>&#123;</span><br><span class="line">truetrue<span class="keyword">let</span> file = files.keySelect[<span class="number">0</span>];</span><br><span class="line">truetruefs.readFile(file, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">truetruetrue<span class="keyword">if</span> (data.length == <span class="number">0</span>) &#123;</span><br><span class="line">truetruetruetrue<span class="keyword">return</span> res.status(<span class="number">422</span>).json(&#123;<span class="attr">message</span> : <span class="string">"File is empty! Unprocessable Entity."</span>&#125;);</span><br><span class="line">truetruetrue&#125;</span><br><span class="line">truetrue&#125;)</span><br><span class="line">true&#125;);</span><br><span class="line">true<span class="keyword">return</span> res.status(<span class="number">200</span>).json(&#123;<span class="attr">message</span>: <span class="string">"Success"</span>&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸å¤„ç†è¡¨å•æä¾›çš„æ–‡ä»¶ï¼Œå¹¶ä¸”å·²ç»è®°ä½äº†åç§°ï¼Œåˆ™å¯ä»¥å®Œå…¨è·³è¿‡æ­¤è¿‡ç¨‹å¹¶ç›´æ¥è¯»å–æ–‡ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile(<span class="string">"myFile.txt"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">true<span class="keyword">if</span> (data.length == <span class="number">0</span>) &#123;</span><br><span class="line">truetrue<span class="built_in">console</span>.log(<span class="string">"File is empty!"</span>);</span><br><span class="line">true&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">truetrue<span class="built_in">console</span>.log(<span class="string">"File is not empty!"</span>);</span><br><span class="line">true&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2><span id="ä½¿ç”¨-nodejs-æ£€æŸ¥ç›®å½•æ˜¯å¦ä¸ºç©º">ä½¿ç”¨ Node.js æ£€æŸ¥ç›®å½•æ˜¯å¦ä¸ºç©º</span></h2><p>åœ¨æ£€æŸ¥ç›®å½•æ˜¯å¦ä¸ºç©ºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ <code>readDir()</code> æ–¹æ³•ï¼š</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fs.readdir(directoryName, <span class="function"><span class="keyword">function</span><span class="params">(err, data)</span> &#123;</span></span><br><span class="line">true<span class="keyword">if</span> (data.<span class="built_in">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">truetrueconsole.<span class="built_in">log</span>(<span class="string">"Directory is empty!"</span>);</span><br><span class="line">true&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">truetrueconsole.<span class="built_in">log</span>(<span class="string">"Directory is not empty!"</span>);</span><br><span class="line">true&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2><span id="ç»“è®º">ç»“è®º</span></h2><p>å¤„ç†æ–‡ä»¶å¯¹äº Node é¡¹ç›®æ¥è¯´æ˜¯å¸ç©ºè§æƒ¯çš„ï¼Œå› ä¸ºå®ƒæ—¨åœ¨ç”¨äºæœåŠ¡å™¨ç«¯ã€‚æ‚¨å¯ä»¥æ‰§è¡Œä»¥éªŒè¯æ–‡ä»¶çš„åŸºæœ¬æ£€æŸ¥ä¹‹ä¸€æ˜¯æ£€æŸ¥å®ƒä»¬æ˜¯å¦ä¸ºç©ºã€‚</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/node-check-if-file-or-directory-is-empty/" target="_blank" rel="noopener">https://stackabuse.com/node-check-if-file-or-directory-is-empty/</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨äº‹æƒ…æˆåŠŸä¹‹å‰ï¼Œä¸€åˆ‡æ€»çœ‹ä¼¼ä¸å¯èƒ½ã€‚â€”â€”&amp;lt;çº³å°”é€ŠÂ·æ›¼å¾·æ‹‰&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Web åº”ç”¨ç¨‹åºé€šå¸¸ä»¥æŸç§å½¢å¼æ¥æ”¶ç”¨æˆ·è¾“å…¥- å¯¹äºä»»ä½•è¾“å…¥ï¼ŒéªŒè¯éƒ½å¾ˆé‡è¦ã€‚ç¡®ä¿è¡¨å•å­—æ®µåŒ…å«æœ‰æ•ˆæ•°æ®ï¼Œæˆ–è€…å®ƒä»¬åŒ…å«ä»»ä½•æ•°æ®æ˜¯æ‚¨
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/tags/JavaScript/"/>
    
      <category term="Node" scheme="https://cl9000.github.io/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ä½¿ç”¨ Cypress è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•</title>
    <link href="https://cl9000.github.io/2021/06/17/JavaScript-%E4%BD%BF%E7%94%A8-Cypress-%E8%BF%9B%E8%A1%8C%E7%AB%AF%E5%88%B0%E7%AB%AF%E6%B5%8B%E8%AF%95/"/>
    <id>https://cl9000.github.io/2021/06/17/JavaScript-%E4%BD%BF%E7%94%A8-Cypress-%E8%BF%9B%E8%A1%8C%E7%AB%AF%E5%88%B0%E7%AB%AF%E6%B5%8B%E8%AF%95/</id>
    <published>2021-06-17T10:16:25.000Z</published>
    <updated>2021-09-10T13:43:10.862Z</updated>
    
    <content type="html"><![CDATA[<p>é¢„æµ‹æœªæ¥æœ€å¥½çš„æ–¹æ³•å°±æ˜¯å»åˆ›é€ æœªæ¥ã€‚â€”â€”&lt;äºšä¼¯æ‹‰ç½•Â·æ—è‚¯&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•æ˜¯ä»»ä½•åŸºäº Web çš„åº”ç”¨ç¨‹åºå¼€å‘ç”Ÿå‘½å‘¨æœŸçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹ä½¿ç”¨ <a href="https://www.cypress.io/" target="_blank" rel="noopener">Cypress https://www.cypress.io/</a> çš„ç«¯åˆ°ç«¯æµ‹è¯•ã€‚</p><blockquote><p><strong>â€œç«¯åˆ°ç«¯â€æµ‹è¯•æ˜¯æŒ‡æ¨¡æ‹Ÿç”¨æˆ·ä½“éªŒå’Œç”¨æˆ·ä¸æœåŠ¡äº¤äº’çš„è¿‡ç¨‹ï¼Œå¹¶æµ‹è¯•è¯¥è¿‡ç¨‹ä¸­æ˜¯å¦å­˜åœ¨ä»»ä½•é”™è¯¯ã€‚</strong></p></blockquote><h2><span id="ä½¿ç”¨-cypress-ä¼˜ç¼ºç‚¹">ä½¿ç”¨ Cypress ä¼˜ç¼ºç‚¹</span></h2><h3><span id="ä¼˜ç‚¹">ä¼˜ç‚¹</span></h3><p>ä½¿ç”¨ Cypress çš„æœ€å¤§ä¼˜ç‚¹å¾ˆå®¹æ˜“è¢« Cypress çš„å¼€å‘äººå‘˜ç§°ä¸ºâ€œæ—¶é—´æ—…è¡Œâ€ã€‚</p><p>å®ƒå…è®¸æ‚¨åœ¨å…¶å‘½ä»¤æ—¥å¿—å’Œåº”ç”¨ç¨‹åºé¢„è§ˆä¸­æŸ¥çœ‹æµ‹è¯•ä¸­å‘ç”Ÿçš„æ‰€æœ‰äº‹æƒ…ï¼Œä»è€Œç®€åŒ–äº†è°ƒè¯•è¿‡ç¨‹ã€‚æ¯ä¸€æ­¥éƒ½ä¼šæ˜¾ç¤ºåº”ç”¨ç¨‹åºåœ¨æ‰§è¡Œæ—¶çš„çŠ¶æ€ï¼Œè®©æ‚¨å¯ä»¥åœ¨å‡ºç°é—®é¢˜æ—¶ç²¾ç¡®å®šä½é—®é¢˜ã€‚</p><p>æˆ‘ä»¬å°†ä»–ä»¬çš„è®¤çŸ¥æ„ŸçŸ¥çš„å¾ˆå¤§ä¸€éƒ¨åˆ†å»ºç«‹åœ¨æˆ‘ä»¬çš„è§†çº¿ä¸Šï¼Œè€Œâ€œæ—¶é—´æ—…è¡Œâ€ä½¿æˆ‘ä»¬èƒ½å¤Ÿç›´è§‚åœ°ï¼ˆäººä¸ºåœ°ï¼‰å¯»æ‰¾é”™è¯¯ï¼ŒåŒæ—¶ä»ç„¶ç»™æˆ‘ä»¬å¸¦æ¥è‡ªåŠ¨åŒ–çš„å¥½å¤„ã€‚</p><p>è¿™ä¹Ÿæ˜¯ä¸€ç§éå¸¸è‡ªç„¶çš„é”™è¯¯æœç´¢æ–¹æ³•ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äºç«¯åˆ°ç«¯æµ‹è¯•çš„æ¡†æ¶ï¼Œè¿™æ„å‘³ç€é™¤äº†æµ‹è¯•åŠŸèƒ½ä¹‹å¤–ï¼Œæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥çœ‹åˆ°æœ€ç»ˆç”¨æˆ·ä¼šçœ‹åˆ°ä»€ä¹ˆã€‚</p><p>æ‚¨å¯èƒ½æƒ³è¦ä½¿ç”¨ Cypress çš„å…¶ä»–ä¸€äº›åŸå› æ˜¯ï¼š</p><ul><li>å®ƒä¸æ˜¯åŸºäº <code>Selenium</code>ï¼Œæ‰€ä»¥å®ƒä¸å­˜åœ¨ç›¸åŒçš„é—®é¢˜å¹¶æä¾›äº†ä¸€ä¸ªæ–°çš„è§†è§’ã€‚<code>Cypress</code> æ˜¯ä»å¤´å¼€å§‹æ„å»ºçš„ã€‚</li><li>é«˜åº¦å…³æ³¨ç«¯åˆ°ç«¯æµ‹è¯•ã€‚</li><li>å¦‚æœæ‚¨å¯åœ¨æµè§ˆå™¨ä¸­è¿è¡Œå®ƒï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>Cypress</code> å¯¹å…¶è¿›è¡Œæµ‹è¯•ã€‚</li><li>æ‚¨åªéœ€è¦å­¦ä¹  <code>JavaScript</code>ã€‚</li><li>è®¾ç½®è¶…çº§ç®€å•ï¼Œé€Ÿåº¦å¿«å¦‚é—ªç”µã€‚</li><li>å®ƒæ˜¯åœ¨è€ƒè™‘åˆ°æµ‹è¯•é©±åŠ¨å¼€å‘çš„æƒ…å†µä¸‹åˆ›å»ºçš„ã€‚</li><li>å¤§é‡å®˜æ–¹æ–‡æ¡£ã€‚</li><li>æ‚¨å¯ä»¥çœ‹åˆ°ä»æµè§ˆå™¨å‘å‡ºçš„æ¯ä¸ªç½‘ç»œè¯·æ±‚ï¼Œå¹¶å¯ä»¥è®¿é—®æ‰€æœ‰æ•°æ®ã€‚</li><li>æ‚¨å¯ä»¥å­˜æ ¹ä»»ä½•ç½‘ç»œè¯·æ±‚ï¼ŒåŒæ—¶è¿˜å¯ä»¥åˆ›å»ºä»»ä½•ç½‘ç»œè¯·æ±‚ï¼ˆè¿™æ„å‘³ç€æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Cypress</code> è¿›è¡Œ <code>API</code> æµ‹è¯•ï¼‰ã€‚</li><li>ç§¯æå’Œé€æ˜çš„<a href="https://github.com/cypress-io" target="_blank" rel="noopener">å¼€å‘äººå‘˜ https://github.com/cypress-io</a>ã€‚</li><li><code>Cypress</code> å»ºç«‹åœ¨ <a href="https://mochajs.org/" target="_blank" rel="noopener">Mocha</a> å’Œ <a href="https://www.chaijs.com/" target="_blank" rel="noopener">Chai</a> ä¹‹ä¸Šï¼Œå®ƒä»¬éƒ½æ˜¯ç°ä»£æµè¡Œçš„ <code>BDD</code> å’Œ <code>TDD</code> åº“ï¼Œå› æ­¤å®é™…ä¸Šå€Ÿç”¨äº†ä¸€äº›è¯­æ³•ã€‚å¦‚æœæ‚¨ä»¥å‰ä½¿ç”¨è¿‡è¿™äº›ï¼Œæ‚¨ä¼šæ³¨æ„åˆ° <code>Cypress</code> é’©å­æ˜¯ç›´æ¥ä» <code>Mocha</code> æ¥çš„ã€‚</li></ul><h3><span id="ä¸è¶³">ä¸è¶³</span></h3><ul><li>ç”±äºå®ƒä¸ä½¿ç”¨ Selenium å¹¶ä¸”åŸºäº JavaScriptï¼Œå› æ­¤æ‚¨éœ€è¦å…·å¤‡ <code>JavaScript</code> çŸ¥è¯†ã€‚<code>Selenium</code> æ”¯æŒ <code>JavaScriptã€Javaã€Pythonã€Ruby å’Œ C#</code>ã€‚</li><li>ç”±äºå®ƒéå¸¸ä¸“æ³¨äºç«¯åˆ°ç«¯æµ‹è¯•ï¼Œå› æ­¤å®ƒä¸ä¼šæˆä¸ºæ‚¨å¯ä»¥åº”ç”¨äºæ‰€æœ‰å…¶ä»–ç±»å‹æµ‹è¯•ï¼ˆAPI æµ‹è¯•é™¤å¤–ï¼‰çš„è§£å†³æ–¹æ¡ˆã€‚</li><li>å®ƒä¸ï¼ˆä¹Ÿå¯èƒ½æ°¸è¿œä¸ä¼šï¼‰æ”¯æŒæ‰€æœ‰æµè§ˆå™¨ï¼ˆæ‚¨å¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ°æ”¯æŒçš„æµè§ˆå™¨åˆ—è¡¨ï¼‰è¿™å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæŸäº›ç±»å‹çš„å®¢æˆ·ç«¯å¯èƒ½ä¼šè¯·æ±‚ IEã€Opera æˆ– Safari æ”¯æŒã€‚</li><li>æ²¡æœ‰ç§»åŠ¨æµ‹è¯•ã€‚</li><li>å·²çŸ¥åœ¨ä½¿ç”¨ç›´æ¥ URL å¯¼èˆªæ—¶ä¸ç¨³å®šã€‚</li><li>ä¸èƒ½ä½¿ç”¨å¤šä¸ªæ ‡ç­¾ã€‚</li><li>æ— æ³•å¯¼èˆªåˆ°ä¸åŒçš„åŸŸ URL - å¦‚æœæ‚¨çš„è§£å†³æ–¹æ¡ˆä¸­æœ‰å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œæˆ–è€…æ‚¨éœ€è¦åœ¨ç¬¬ä¸‰æ–¹ UI ä¸Šæµ‹è¯•æŸäº›å†…å®¹ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªå·¨å¤§çš„é—®é¢˜ã€‚æ‚¨éœ€è¦ä¸ºå…¶ä»–åº”ç”¨ç¨‹åºä¿ç•™ä¸€ä¸ªå•ç‹¬çš„é¡¹ç›®ï¼Œæˆ–è€…å®Œå…¨ä¾èµ–ç½‘ç»œè¯·æ±‚æ¥è·å–æ•°æ®ã€‚</li><li>ç›¸å¯¹è¾ƒæ–°ï¼Œæ‰€ä»¥å®ƒæ²¡æœ‰åƒä¸€äº›æ—§çš„æµ‹è¯•å·¥å…·é‚£æ ·å¤šçš„ç¤¾åŒºææ–™ã€‚</li><li>å¯¹äºæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­å¯èƒ½ç»å¸¸æ‰§è¡Œçš„æŸäº›æ“ä½œï¼Œä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ ã€æ‚¬åœå’Œæ»šåŠ¨ï¼ŒæŸäº›è·¯çº¿å›¾åŠŸèƒ½ä¼¼ä¹å·²é€€å±…æ¬¡è¦ä½ç½®ã€‚æ‚¨å°†ä¸å¾—ä¸å¯»æ‰¾è§£å†³æ–¹æ³•ã€‚</li><li>å¦‚æœæ‚¨æƒ³è¦ç›´æ¥çš„æ•°æ®åº“é€šä¿¡æˆ–ç›´æ¥æµè§ˆå™¨å·¥ä½œä¹‹å¤–çš„å‡ ä¹ä»»ä½•äº‹æƒ…ï¼Œåˆ™éœ€è¦è¿›è¡Œå¤§é‡å·¥ä½œã€‚ä¸è¿‡ï¼Œä»–ä»¬æ­£è®¡åˆ’ä¸ºå…¶ä»–è¯­è¨€å‘å¸ƒåç«¯é€‚é…å™¨ã€‚æœ¬æŒ‡å—å°†åœ¨å‘å¸ƒæ—¶åŠæ—¶æ›´æ–°ã€‚</li></ul><h2><span id="ä½¿ç”¨-cypress">ä½¿ç”¨ Cypress</span></h2><p><a href="https://github.com/cypress-io/cypress-example-kitchensink" target="_blank" rel="noopener">Cypress å®˜ç½‘å‚è€ƒä¾‹å­ https://github.com/cypress-io/cypress-example-kitchensink</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£… Cypress </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install cypress --save-dev</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ¼”ç¤ºåº”ç”¨ç¨‹åºï¼Œæ‰§è¡Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## clone this repo to a local directory</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/&lt;your-username&gt;/cypress-example-kitchensink.git</span><br><span class="line"></span><br><span class="line"><span class="comment">## cd into the cloned repo</span></span><br><span class="line"><span class="built_in">cd</span> cypress-example-kitchensink</span><br><span class="line"></span><br><span class="line"><span class="comment">## install the node_modules</span></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="comment">## start the local webserver</span></span><br><span class="line">npm start</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## launch the cypress test runner</span></span><br><span class="line">npm run cy:open</span><br></pre></td></tr></table></figure><p>å¯åŠ¨åå¦‚ä¸‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/cypress1.png" alt><br>å•å‡»å…¶ä¸­ä»»ä½•ä¸€ä¸ªï¼ˆä¾‹å¦‚ <code>todo.spec.js</code>ï¼‰å°†å¯åŠ¨ï¼š<br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/cypress2.png" alt></p><h2><span id="cypress-api-å’Œ-æ ·å¼">Cypress API å’Œ æ ·å¼</span></h2><ul><li><a href="https://docs.cypress.io/guides/overview/why-cypress/" target="_blank" rel="noopener">Cypress guides</a></li><li><a href="https://docs.cypress.io/api/table-of-contents" target="_blank" rel="noopener">Cypress API</a></li></ul><p><code>Cypress</code> å»ºç«‹åœ¨ <code>Mocha</code> å’Œ <code>Chai</code> ä¹‹ä¸Šï¼Œå¹¶å€Ÿç”¨äº†å®ƒä»¬çš„ä¸€äº›è¯­æ³•å’Œç‰¹æ€§ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€æ˜¾ç€çš„å€Ÿç”¨å…ƒç´ æ˜¯describe(), context(),it() specify()æ–¹æ³•ã€‚å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ç”¨äºç”¨æ ‡ç­¾æ³¨é‡Šæµ‹è¯•ç»„çš„å®é™…æµ‹è¯•æ–¹æ³•çš„åŒ…è£…å™¨ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>specify()</code> <code>it()</code> æ˜¯åŒä¹‰è¯ï¼Œå°±åƒ <code>describe()</code> <code>context()</code>ã€‚æ ¹æ®å¬èµ·æ¥æ›´è‡ªç„¶çš„å†…å®¹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›çš„ä»»æ„ç»„åˆã€‚</p><p><code>describe()</code>ç”¨äºä¸ºä¸€ç»„æµ‹è¯•æä¾›ä¸Šä¸‹æ–‡ï¼ŒåŒæ—¶ <code>it()</code> æè¿°å•ä¸ªæµ‹è¯•ã€‚é€šå¸¸ï¼Œæ‚¨ä¼šå°†å®ƒä»¬åµŒå¥—åœ¨ç±»ä¼¼äºä»¥ä¸‹çš„ç»“æ„ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">"Element X Testing"</span>, () =&gt; &#123;</span><br><span class="line">    it(<span class="string">"Does Y"</span>, () =&gt; &#123;</span><br><span class="line">        <span class="comment">// Test...</span></span><br><span class="line">    &#125;);</span><br><span class="line">    it(<span class="string">"Does Z"</span>, () =&gt; &#123;</span><br><span class="line">        <span class="comment">// Test...</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åœ¨æ¯ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å°†ä¾é  <code>Cypress</code> å®ä¾‹ï¼ˆ<code>cy</code>ï¼‰æ¥è¿è¡Œå„ç§æ–¹æ³•ï¼Œå¦‚<code>visit()ï¼Œget()ï¼Œfixture()</code>ï¼Œç­‰ï¼Œä»¥åŠé“¾çš„æ–¹æ³•å¯¹è¿™äº›ç»“æœã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">"Testing CRUD Form"</span>, () =&gt; &#123;</span><br><span class="line">    it(<span class="string">"Visits the addition page"</span>, () =&gt; &#123;</span><br><span class="line">        cy.visit(<span class="string">'/addProduct'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    it(<span class="string">"Gets the input field and inputs text"</span>, () =&gt; &#123;</span><br><span class="line">        cy.get(<span class="string">'.input-element'</span>)</span><br><span class="line">          .type(<span class="string">'Product 1'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    it(<span class="string">"Clicks the 'Add Product' button"</span>, () =&gt; &#123;</span><br><span class="line">        cy.contains(<span class="string">'Add Product'</span>)</span><br><span class="line">          .click();</span><br><span class="line">    &#125;);</span><br><span class="line">    it(<span class="string">"Checks if X was added correctly"</span>, () =&gt; &#123;</span><br><span class="line">        cy.get(<span class="string">'product-title'</span>)</span><br><span class="line">          .should(<span class="string">'have.value'</span>, <span class="string">'Product 1'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    it(<span class="string">"Runs a CLI Command"</span>, () =&gt; &#123;</span><br><span class="line">        cy.exec(<span class="string">'npm run other-service'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    it(<span class="string">"Sends POST HTTP request"</span>, () =&gt; &#123;</span><br><span class="line">        cy.request(<span class="string">'POST'</span>, <span class="string">'/host/other-service/updateCustomers'</span>, &#123; <span class="attr">mail</span>: <span class="string">'Product 1 is out!'</span> &#125;)</span><br><span class="line">          .its(<span class="string">'body'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œå½“æ‚¨å‡†å¤‡å¥½è¿è¡Œæµ‹è¯•æ—¶ï¼Œæ‚¨å¯ä»¥è¿è¡Œï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cypress run --browser chrome</span><br></pre></td></tr></table></figure><h2><span id="å°†-cypress-æ·»åŠ åˆ°é¡¹ç›®ä¸­">å°† Cypress æ·»åŠ åˆ°é¡¹ç›®ä¸­</span></h2><p>é…ç½®æ–‡ä»¶ï¼Œ<code>cypress.json</code> å°†åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­è‡ªåŠ¨ç”Ÿæˆï¼Œé»˜è®¤æƒ…å†µä¸‹åªåŒ…å«é¡¹ç›® ID çš„å ä½ç¬¦ï¼š<br>é…ç½® ( cypress.json) æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"projectId"</span>: <span class="string">"4b7344"</span>,</span><br><span class="line"><span class="string">"baseUrl"</span>: <span class="string">"http://localhost:8080"</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨ <code>/integration</code> è°ƒç”¨ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½• <code>my_tests</code> å’Œä¸€ä¸ªåä¸º <code>tests.spec.js</code> . æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œåœ¨ <code>Cypress</code> ä¸­ï¼Œæ‚¨å·²ç»ä¼šæç¤ºæ‚¨é€‰æ‹©è¿è¡Œè¿™ä¸ªæ–°æ–‡ä»¶ï¼Œå› ä¸ºå®ƒä¼šå“åº”æ€§åœ°æ‰«æ <code>/integration</code> ç›®å½•ä»¥æŸ¥æ‰¾æ–°æµ‹è¯•ã€‚</p><p>ç»§ç»­åœ¨æˆ‘ä»¬çš„tests.spec.jsæ–‡ä»¶ä¸­å®šä¹‰å‡ ä¸ªæµ‹è¯•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// &lt;reference types="cypress" /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* In general, it is a good practice to store </span></span><br><span class="line"><span class="comment"> all your selectors in variables, since they </span></span><br><span class="line"><span class="comment"> might change in the future */</span></span><br><span class="line"><span class="keyword">var</span> email;</span><br><span class="line"><span class="keyword">var</span> emailSelector = <span class="string">'.action-email'</span>;</span><br><span class="line"></span><br><span class="line">describe(<span class="string">'Email Input'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="comment">/* beforeEach() which will run before every </span></span><br><span class="line"><span class="comment">    it() test in the file. This is great </span></span><br><span class="line"><span class="comment">    if you want to perform some common actions </span></span><br><span class="line"><span class="comment">    before each test */</span></span><br><span class="line">    beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">/* Since we defined `baseUrl` in cypress.json,</span></span><br><span class="line"><span class="comment">        using `/` as the value in `cy.visit()` will navigate to it.</span></span><br><span class="line"><span class="comment">        Adding `commads/actions` will add the value to the `baseUrl`. */</span></span><br><span class="line">        cy.visit(<span class="string">'/commands/actions'</span>);</span><br><span class="line">        <span class="comment">/* We are reading the example fixture file and assigning its</span></span><br><span class="line"><span class="comment">        value to a global variable so it is accessible in every test */</span></span><br><span class="line">        cy.fixture(<span class="string">'example'</span>).then(<span class="function">(<span class="params">json</span>)=&gt;</span>&#123;</span><br><span class="line">            email = json.email;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'Clicks on Actions, and writes the email from the fixture'</span>, () =&gt; &#123;</span><br><span class="line">        cy.get(emailSelector)</span><br><span class="line">            .type(email)</span><br><span class="line">            .should(<span class="string">'have.value'</span>, email);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2><span id="æ¨¡æ‹Ÿ-xhr-è¯·æ±‚å“åº”">æ¨¡æ‹Ÿ XHR è¯·æ±‚å“åº”</span></h2><p>å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„éå¸¸æœ‰ç”¨çš„åŠŸèƒ½æ˜¯ï¼Œæ‚¨å¯ä»¥å®Œå…¨è·³è¿‡ä¸Šä¸€èŠ‚ä¸­åˆ›å»ºè¯„è®ºçš„è¿‡ç¨‹ã€‚æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ stub è¿™ä¸ªç½‘ç»œè¯·æ±‚æ¥åˆ›å»ºæ‚¨è‡ªå·±çš„æ¨¡æ‹Ÿå“åº”cy.intercept()ã€‚è¿™åœ¨åç«¯å°šæœªå¼€å‘æ—¶å¾ˆæœ‰ç”¨ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨å®Œæˆä¹‹å‰æ¨¡æ‹Ÿå“åº”ï¼Œæˆ–è€…æ‚¨åªæƒ³æµ‹è¯•åº”ç”¨ç¨‹åºçš„è¿™ä¸€éƒ¨åˆ†ã€‚</p><p>æˆ‘ä»¬è¿™é‡Œä¹Ÿæœ‰å¤¹å…·æ–‡ä»¶çš„å¦ä¸€ä¸ªç”¨é€”ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªmock_comment.jsonåŒ…å«è¯„è®ºæ¨¡æ‹Ÿæ•°æ®çš„è°ƒç”¨ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ JSON å†…å®¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;  </span><br><span class="line">  <span class="string">"postId"</span>: <span class="number">1</span>,  </span><br><span class="line">  <span class="string">"id"</span>: <span class="number">1</span>,  </span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"My Name"</span>,  </span><br><span class="line">  <span class="string">"email"</span>: <span class="string">"MyEmail@gardner.biz"</span>,  </span><br><span class="line">  <span class="string">"body"</span>: <span class="string">"My Comment Body"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬intercepting_requests.spec.jsåœ¨/my_testsç›®å½•ä¸‹åˆ›å»ºå¦ä¸€ä¸ªæ–‡ä»¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ‹¦æˆªç›¸åŒçš„ç«¯ç‚¹ï¼Œä½†å°†æˆ‘ä»¬çš„å¤¹å…·ä½œä¸ºå“åº”æ³¨å…¥ï¼Œå®Œå…¨è·³è¿‡å®é™…è¯·æ±‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// &lt;reference types="cypress" /&gt;</span></span><br><span class="line">describe(<span class="string">'Intercepting XHR'</span>, () =&gt; &#123;</span><br><span class="line">  beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;       </span><br><span class="line">    <span class="comment">// By adding an object `&#123;fixture: 'mock_comment.json'&#125;` in the `intercept()` call,</span></span><br><span class="line">    <span class="comment">// we are telling cypress to use the JSON file as the response.      </span></span><br><span class="line">    <span class="comment">// It can also be aliased using `.as()`.  </span></span><br><span class="line">    cy.intercept(<span class="string">'GET'</span>, <span class="string">'**/comments/*'</span>,</span><br><span class="line">                 &#123;<span class="attr">fixture</span>: <span class="string">'mock_comment.json'</span>&#125;).as(<span class="string">'getComment'</span>);       </span><br><span class="line">    cy.navigateToAliasingPage();    </span><br><span class="line">  &#125;);        </span><br><span class="line">  it(<span class="string">'Clicks a button and expects a comment'</span>, () =&gt; &#123;        </span><br><span class="line">    cy.get(<span class="string">'.network-btn'</span>).click()        </span><br><span class="line">    <span class="comment">// There is no need to validate the response now since we mocked it,</span></span><br><span class="line">    <span class="comment">// but there is a need to validate the UI        </span></span><br><span class="line">    cy.fixture(<span class="string">'mock_comment'</span>).then(<span class="function">(<span class="params">json</span>)=&gt;</span>&#123;           </span><br><span class="line">      <span class="comment">// We are accessing the comment directly from `mock_comment.json`</span></span><br><span class="line">      <span class="comment">// and checking that the UI is displaying it in its fullest         </span></span><br><span class="line">      cy.get(<span class="string">'.network-comment'</span>).should(<span class="string">'have.text'</span>, json.body);        </span><br><span class="line">    &#125;);    </span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿è¡Œè¿™ä¸ªæµ‹è¯•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cypress run --record --spec <span class="string">"cypress/integration/my_tests/intercepting_requests.spec.js"</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šå†…å®¹å‚è€ƒå®˜ç½‘æ–‡æ¡£ã€‚</p><h2><span id="ç»“è®º">ç»“è®º</span></h2><p><code>Cypress</code> æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„æ–°å…´æµ‹è¯•å·¥å…·ã€‚å®ƒæ˜¯è¶…çº§è½»é‡çº§â€‹â€‹ä¸”æ˜“äºè®¾ç½®çš„ï¼Œå¹¶ä¸”å¯¹äº TDD æ¥è¯´éå¸¸æ£’ï¼Œå®ƒæ„å»ºåœ¨ <code>Mocha</code> å’Œ <code>Chai</code> ä¹‹ä¸Šã€‚å®ƒå…è®¸æ‚¨å®Œå…¨æ¨¡æ‹Ÿæ‚¨çš„åç«¯ï¼Œè¿™ä¹Ÿéå¸¸é€‚åˆåœ¨ä¸åç«¯é›†æˆä¹‹å‰è¿›è¡Œæµ‹è¯•ï¼Œæˆ–è€…åœ¨æ‚¨çš„åç«¯å°šä¸å­˜åœ¨çš„æƒ…å†µä¸‹ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒè¿˜å¯ä»¥å¸®åŠ©å¡‘é€ åç«¯ï¼Œå› ä¸ºå®ƒå°†å‡†ç¡®å‹¾å‹’å‡ºå‰ç«¯çš„æœŸæœ›ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ä¸€ç§å¯ä»¥è¦†ç›–çš„èŒƒå›´éå¸¸çµæ´»çš„å·¥å…·ï¼Œå¹¶ä¸”æ‚¨éœ€è¦ä¸€ä¸ªå¤§å‹çš„ã€ä¸ªæ€§åŒ–çš„å’Œå®šåˆ¶çš„æ¡†æ¶ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½å¸Œæœ›åšæŒä½¿ç”¨ <code>Selenium</code>ã€‚</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/end-to-end-testing-in-javascrpt-with-cypress/" target="_blank" rel="noopener">https://stackabuse.com/end-to-end-testing-in-javascrpt-with-cypress/</a></li><li><a href="https://www.cypress.io/" target="_blank" rel="noopener">Cypress https://www.cypress.io/</a></li><li><a href="https://github.com/cypress-io/cypress-example-kitchensink" target="_blank" rel="noopener">https://github.com/cypress-io/cypress-example-kitchensink</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¢„æµ‹æœªæ¥æœ€å¥½çš„æ–¹æ³•å°±æ˜¯å»åˆ›é€ æœªæ¥ã€‚â€”â€”&amp;lt;äºšä¼¯æ‹‰ç½•Â·æ—è‚¯&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•æ˜¯ä»»ä½•åŸºäº Web çš„åº”ç”¨ç¨‹åºå¼€å‘ç”Ÿå‘½å‘¨æœŸçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹ä½¿ç”¨ &lt;a h
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/tags/JavaScript/"/>
    
      <category term="æµ‹è¯•" scheme="https://cl9000.github.io/tags/%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­è·å–åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ </title>
    <link href="https://cl9000.github.io/2021/06/08/Javascript%E4%B8%AD%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0/"/>
    <id>https://cl9000.github.io/2021/06/08/Javascript%E4%B8%AD%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0/</id>
    <published>2021-06-08T10:08:50.000Z</published>
    <updated>2021-06-08T10:26:54.943Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸‡ç‰©çš†æœ‰å…¶ç¾ï¼Œä½†å¹¶éäººäººéƒ½èƒ½å‘ç°ã€‚â€”â€”&lt;å®‰è¿ª.æ²ƒéœå°”&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>è·å–åˆ—è¡¨/æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¸¸è§çš„æ“ä½œã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•è·å– JavaScript æ•°ç»„/åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p><p>JavaScript æ˜¯ä¸€ç§<strong>å¼±ç±»å‹</strong>æˆ–<strong>æ— ç±»å‹</strong>è¯­è¨€ï¼Œè¿™æ„å‘³ç€åœ¨ä½¿ç”¨ä¹‹å‰ä¸éœ€è¦å£°æ˜å˜é‡çš„ç±»å‹ï¼Œå› ä¸º JavaScript é€šè¿‡è¯»å–å˜é‡çš„å€¼æ¥ç¡®å®šç±»å‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myList = [<span class="string">'cl9000'</span>, <span class="number">12</span>, <span class="string">'admin'</span>, <span class="number">56</span>, <span class="string">'We'</span>ï¼Œ <span class="number">10</span>];</span><br><span class="line">## ä½¿ç”¨ length è·å–æœ€åä¸€ä¸ªå…ƒç´ </span><br><span class="line"></span><br><span class="line"><span class="string">`length`</span> å±æ€§è¡¨ç¤ºåˆ—è¡¨ä¸­å…ƒç´ çš„æ•°é‡ï¼š</span><br><span class="line"><span class="string">``</span><span class="string">`js</span></span><br><span class="line"><span class="string">console.log(myList.length)</span></span><br></pre></td></tr></table></figure><p>JavaScript ä¸­æ•°ç»„/åˆ—è¡¨ä¸­çš„å…ƒç´ ç´¢å¼•ä¸å…¶ä»–è¯­è¨€éå¸¸ç›¸ä¼¼ã€‚æˆ‘ä»¬å¯ä»¥è®¿é—®ä¸€ä¸ªå…ƒç´ ï¼ŒåŸºäºå®ƒçš„ç´¢å¼•ï¼Œé€šè¿‡åœ¨æ–¹æ‹¬å·ä¸­ä¼ é€’å®ƒ<code>[]</code>ï¼Œå¼•ç”¨æ•°ç»„ã€‚æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º <code>length-1</code>ã€‚</p><p>ç”±äº <code>length</code> å­—æ®µä»…è¿”å›å…ƒç´ çš„ä¿å­˜å€¼ - è¿™æ˜¯ä¸€ç§å¿«é€Ÿã€é«˜æ•ˆä¸”å»‰ä»·çš„æ“ä½œã€‚è·å– <code>JavaScript</code> æ•°ç»„/åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ çš„æœ€ä½³æ–¹æ³•æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lastElement = myList[myList.length - <span class="number">1</span>];</span><br><span class="line"><span class="built_in">console</span>.log(lastElement);</span><br><span class="line"><span class="comment">// ç»“æœ</span></span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure><h2><span id="ä½¿ç”¨-pop-è·å–æœ€åä¸€ä¸ªå…ƒç´ ">ä½¿ç”¨ pop() è·å–æœ€åä¸€ä¸ªå…ƒç´ </span></h2><p><code>pop()</code> æ–¹æ³•è¿”å›é›†åˆçš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä½†åœ¨æ­¤è¿‡ç¨‹ä¸­å°†å…¶åˆ é™¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ <code>ES6</code> ä¸­çš„ <code>æ‰©å±•è¿ç®—ç¬¦(...)</code> - æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å†…å­˜ä¸­ä¸´æ—¶å¤åˆ¶åˆ—è¡¨å¹¶ <code>pop()</code>åœ¨å‰¯æœ¬ä¸Šæ‰§è¡Œï¼Œä¿æŒåŸå§‹åˆ—è¡¨å®Œæ•´æ¥é¿å…æ­¤åŠŸèƒ½ã€‚</p><h3><span id="pop-æ–¹æ³•">*pop()` æ–¹æ³•</span></h3><p>æˆ‘ä»¬ä½¿ç”¨ <code>pop()</code> ä»åˆ—è¡¨ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lastElement = myList.pop();</span><br><span class="line"><span class="built_in">console</span>.log(lastElement)</span><br><span class="line"><span class="built_in">console</span>.log(myList)</span><br><span class="line"><span class="comment">// ç»“æœ</span></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="comment">// ['cl9000', 12, 'admin', 56, 'We']</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ‚¨ä¸éœ€è¦åŸå§‹åˆ—è¡¨ä¿æŒå®Œæ•´ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä»ä¸­å¼¹å‡ºå…ƒç´ ï¼Œä½†å¦‚æœæ‚¨ç¡®å®éœ€è¦åŸå§‹åˆ—è¡¨ï¼Œæ‚¨å¯ä»¥åˆ¶ä½œä¸€ä¸ªå‰¯æœ¬å¹¶ <code>pop()</code>ä»ä¸­å¤åˆ¶ã€‚</p><h3><span id="å¸¦æœ‰-es6-æ‰©å±•è¿ç®—ç¬¦-çš„-pop">å¸¦æœ‰ ES6 æ‰©å±•è¿ç®—ç¬¦(â€¦) çš„ pop()</span></h3><p><code>ES6</code> æ˜¯ <code>EcmaScript6</code> çš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§<code>JavaScript</code> æ ‡å‡†ï¼Œç”¨äºä½¿ <code>JavaScript</code> ç¼–ç¨‹æ›´å®¹æ˜“ï¼ˆç¼–ç æ›´å°‘ï¼Œä½†åšå¾—æ›´å¤šï¼‰ã€‚</p><p>å®ƒæˆç«‹äº 1997 å¹´ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªé‡å¤§çªç ´æ˜¯åœ¨ 2015 å¹´ï¼Œä½¿ç”¨ ES6 æ ‡å‡†ï¼ˆæˆ– EcmaScript2015ï¼‰ã€‚æœ€æ–°ç‰ˆæœ¬æ˜¯ 2020 å¹´å¼€å‘çš„ç¬¬ 11 ä¸ªç‰ˆæœ¬ã€‚æ‰€æœ‰ç‰ˆæœ¬éƒ½æ—¨åœ¨ä½¿ JavaScript ç¼–ç æ›´å®¹æ˜“ï¼ˆä½¿ç”¨æ–°çš„è¯­æ³•è§„åˆ™ã€æ–°çš„å…³é”®å­—ç­‰ï¼‰ã€‚</p><p>æˆ‘ä»¬åœ¨è¿™é‡Œå¯ä»¥åˆ©ç”¨çš„æ˜¯ <code>æ‰©å±•è¿ç®—ç¬¦(...)</code><br>é™¤å…¶ä»–åŠŸèƒ½å¤–ï¼Œæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å¤åˆ¶åˆ—è¡¨/æ•°ç»„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...myList]</span><br></pre></td></tr></table></figure><p>è¿™å°†ç”Ÿæˆä¸€ä¸ªæ–°åˆ—è¡¨ï¼Œå…¶å…ƒç´ ä¸myList. è¯è™½å¦‚æ­¤ - æˆ‘ä»¬å¯ä»¥pop()ä»æ–°åˆ—è¡¨è€Œä¸æ˜¯åŸå§‹åˆ—è¡¨ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log([...myList].pop())</span><br><span class="line"><span class="built_in">console</span>.log(myList)</span><br><span class="line"><span class="comment">// ç»“æœ</span></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="comment">// ['cl9000', 12, 'admin', 56, 'We', 10]</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¿™å¯èƒ½å¾ˆæ–¹ä¾¿ç¼–å†™ï¼Œä½†ä¸æ˜¯æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒå¤åˆ¶äº†ä¸€ä¸ªåˆ—è¡¨ã€‚å¯¹äºå°åˆ—è¡¨ï¼Œå®ƒä¸ä¼šå¤§å¹…é™ä½æ€§èƒ½ï¼Œä½†æ˜¯å¯¹äºæ›´é•¿çš„åˆ—è¡¨ï¼Œè¿™æ˜¯ç®€å•åœ°è·å–æœ€åä¸€ä¸ªå…ƒç´ çš„ä½æ•ˆæ–¹æ³•ã€‚</p></blockquote><h2><span id="ä½¿ç”¨sliceè·å–æœ€åä¸€ä¸ªå…ƒç´ ">ä½¿ç”¨slice()è·å–æœ€åä¸€ä¸ªå…ƒç´ </span></h2><p><code>slice(a, b)</code> æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(myList.slice(<span class="number">1</span>, <span class="number">4</span>))</span><br><span class="line"><span class="comment">// [ 12, 'admin', 56]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myList.slice(<span class="number">-1</span>))</span><br><span class="line"><span class="comment">// [10]</span></span><br><span class="line"><span class="built_in">console</span>.log(myList.slice(<span class="number">-1</span>)[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š <code>slice()</code>å½“æ‚¨æƒ³æ£€ç´¢æ•°ç»„çš„æœ€åN ä¸ªå…ƒç´ è€Œä¸æ˜¯ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæœ€å¥½ä½¿ç”¨å®ƒï¼Œå› ä¸ºæ‚¨å¯ä»¥ç®€å•åœ°ä½¿ç”¨å®ƒlength-1ã€‚</p></blockquote><h2><span id="ä½¿ç”¨-reverse-è·å–æœ€åä¸€ä¸ªå…ƒç´ ">ä½¿ç”¨ reverse() è·å–æœ€åä¸€ä¸ªå…ƒç´ </span></h2><p>reverse()æ–¹æ³•å°±åœ°åè½¬åˆ—è¡¨ã€‚æœ€åä¸€ä¸ªå…ƒç´ å°†æˆä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåä¹‹äº¦ç„¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(myList.reverse())</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬çš„å…ƒç´ æ˜¯ç¬¬ä¸€ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨myListReversed[0].</p><blockquote><p>æ³¨æ„ï¼šåè½¬æ•°ç»„/åˆ—è¡¨ä¹Ÿæ˜¯ä¸€ä¸ªæ½œåœ¨çš„éå¸¸æ˜‚è´µçš„æ“ä½œã€‚å¦‚æœæ‚¨åªæƒ³è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè¯·é¿å…åè½¬é›†åˆã€‚å¦‚æœæ‚¨æ— è®ºå¦‚ä½•éƒ½è¦åè½¬å®ƒ - æ‚¨å¯ä»¥åƒè¿™æ ·è®¿é—®å…ƒç´ ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·å‚è€ƒç¬¬ä¸€ç§ä½¿ç”¨æ–¹æ³•length-1ã€‚</p></blockquote><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>å…¶ä¸­æœ€å¥½ã€æœ€æœ‰æ•ˆä¸”å¯èƒ½æœ€ç›´è§‚çš„æ–¹æ³•æ˜¯ç¬¬ä¸€ç§ - <code>myList[myList.length()-1]</code>. è¿™æ˜¯æ‚¨å¤§éƒ¨åˆ†æ—¶é—´å°†ä½¿ç”¨çš„ã€‚</p><p>ä½¿ç”¨ <code>pop()</code>ä»åˆ—è¡¨ä¸­åˆ é™¤å…ƒç´ å¹¶è¿”å›å®ƒã€‚å¦‚æœæ‚¨æƒ³åˆ é™¤å…ƒç´  - è¿™æ˜¯æ‚¨æƒ³è¦ä½¿ç”¨çš„æ–¹æ³•ï¼Œå¦åˆ™ï¼Œæ‚¨å°†ä¸å¾—ä¸æ‰‹åŠ¨åˆ é™¤å…ƒç´ ã€‚</p><p><code>slice()</code>ç»™æˆ‘ä»¬ä¸€ä¸ªåˆ‡ç‰‡ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è·å¾—æœ€å N ä¸ªå…ƒç´ ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ã€‚</p><p><code>reverse()</code> å°±åœ°åè½¬æ•°ç»„ï¼Œå¦‚æœæ‚¨åªæƒ³è·å–ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™åº”é¿å…ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ— è®ºå¦‚ä½•éƒ½è¦åè½¬æ•°ç»„ï¼Œè¿™æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/javascript-get-last-element-in-list" target="_blank" rel="noopener">https://stackabuse.com/javascript-get-last-element-in-list</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸‡ç‰©çš†æœ‰å…¶ç¾ï¼Œä½†å¹¶éäººäººéƒ½èƒ½å‘ç°ã€‚â€”â€”&amp;lt;å®‰è¿ª.æ²ƒéœå°”&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;è·å–åˆ—è¡¨/æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¸¸è§çš„æ“ä½œã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•è·å– JavaScript æ•°ç»„/åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ 
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­æ›´æ”¹å…ƒç´ çš„ç±»-classNameå’ŒclassList</title>
    <link href="https://cl9000.github.io/2021/06/08/Javascript%E4%B8%AD%E6%9B%B4%E6%94%B9%E5%85%83%E7%B4%A0%E7%9A%84%E7%B1%BB-className%E5%92%8CclassList/"/>
    <id>https://cl9000.github.io/2021/06/08/Javascript%E4%B8%AD%E6%9B%B4%E6%94%B9%E5%85%83%E7%B4%A0%E7%9A%84%E7%B1%BB-className%E5%92%8CclassList/</id>
    <published>2021-06-08T09:47:46.000Z</published>
    <updated>2021-06-08T10:08:08.491Z</updated>
    
    <content type="html"><![CDATA[<p>é‚£äº›ç–¯ç‹‚åˆ°è®¤ä¸ºè‡ªå·±èƒ½å¤Ÿæ”¹å˜ä¸–ç•Œçš„äººï¼Œæ‰èƒ½çœŸæ­£æ”¹å˜ä¸–ç•Œã€‚â€”â€”&lt;å²è’‚å¤«Â·ä¹”å¸ƒæ–¯&gt;</p><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://stackabuse.com/how-to-change-elements-class-with-javascript-classname-and-classlista" target="_blank" rel="noopener">https://stackabuse.com/how-to-change-elements-class-with-javascript-classname-and-classlista</a></p></blockquote><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>HTML ä¸­çš„ <strong>class</strong> å±æ€§ç”¨äºä¸ºä¸€ä¸ªæˆ–å¤šä¸ª HTML å…ƒç´ å®šä¹‰ä¸€ä¸ªç±»ã€‚è¿™æ ·ï¼Œå¾ˆå¤šå…ƒç´ å¯ä»¥å±äºåŒä¸€ç±»å…ƒç´ å¹¶åœ¨æ ·å¼è¡¨ä¸­å…±äº«ç›¸åŒçš„æ ·å¼ï¼Œå› æ­¤æ‚¨ä¸å¿…ä¸€éåˆä¸€éåœ°ä¸ºæ¯ä¸ªå…ƒç´ ç¼–å†™ç›¸åŒçš„æ ·å¼ã€‚<br>è¯è™½å¦‚æ­¤ï¼Œæœ‰æ—¶æ‚¨å¸Œæœ›æ ¹æ®ç”¨æˆ·çš„è¾“å…¥åŠ¨æ€æ›´æ”¹æ ·å¼ã€‚ä¾‹å¦‚ï¼Œæ‚¨æƒ³ä¸ºæ‚¨çš„ç½‘é¡µå®ç°ç™½å¤©/é»‘å¤œæ¨¡å¼ï¼Œè¿™å¯ä»¥é€šè¿‡æ›´æ”¹å…ƒç´ çš„ç±»æ¥æœ‰æ•ˆåœ°å®Œæˆã€‚</p><p>å½“æ‚¨æƒ³è®©ç”¨æˆ·è‡ªå®šä¹‰åº”ç”¨ç¨‹åºçš„ä»»ä½•æ–¹é¢æ—¶ï¼Œè¿™æ˜¯ä¸€é¡¹å¸¸è§ä»»åŠ¡ã€‚åœ¨æœ¬æŒ‡å—ä¸­ - æˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•åœ¨ JavaScript ä¸­æ›´æ”¹ HTML å…ƒç´ çš„ç±»ã€‚</p><h2><span id="domæ ‘">DOMæ ‘</span></h2><p><strong>DOM</strong> æˆ– <strong>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDocument Object Modelï¼‰</strong> æ˜¯åˆ›å»ºä»XMLæˆ–HTMLçš„æ ‘ç»“æ„çš„æ¥å£ã€‚æ–‡æ¡£å…ƒç´ çš„å±‚æ¬¡ç»“æ„é€šè¿‡DOMè¡¨ç¤ºã€‚ä¸€æ£µæ ‘ç”±èŠ‚ç‚¹å’Œåˆ†æ”¯ç»„æˆï¼Œå…¶ä¸­å…ƒç´ æ˜¯èŠ‚ç‚¹ï¼Œå…ƒç´ ä¹‹é—´çš„å…³ç³»æ˜¯åˆ†æ”¯ã€‚åœ¨ DOM æ ‘ä¸­ï¼Œæ ¹èŠ‚ç‚¹æ˜¯htmlâ€”â€”å¼€å§‹æ ‡è®° HTML æ–‡æ¡£æ‰€éœ€çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Web page title&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Some heading&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤é¡µé¢çš„ DOM æ ‘å°†å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- root element &lt;html&gt;</span><br><span class="line">    - element &lt;head&gt;</span><br><span class="line">        - element &lt;title&gt;</span><br><span class="line">            - text <span class="string">"Web page title"</span></span><br><span class="line">    - element &lt;body&gt;</span><br><span class="line">        - element &lt;h1&gt;</span><br><span class="line">            - text <span class="string">"Some heading"</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ ‘ï¼Œä½†åŒæ ·çš„è¿‡ç¨‹é€‚ç”¨äºä»»ä½•ä»»æ„å¤æ‚çš„é¡µé¢ã€‚å¤šäºäº† DOM æ ‘ï¼Œé€šè¿‡ JavaScriptï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®é¡µé¢ä¸Šçš„æ‰€æœ‰ HTML å…ƒç´ ï¼Œä»¥åŠå…ƒç´ çš„classã€idã€å†…å®¹åŠå…¶æ‰€æœ‰å±æ€§ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥æ·»åŠ æ–°å…ƒç´ å¹¶åˆ é™¤æ—§å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºäº‹ä»¶æ¥ç›‘å¬å’Œå“åº”å®ƒä»¬ï¼ˆå³å½“ç‚¹å‡»æŒ‰é’®æ—¶æ”¹å˜èƒŒæ™¯é¢œè‰²ï¼‰ã€‚</p><h2><span id="è·å–å…ƒç´ ">è·å–å…ƒç´ </span></h2><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬å¯ä»¥ä» HTML è·å–ä¸€ä¸ªå…ƒç´ ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ JavaScriptå®é™…åšåˆ°è¿™ä¸€ç‚¹ã€‚è¦æ›´æ”¹å…ƒç´ çš„ç±»ï¼Œæˆ‘ä»¬é¦–å…ˆå¿…é¡»æ£€ç´¢å®ƒã€‚æ ¹æ®å…ƒç´ çš„ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡ ç§ä¸åŒçš„æ–¹æ³•è·å–å®ƒä»¬ï¼š</p><ul><li><code>getElementsByClassName(class_name)</code> - è¿”å›HTMLCollectionåŒ…å«ç±»åç­‰äº <code>HTML</code> å…ƒç´ çš„ <code>class_name</code>ã€‚</li><li><code>getElementById(id_name)</code> - è¿”å›ä¸€ä¸ª <code>id</code> ç­‰äº <code>HTML</code> å…ƒç´  <code>id_name</code>ã€‚</li><li><code>getElementsByTagName(tag_name)</code> - è¿”å›ä¸€ä¸ª <code>HTMLCollection</code> å¸¦æœ‰æ ‡ç­¾çš„å…ƒç´  <code>tag_name</code>ã€‚</li></ul><p>æˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ª HTML æ–‡ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Web page title&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body <span class="class"><span class="keyword">class</span></span>=<span class="string">"page-body"</span>&gt;</span><br><span class="line">true&lt;h1 <span class="class"><span class="keyword">class</span></span>=<span class="string">"headings"</span>&gt;Some heading&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;h3 class="headings"&gt;More of some heading&lt;/</span>h3&gt;</span><br><span class="line">    &lt;h5 <span class="class"><span class="keyword">class</span></span>=<span class="string">"headings"</span>&gt;Another heading here&lt;<span class="regexp">/h5&gt;</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">    &lt;a href="https:/</span><span class="regexp">/www.google.com" id="link-to-google"&gt;Some random link&lt;/</span>a&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;Thing #1&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;Thing #2&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;Thing #3&lt;/li&gt;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">    &lt;script src=<span class="string">"script.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><h3><span id="ä½¿ç”¨getelementsbyclassnameè·å–å…ƒç´ ">ä½¿ç”¨getElementsByClassName()è·å–å…ƒç´ </span></h3><p>æˆ‘ä»¬åˆ¶ä½œ script.js å¯¼å…¥åˆ°æˆ‘ä»¬é¡µé¢çš„æ–‡ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch script.js</span><br></pre></td></tr></table></figure><p>åœ¨å…¶ä¸­ - æˆ‘ä»¬å°†å®šä½å¹¶æ£€ç´¢å±äº<code>â€œheadingsâ€</code>çš„å…ƒç´ classï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementsByClassName(<span class="string">"headings"</span>));</span><br></pre></td></tr></table></figure><p>ç”±äºå¯èƒ½æœ‰å¤šä¸ªå…ƒç´ å±äºåŒä¸€ç±» - è¿™å°†è¿”å›ä¸€ä¸ªHTMLCollectionï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTMLCollection(<span class="number">3</span>)</span><br><span class="line">true- <span class="number">0</span>: h1.headings</span><br><span class="line">true- <span class="number">1</span>: h3.headings</span><br><span class="line">true- <span class="number">2</span>: h5.headings</span><br><span class="line">truelength: <span class="number">3</span></span><br></pre></td></tr></table></figure><p><code>HTMLCollection</code> æ˜¯ <code>HTML</code> å…ƒç´ çš„é›†åˆï¼Œå®ƒæä¾›äº†å¤šç§ä»é›†åˆä¸­é€‰æ‹©å®ƒä»¬çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>className()</code>- è¿”å›ä¸€ä¸ªä»£è¡¨ç±»åçš„å­—ç¬¦ä¸²ï¼›è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥è®¾ç½®å…ƒç´ çš„ç±»ï¼ˆè¿™æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼‰ã€‚</li><li><code>innerHTML()</code> - ç”±äº HTML å…ƒç´ å¯ä»¥ç›¸äº’åµŒå¥—ï¼Œå¦‚æœæœ‰åµŒå¥—å…ƒç´ ï¼Œæ­¤æ–¹æ³•ä¼šå°†å®ƒä»¬ä½œä¸º HTML è¿”å›ã€‚</li><li><code>innerText()</code> - è¿”å›å…ƒç´ å†…çš„æ‰€æœ‰æ–‡æœ¬ï¼ˆåŒ…æ‹¬åµŒå¥—å…ƒç´ ï¼‰ã€‚</li></ul><p>è¿˜æœ‰å¾ˆå¤šæˆ‘ä»¬å¯ä»¥ç›‘å¬çš„äº‹ä»¶ï¼Œä¾‹å¦‚ï¼š<code>onclick, ondblclick, onkeydown, onkeypress</code>ã€‚å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°æœ‰å…³ JavaScript äº‹ä»¶çš„æ›´å¤šä¿¡æ¯ã€‚<br><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events</a></p><h3><span id="ä½¿ç”¨getelementbyidè·å–å…ƒç´ ">ä½¿ç”¨getElementById()è·å–å…ƒç´ </span></h3><p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•<code>getElementById()</code> è·å–å…ƒç´  <code>id</code> ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">"link-to-google"</span>));</span><br><span class="line"><span class="comment">// ç»“æœæ˜¯</span></span><br><span class="line">&lt;a href=<span class="string">"https://www.google.com"</span> id=<span class="string">"link-to-google"</span>&gt;Some random link&lt;<span class="regexp">/a&gt;</span></span><br></pre></td></tr></table></figure><h3><span id="ä½¿ç”¨getelementsbytagnameè·å–å…ƒç´ ">ä½¿ç”¨getElementsByTagName()è·å–å…ƒç´ </span></h3><p>æœ€åï¼Œå¦‚æœå…ƒç´ æ²¡æœ‰ <code>class</code> æˆ– <code>id</code> ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å®ƒä»¬çš„ <code>tag</code> æ‰¾åˆ°å…ƒç´ ã€‚è¿™å°†è¿”å›ä¸€ç»„ HTML å…ƒç´ ï¼Œå› ä¸ºé€šå¸¸æœ‰å¤šä¸ªå…·æœ‰ç›¸åŒæ ‡ç­¾çš„å…ƒç´ ã€‚<br>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è·å–æ‰€æœ‰<code>&lt;li&gt;</code>å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>li</code> æ ‡ç­¾è¿›è¡Œæœç´¢ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementsByTagName(<span class="string">"li"</span>));</span><br><span class="line"><span class="comment">// ç»“æœæ˜¯ï¼š</span></span><br><span class="line">HTMLCollection(<span class="number">3</span>) [li, li, li]</span><br><span class="line">true- <span class="number">0</span>: li</span><br><span class="line">true- <span class="number">1</span>: li</span><br><span class="line">true- <span class="number">2</span>: li</span><br></pre></td></tr></table></figure><p><code>getElementsByClassName</code> è¿”å›å€¼æ˜¯ä¸€æ ·çš„ - ä¸€ä¸ª <code>HTMLCollection</code>ã€‚<br>æ— è®ºç”¨äºè·å–å…ƒç´ çš„æ–¹æ³•å¦‚ä½• - æˆ‘ä»¬ç°åœ¨éƒ½å¯ä»¥æ›´æ”¹å®ƒçš„ç±»ã€‚</p><h2><span id="ä½¿ç”¨-javascript-æ›´æ”¹å…ƒç´ çš„ç±»">ä½¿ç”¨ JavaScript æ›´æ”¹å…ƒç´ çš„ç±»</span></h2><h3><span id="ä½¿ç”¨classnameæ›´æ”¹å…ƒç´ ç±»">ä½¿ç”¨classNameæ›´æ”¹å…ƒç´ ç±»</span></h3><p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>index.html</code> åŒ…å«ä¸€äº›æ•°æ®çš„è™šæ‹Ÿé¡µé¢ã€‚æˆ‘ä»¬å°†å…è®¸ç”¨æˆ·åœ¨â€œç™½å¤©æ¨¡å¼â€å’Œâ€œå¤œé—´æ¨¡å¼â€ä¹‹é—´åˆ‡æ¢ï¼Œè¿™ä¼šæ”¹å˜ç½‘é¡µä¸Šä½¿ç”¨çš„è°ƒè‰²æ¿ã€‚æˆ‘ä»¬è¿˜éœ€è¦åœ¨ <code>script.js</code> æ­¤å¤„å¯¼å…¥ä¸€ä¸ªæ–‡ä»¶æ¥æŸ¥æ‰¾å’Œæ›´æ”¹å…ƒç´ ï¼Œä»¥åŠä¸€ä¸ª <code>style.css</code> åŒ…å«æ‰€æœ‰æ ·å¼ä»£ç çš„æ–‡ä»¶ã€‚</p><p>è®©æˆ‘ä»¬ä»ä»¥ä¸‹å¼€å§‹index.htmlï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Day/night mode&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;link rel="stylesheet" href="style.css"/</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/head&gt;</span></span><br><span class="line"><span class="regexp">&lt;body class="page-body-day" id="page-body"&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;h1 class="main-heading-day" id="main-heading"&gt;Some heading&lt;/</span>h1&gt;</span><br><span class="line">    &lt;p&gt;Dummy text, dummy text, dummy text&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;p&gt;Some more dummy text, more dummy text, more dummy text&lt;/</span>p&gt;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    &lt;button onclick=<span class="string">"switchMode()"</span>&gt;Switch day/night mode&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script src=<span class="string">"script.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><p>å½“ç”¨æˆ·å•å‡»â€œåˆ‡æ¢æ—¥/å¤œæ¨¡å¼â€æŒ‰é’®æ—¶ï¼Œæ‰€æœ‰å°†æ”¹å˜å…¶å¤–è§‚çš„å…ƒç´ éƒ½æœ‰å„è‡ªçš„idå¹¶åˆ†åˆ«åˆ†é…äº†é»˜è®¤ <code>element-day</code> ç±»ã€‚</p><p>æ¯ä¸ª <code>element-day</code> ç±» <code>element-night</code> åœ¨ <code>style.css</code> æ–‡ä»¶ä¸­éƒ½æœ‰ä¸€ä¸ªæ›¿ä»£é¡¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.page-body-day &#123;</span><br><span class="line">    background-color: white;</span><br><span class="line">    color: black;</span><br><span class="line">&#125;</span><br><span class="line">.page-body-night &#123;</span><br><span class="line">    background-color: #02182B;</span><br><span class="line">    color: yellow;</span><br><span class="line">&#125;</span><br><span class="line">.main-heading-day &#123;</span><br><span class="line">    color: black;</span><br><span class="line">&#125;</span><br><span class="line">.main-heading-night &#123;</span><br><span class="line">    color: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºæˆ‘ä»¬å°†æ›´æ”¹å…ƒç´ çš„ç±»ï¼Œå› æ­¤æˆ‘ä»¬ä¸æƒ³æŒ‰ç±»è¿›è¡Œæœç´¢ï¼Œå¦åˆ™ä¼šå‡ºç°è¾¹ç¼˜æƒ…å†µã€‚æˆ‘ä»¬å°†è¦æœç´¢æŸä¸ªå›ºå®šå€¼çš„ä¸œè¥¿ï¼Œå³ <code>id</code>ï¼Œç„¶åæ£€æŸ¥è¯¥ <code>className</code>å…ƒç´ çš„ - åœ¨è¯¥è¿‡ç¨‹ä¸­å°†å…¶æ›´æ”¹ä¸ºé€‚å½“çš„ç±»ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">switchMode</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// Body switching</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">document</span>.getElementById(<span class="string">"page-body"</span>).className == <span class="string">"page-body-day"</span>)&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"page-body"</span>).className = <span class="string">"page-body-night"</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"page-body"</span>).className = <span class="string">"page-body-day"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Heading switching</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">document</span>.getElementById(<span class="string">"main-heading"</span>).className == <span class="string">"main-heading-day"</span>)&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"main-heading"</span>).className = <span class="string">"main-heading-night"</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"main-heading"</span>).className = <span class="string">"main-heading-day"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<code>className</code>è¿”å›ç±»å…ƒç´ çš„åç§°ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸ºå…¶åˆ†é…ä¸€ä¸ªæ–°å€¼ - æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆåœ°æ›´æ–°classæ ‡ç­¾çš„å±æ€§ã€‚å¦‚æœå…ƒç´ æœ‰ä¸€ä¸ª<code>element-day</code>ç±»ï¼Œæˆ‘ä»¬å°†å…¶æ›´æ”¹ä¸º<code>element-night</code>ï¼Œåä¹‹äº¦ç„¶ã€‚<br>å½“<code>color</code>åœ¨ <code>CSS</code> ä¸­æ”¹å˜ <code>body</code> çš„å±æ€§æ—¶ï¼Œæˆ‘ä»¬ä¼šè‡ªåŠ¨æ”¹å˜æ‰€æœ‰æ²¡æœ‰ <code>color</code> å®šä¹‰å±æ€§çš„å…ƒç´ ï¼ˆåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯æˆ‘ä»¬çš„<code>&lt;p&gt;</code>æ ‡ç­¾ï¼‰ã€‚å½“ç±»åˆ‡æ¢å‘ç”Ÿæ—¶ï¼ŒCSS å¼€å§‹è¯»å–æ–°åˆ‡æ¢çš„ç±»å¹¶ç›¸åº”åœ°åº”ç”¨æ ·å¼ã€‚<br>ä¸è¿‡ï¼Œè¿™ç§æ–¹æ³•ä¸æ˜¯å¾ˆç°ä»£ï¼Œä¸»è¦ç”¨äºé€‚åº” Internet Explorer 8 å’Œ 9 çš„æ»ååŠŸèƒ½ã€‚</p><h3><span id="ä½¿ç”¨classlistæ›´æ”¹å…ƒç´ ç±»">ä½¿ç”¨classListæ›´æ”¹å…ƒç´ ç±»</span></h3><p>è¾ƒæ–°çš„ Internet æµè§ˆå™¨æ”¯æŒåä¸º <code>classList</code>. æ­¤å±æ€§æä¾›çš„æ˜¯åº”ç”¨äºæŸä¸ª <code>HTML</code> å…ƒç´ çš„æ‰€æœ‰ç±»çš„åˆ—è¡¨ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼š</strong> Internet Explorer 8 å’Œ 9 ä¸æ”¯æŒclassList.</p></blockquote><p><code>classList</code> æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åˆ©ç”¨ï¼š</p><ul><li><code>add(class_name)</code> - <code>class_name</code> åœ¨åˆ—è¡¨ä¸­æ·»åŠ ä¸€ä¸ªæ–°ç±»ã€‚</li><li><code>remove(class_name)</code> - <code>class_name</code> ä»åˆ—è¡¨ä¸­åˆ é™¤ä¸€ä¸ªç±»ã€‚</li><li><code>toggle(class_name)</code> - <code>class_name</code> å¦‚æœå°šæœªæ·»åŠ ï¼Œåˆ™æ·»åŠ ç±»ï¼Œå¦åˆ™å°†å…¶åˆ é™¤ã€‚</li><li><code>contains(class_name)</code> - æ£€æŸ¥æ˜¯å¦ <code>class_name</code> åœ¨åº”ç”¨äº <code>HTML</code> å…ƒç´ çš„ç±»åˆ—è¡¨ä¸­ã€‚</li></ul><p>è¯è™½å¦‚æ­¤ - æˆ‘ä»¬å¯ä»¥é‡å†™script.jsæ–‡ä»¶ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">switchMode</span>(<span class="params"></span>)</span>&#123;    </span><br><span class="line">    <span class="comment">// Body switching</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">document</span>.getElementById(<span class="string">"page-body"</span>).classList.contains(<span class="string">"page-body-day"</span>))&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"page-body"</span>).classList.remove(<span class="string">"page-body-day"</span>);</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"page-body"</span>).classList.add(<span class="string">"page-body-night"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"page-body"</span>).classList.remove(<span class="string">"page-body-night"</span>);</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"page-body"</span>).classList.add(<span class="string">"page-body-day"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Heading switching</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">document</span>.getElementById(<span class="string">"main-heading"</span>).classList.contains(<span class="string">"main-heading-day"</span>))&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"main-heading"</span>).classList.remove(<span class="string">"main-heading-day"</span>);</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"main-heading"</span>).classList.add(<span class="string">"main-heading-night"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"main-heading"</span>).classList.remove(<span class="string">"main-heading-night"</span>);</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"main-heading"</span>).classList.add(<span class="string">"main-heading-day"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•åœ¨ <code>HTML5</code> å’Œç°ä»£æµè§ˆå™¨ä¸­å¾—åˆ°æ”¯æŒï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥ä»¥ç±»ä¼¼äº<code>jQuery</code> çš„æ–¹å¼æ“ä½œç±» - ä¸€ä¸ªå¹¿æ³›ç”¨äºæ“ä½œ <code>HTML</code> å…ƒç´ ã€äº‹ä»¶ç­‰çš„ <code>JavaScript</code> åº“ã€‚</p><p>é€šè¿‡ <code>classList</code>ï¼Œæ‚¨å¯ä»¥è·³è¿‡åŒ…å«å‡å°‘**PLTï¼ˆé¡µé¢åŠ è½½æ—¶é—´ï¼‰**çš„å¤–éƒ¨åº“ï¼Œ<strong>PLTï¼ˆé¡µé¢åŠ è½½æ—¶é—´ï¼‰</strong> æœ€è¿‘å·²æˆä¸ºSEO åˆ†çº§çš„é‡è¦Web é‡è¦ä¿¡å·ã€‚</p><h2><span id="ç»“è®º">ç»“è®º</span></h2><p>JavaScript è·å¾—äº†å¤§é‡é‡‡ç”¨ï¼Œå› ä¸º DOM ä½¿å¾—å®ƒå¯ä»¥éå¸¸ç®€å•åœ°æ“ä½œç½‘é¡µä¸Šçš„æ‰€æœ‰å†…å®¹ï¼Œç­‰ç­‰ã€‚</p><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶äº†å¦‚ä½•åœ¨ JavaScript ä¸­æ›´æ”¹å…ƒç´ çš„ç±»ã€‚</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/how-to-change-elements-class-with-javascript-classname-and-classlist" target="_blank" rel="noopener">https://stackabuse.com/how-to-change-elements-class-with-javascript-classname-and-classlist</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é‚£äº›ç–¯ç‹‚åˆ°è®¤ä¸ºè‡ªå·±èƒ½å¤Ÿæ”¹å˜ä¸–ç•Œçš„äººï¼Œæ‰èƒ½çœŸæ­£æ”¹å˜ä¸–ç•Œã€‚â€”â€”&amp;lt;å²è’‚å¤«Â·ä¹”å¸ƒæ–¯&amp;gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥ï¼š&lt;a href=&quot;https://stackabuse.com/how-to-change-elements-class-with-j
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­çš„JSåº“Brython ä»‹ç»æŒ‡å—</title>
    <link href="https://cl9000.github.io/2021/06/07/Javascript%E4%B8%AD%E7%9A%84JS%E5%BA%93Brython-%E4%BB%8B%E7%BB%8D%E6%8C%87%E5%8D%97/"/>
    <id>https://cl9000.github.io/2021/06/07/Javascript%E4%B8%AD%E7%9A%84JS%E5%BA%93Brython-%E4%BB%8B%E7%BB%8D%E6%8C%87%E5%8D%97/</id>
    <published>2021-06-07T09:55:10.000Z</published>
    <updated>2021-06-07T10:33:11.260Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ›é€ åŠ›æ˜¯è‡ªå¾‹ä¸ç«¥å¿ƒçš„ç»“åˆä½“ã€‚â€”â€”&lt;ç½—ä¼¯ç‰¹Â·æ ¼æ—&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>åœ¨å¼€å‘ <code>Web</code> åº”ç”¨ç¨‹åºæ—¶ - æˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¤šç§æŠ€æœ¯å’Œè¯­è¨€ã€‚åç«¯å¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ <code>Javaï¼ˆSpring Boot</code>ï¼‰ã€<code>Pythonï¼ˆDjango æˆ– Flask</code>ï¼‰æˆ– <code>JavaScript (Node.js)</code> æ„å»ºï¼Œä½†å‰ç«¯æ›´å¸¸ä½¿ç”¨ <code>JavaScriptï¼ˆReactã€Angular ç­‰ï¼‰</code>æ„å»ºã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬ç”šè‡³é‡‡ç”¨æ··åˆæ–¹æ³•è®©æœåŠ¡å™¨ç«¯å‘ˆç°é¡µé¢ï¼Œå¹¶åœ¨ <code>React</code> ç­‰å‰ç«¯æ¡†æ¶ä¸­å®Œæˆæœ€åçš„ä¿®é¥°ã€‚</p><p>å¤šå¹´æ¥ï¼Œé‰´äºå…¶åœ¨ <code>Web</code> ä¸Šçš„æµè¡Œâ€”â€”<code>JavaScript</code> ç¤¾åŒºæ‰©å±•äº†åŸå§‹åŠŸèƒ½ä»¥å¯ç”¨ <code>JavaScript</code> é©±åŠ¨çš„åç«¯ï¼ŒåŒ…æ‹¬å‰ç«¯ã€‚åœ¨ <code>JavaScript</code> ä¸­ç¼–å†™ <code>Web</code> åº”ç”¨ç¨‹åºçš„æœ€å¸¸è§æ–¹æ³•æ˜¯ä½¿ç”¨<code>MEAN</code>å †æ ˆã€‚ä¸€ä¸ª <code>MongoDB</code> æ•°æ®åº“ï¼Œ<code>Node.js</code> å’Œ <code>Express.js</code> ä½œä¸ºåç«¯ï¼Œ<code>Angular</code>ï¼ˆæˆ–è€…æœ€è¿‘çš„ <code>React</code>ï¼‰ä½œä¸ºå‰ç«¯ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çœŸçš„æ›´å–œæ¬¢ä½¿ç”¨ <code>Python</code> å¼€å‘æ‚¨çš„åº”ç”¨ç¨‹åºå‘¢ï¼Ÿè™½ç„¶ä¸¥æ ¼ä¸“æ³¨äºä¸€ç§ç¼–ç¨‹è¯­è¨€æ˜¯ä¸å¯å–çš„ - è¯­è¨€æ˜¯å·¥å…·ï¼Œè€Œä¸“æ³¨äºä¸€ç§å·¥å…·ä¼šè®©ä½ ä¸é‚£ä¹ˆçµæ´» - å•è¯­è¨€åº”ç”¨ç¨‹åºä»æœ‰ç©ºé—´ã€‚</p><p><strong>Brython å¯èƒ½æ˜¯è§£å†³æ–¹æ¡ˆï¼</strong> å®ƒæ˜¯ä¸€ä¸ª <code>JavaScript</code> åº“ï¼Œå¯è®©æ‚¨åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ <code>Python</code> ä»£ç ã€‚</p><blockquote><p>ä½ å¯èƒ½å·²ç»çŒœåˆ°äº†ï¼ŒBrython æ˜¯ Browser Python çš„ç¼©å†™ã€‚</p></blockquote><p>é¡¾åæ€ä¹‰ï¼Œ<code>Brython</code> çš„ä¸»è¦ç›®æ ‡æ˜¯å–ä»£ <code>JavaScript</code> å¹¶æ¨åŠ¨ <code>Python</code> ä½œä¸º <code>Web</code> æµè§ˆå™¨çš„ä¸»è¦è„šæœ¬è¯­è¨€ï¼Œé€‚ç”¨äºæ‚¨çš„åº”ç”¨ç¨‹åºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script src=<span class="string">"/brython.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>head&gt;</span><br><span class="line">    &lt;body onload=<span class="string">"brython()"</span>&gt;</span><br><span class="line">        &lt;script type=<span class="string">"text/python"</span>&gt;</span><br><span class="line">            <span class="keyword">import</span> browser</span><br><span class="line">            browser.document &lt;= <span class="string">"Hello world!"</span></span><br><span class="line">         &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>&lt;script&gt;</code> é€šå¸¸ä¸æ”¯æŒçš„ <code>text/python</code> ç±»å‹å¯ä»¥è§£é‡Šçš„ <code>Python</code> ï¼Œæˆ‘ä»¬å·²ç»å†™äº†ä»£ç ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å‘ <code>browser.document</code> æ‰“å°äº†ä¸€æ¡ <code>Hello World</code>æ¶ˆæ¯ï¼Œè¿™ç±»ä¼¼äº <code>JavaScript</code> çš„ <code>document</code>.</p><p>åœ¨æœ¬ <code>Brython</code> å…¥é—¨æŒ‡å—ä¸­- æˆ‘ä»¬å°†äº†è§£å¦‚ä½•å®‰è£… <code>Brython</code>ã€å¦‚ä½•åˆå§‹åŒ– <code>Brython</code> é¡¹ç›®ã€å¦‚ä½•è®¾ç½®é¡µé¢æ ·å¼ï¼Œå¹¶å°†å…¶ä¸ä¸€äº›æ›¿ä»£æ–¹æ¡ˆè¿›è¡Œæ¯”è¾ƒã€‚</p><h2><span id="å¦‚ä½•å®‰è£…-brython">å¦‚ä½•å®‰è£… Brython</span></h2><h3><span id="åˆ©ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ">åˆ©ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ</span></h3><p>å®é™…ä¸Šï¼Œå®‰è£… <code>Brython</code> æœ€æ–¹ä¾¿çš„æ–¹æ³•å¯èƒ½æ˜¯æ ¹æœ¬ä¸å®‰è£…å®ƒã€‚å¦‚æœä½ ä¸éœ€è¦åœ¨æœ¬åœ°å®‰è£…å®ƒï¼Œåªéœ€è¦åœ¨é™æ€ç½‘é¡µä¸ŠåŠ è½½å®ƒæ¥æ·»åŠ ä¸€äº›åŠ¨æ€åŠŸèƒ½ï¼Œä½ åº”è¯¥è€ƒè™‘ç®€å•åœ°å¯¼å…¥ä¸€ä¸ªå¤–éƒ¨èµ„æºã€‚<br>å…¶æ€æƒ³æ˜¯å°† <code>brython.js</code> åº“åŠ è½½åˆ° <code>HTML</code> é¡µé¢çš„ <code>&lt;head&gt;</code> éƒ¨åˆ†ã€‚è¿™æ ·ï¼Œå®¢æˆ·ç«¯å°†ä¸‹è½½åº“çš„åŒæ—¶ <code>HTML</code> é¡µé¢åŠ è½½åˆ°ä»–ä»¬çš„ <code>PC</code> ä¸Šã€‚</p><p>ä¸ºäº†å®ç°è¿™ä¸€è¡Œä¸ºï¼Œæˆ‘ä»¬å°†ä»æ‰˜ç®¡æœ€æ–°ç¨³å®šç‰ˆ <code>Brython</code> åœ¨çº¿çš„ä¸€äº› <code>cdn</code> (å†…å®¹åˆ†å‘ç½‘ç»œ)ä¸­åŠ è½½æˆ‘ä»¬çš„åº“ã€‚</p><blockquote><p>åŸºæœ¬ä¸Šï¼Œå†…å®¹äº¤ä»˜ç½‘ç»œæ˜¯ä¸€ç»„æ‰˜ç®¡ä¸€äº›æ•°æ®(ä»£ç ã€è§†é¢‘å†…å®¹ã€å›¾åƒâ€¦)çš„åˆ†å¸ƒå¼æœåŠ¡å™¨ã€‚è¿™äº›ç±»å‹çš„ç½‘ç»œéå¸¸å¯é ï¼Œå‡ ä¹æ²¡æœ‰åœæœºæ—¶é—´ã€‚è¿™ä½¿å®ƒä»¬æˆä¸ºæ‰˜ç®¡ä»£ç åº“çš„ç†æƒ³é€‰æ‹©ã€‚</p></blockquote><p>æœ‰å‡ ä¸ªcdnå¯ä¾›é€‰æ‹©ï¼Œä½†æ˜¯ï¼Œä¸‰ä¸ªå—æ¬¢è¿çš„æ˜¯:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Option <span class="number">1</span> : jsDelivr CDN --&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://cdn.jsdelivr.net/npm/brython@3.9.1/brython.min.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="https:/</span><span class="regexp">/cdn.jsdelivr.net/</span>npm/brython@<span class="number">3.9</span><span class="number">.1</span>/brython_stdlib.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;!-- Option 2: CloudFlare CDN --&gt;</span></span><br><span class="line"><span class="string">&lt;script src="</span>https:<span class="comment">//cdnjs.cloudflare.com/ajax/libs/brython/3.9.1/brython.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line">&lt;script src=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/brython/3.9.1/brython_stdlib.min.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!-- Option 3: GitHub as the CDN --&gt;</span></span><br><span class="line"><span class="regexp">&lt;!-- Choose this option if you want to use the latest developement version --&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="https:/</span><span class="regexp">/raw.githack.com/</span>brython-dev/brython/master/www/src/brython.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script src="</span>https:<span class="comment">//raw.githack.com/brython-dev/brython/master/www/src/brython_stdlib.js"&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h3><span id="é€šè¿‡-pip-å®‰è£…-brython">é€šè¿‡ Pip å®‰è£… Brython</span></h3><p>å¦‚æœä½ æƒ³è¦æ›´çµæ´»çš„ <code>Brython</code>ï¼Œä½ å¯ä»¥æœ¬åœ°å®‰è£…:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install brython</span><br><span class="line"></span><br><span class="line">éªŒè¯ Brython æ˜¯å¦å·²ç»æˆåŠŸå®‰è£…:</span><br><span class="line">$ pip show brython </span><br><span class="line"><span class="comment">// Name: brython</span></span><br><span class="line"><span class="comment">// Version: 3.9.2</span></span><br><span class="line"><span class="comment">// Summary: Brython is an implementation of Python 3 running in the browser</span></span><br><span class="line"><span class="comment">// Home-page: http://brython.info</span></span><br><span class="line"><span class="comment">// Author: Pierre Quentel</span></span><br><span class="line"><span class="comment">// Author-email: quentel.pierre@orange.fr</span></span><br><span class="line"><span class="comment">// License: BSD</span></span><br></pre></td></tr></table></figure><h2><span id="å¦‚ä½•åˆå§‹åŒ–brythoné¡¹ç›®">å¦‚ä½•åˆå§‹åŒ–Brythoné¡¹ç›®</span></h2><p>å®‰è£… <code>Brython</code> ä¹‹åï¼Œä¸‹ä¸€æ­¥æ˜¾ç„¶æ˜¯åˆ›å»ºä¸€ä¸ªç®€å•çš„é¡¹ç›®æ¥æµ‹è¯•å®ƒçš„åŠŸèƒ½ã€‚è¦åˆ›å»ºé¡¹ç›®ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹å¹¶ç§»åŠ¨åˆ°å®ƒ:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir brython-project</span><br><span class="line">$ cd brython-project</span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ– <code>Brython</code> é¡¹ç›®:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brython-cli --install</span><br></pre></td></tr></table></figure><p>è¿™å°†åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ª <code>Brython</code> é¡¹ç›®ï¼ŒåŒ…æ‹¬å¯åŠ¨é¡¹ç›®ç›®å½•å’Œæ–‡ä»¶å±‚æ¬¡ç»“æ„:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">brython-project</span><br><span class="line">    | brython.js</span><br><span class="line">    | brython_stdlib.js</span><br><span class="line">    | demo.html</span><br><span class="line">    | index.html</span><br><span class="line">    | README.md</span><br><span class="line">    | unicode.txt</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬è§£é‡Šä¸€ä¸‹æ‰€æœ‰è¿™äº›æ–‡ä»¶çš„ç”¨é€”:</p><ul><li><code>Brython .js</code> - <code>Brython</code>æ ¸å¿ƒå¼•æ“ï¼Œå®ƒåŒ…å«äº†æœ€å¸¸ç”¨çš„æ¨¡å—ï¼Œå¦‚<code>browser, browser.html, javascriptâ€¦</code>å¦‚æœæˆ‘ä»¬é€‰æ‹©ä¸åœ¨æœ¬åœ°å®‰è£…<code>Brython</code>ï¼Œè¯¥æ–‡ä»¶å°†ä½¿ç”¨<code>&lt;script&gt;</code>æ ‡è®°åŒ…å«åœ¨HTMLé¡µé¢ä¸­ã€‚</li><li><code>brython_stdlib.js</code> - åŒ…å« <code>Brython</code> æ”¯æŒçš„ <code>Python</code>æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰åŒ…å’Œæ¨¡å—ã€‚</li><li><code>demo.html</code>  - ä¸€ä¸ªè¿è¡ŒBrythonçš„ç®€å•HTMLé¡µé¢ï¼Œå±•ç¤ºäº†ä¸€äº›æœ‰è¶£çš„ç”¨ä¾‹å’Œå¦‚ä½•åˆ©ç”¨ <code>Brython</code> ä¿®æ”¹é™æ€HTMLé¡µé¢çš„ç¤ºä¾‹ã€‚</li><li><code>index.html</code> - ä¸€ä¸ªç®€å•çš„ <code>Hello World</code> HTMLé¡µé¢ã€‚</li></ul><p>åªä½¿ç”¨ä¸€ä¸ªç®€å•çš„ <code>web</code> æµè§ˆå™¨å°±å¯ä»¥æ‰“å¼€ <code>demo.html</code> ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰å…¶å±€é™æ€§ï¼Œå› æ­¤å»ºè®®é¦–å…ˆå¯åŠ¨æœ¬åœ°ä¸»æœºæœåŠ¡å™¨</p><p>å¦‚æœæ‚¨è¿˜æ²¡æœ‰httpå®‰è£…è¯¥æ¨¡å—ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡pipä»¥ä¸‹æ–¹å¼å®‰è£…å®ƒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install http</span><br></pre></td></tr></table></figure><p>å®‰è£…åï¼Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨æœåŠ¡å™¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 -m http.server</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæ‚¨åº”è¯¥åœ¨ (é»˜è®¤) ä¸Šå¯åŠ¨æœ¬åœ°ä¸»æœº <code>port 8000</code>ï¼Œå¹¶ä¸”æ‚¨åº”è¯¥èƒ½å¤Ÿ <code>demo.html</code> é€šè¿‡å¯¼èˆªåˆ°æ‚¨é€‰æ‹©çš„ Web æµè§ˆå™¨çš„åœ°å€æ ä¸­çš„<code>http://localhost:8000/demo.html(æˆ–http://0.0.0.0:8000/demo.html)</code>æ¥è®¿é—®è¯¥é¡µé¢ã€‚</p><p>å¦‚æœç«¯å£ <code>8000</code> å½“å‰è¢«å…¶ä»–è¿›ç¨‹ä½¿ç”¨ï¼Œåˆ™æ‚¨å¿…é¡»å®šä¹‰å¦ä¸€ä¸ªè¦ä½¿ç”¨çš„ç«¯å£ï¼ˆä¾‹å¦‚ 8080ï¼‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 -m http.server <span class="number">8080</span></span><br></pre></td></tr></table></figure><p>è¦åˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿè¿è¡Œ <code>Python</code> çš„æ–° HTML é¡µé¢ï¼Œæ‚¨åªéœ€è¦åœ¨æ–‡ä»¶éƒ¨åˆ†å¯¼å…¥<code>brython.js</code>å’Œæ–‡ä»¶ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ç»§ç»­åœ¨ HTML æ–‡ä»¶æœ¬èº«ä¸­ç¼–å†™ <code>Pythonï¼šbrython_stdlib.jshead</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"brython.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="brython_stdlib.js.js"&gt;&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure><h2><span id="brython-çš„å·¥ä½œåŸç†">Brython çš„å·¥ä½œåŸç†</span></h2><p><code>Brython</code> é€šè¿‡å°† <code>Python</code> ä»£ç è½¬æ¢ä¸º <code>JavaScript</code>ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­ç¼–å†™å’Œè¿è¡Œ <code>Python</code> ä»£ç ã€‚è¿™æ®µä»£ç å°†èƒ½å¤Ÿåœ¨æ‰€æœ‰æ”¯æŒ <code>JavaScript</code> çš„ç°ä»£æµè§ˆå™¨ä¸­è¿è¡Œï¼Œå› ä¸º <code>Brython</code>æœ‰æ„é¿å…ä½¿ç”¨æ–°çš„ã€ä¸å—æ”¯æŒçš„è¯­æ³•ç”Ÿæˆ <code>JavaScript</code>ã€‚<br><a href="https://scotch.io/tutorials/javascript-transpilers-what-they-are-why-we-need-them" target="_blank" rel="noopener">https://scotch.io/tutorials/javascript-transpilers-what-they-are-why-we-need-them</a></p><blockquote><p>æ‚¨å¯ä»¥å°†è½¬è¯‘è§†ä¸ºç¼–è¯‘çš„ä¸€ä¸ªå­é›†ã€‚<br>ç¼–è¯‘è¿‡ç¨‹é€šå¸¸å°†ç”¨æŸç§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼ˆä¾‹å¦‚Cï¼‰ç¼–å†™çš„æºä»£ç è½¬æ¢æˆæŸç§ä½çº§è¯­è¨€ï¼ˆä¾‹å¦‚æœºå™¨ä»£ç ï¼‰ã€‚<br>å¦ä¸€æ–¹é¢ï¼Œ<code>transpilation</code> æ˜¯å°†ä¸€ç§é«˜çº§è¯­è¨€è½¬æ¢ä¸ºå¦ä¸€ç§é«˜çº§è¯­è¨€ï¼ˆä¾‹å¦‚ <code>Python åˆ° JavaScript</code>ï¼‰çš„è¿‡ç¨‹ã€‚</p></blockquote><p><code>Brython</code> ä¸­çš„è½¬è¯‘å‘ç”Ÿåœ¨åŠ è½½ <code>HTML</code> é¡µé¢çš„åŒæ—¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åœ¨ <code>HTML</code> æ–‡æ¡£ <code>brython()</code> çš„ <code>body</code> æ ‡ç­¾ä¸­è°ƒç”¨å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;body onload=<span class="string">"brython()"</span>&gt;</span><br></pre></td></tr></table></figure><p><code>brython()</code> å‡½æ•°æ‰§è¡Œç¼–å†™åœ¨<code>&lt;script type=&quot;text/python&quot;&gt;</code>HTML æ–‡æ¡£æ ‡ç­¾ä¸­çš„ <code>Python</code> ä»£ç çš„è½¬è¯‘ã€‚æ‰€æœ‰ <code>Python</code> ä»£ç éƒ½å¿…é¡»ç”¨<code>&lt;script type=&quot;text/python&quot;&gt;</code>æ ‡è®°åŒ…å›´ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/python"</span>&gt;</span><br><span class="line">    &lt;!-- Python code --&gt;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å¤–éƒ¨ <code>Python</code> ä»£ç åŠ è½½åˆ° <code>HTML</code> æ–‡æ¡£ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/python"</span> src=<span class="string">"test.py"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰€æœ‰ç°ä»£ Web æµè§ˆå™¨éƒ½æ”¯æŒ JavaScript ä½œä¸ºä¸»è¦è„šæœ¬è¯­è¨€ï¼Œä½†ä¸æ”¯æŒ Pythonã€‚å› æ­¤ï¼Œæ‰€æœ‰ Python ä»£ç éƒ½éœ€è¦è½¬æ¢ä¸º JavaScriptï¼Œç„¶ååœ¨åŠ è½½ HTML é¡µé¢æ‰€éœ€çš„æ—¶é—´å†…è¿è¡Œã€‚</p><p>é¦–å…ˆï¼Œ<code>brython()</code>å‡½æ•°é€šè¿‡æ£€æŸ¥æ‰€æœ‰ç±»å‹ä¸º çš„è„šæœ¬æ¥æœç´¢ HTML é¡µé¢ä¸­çš„æ‰€æœ‰ <code>Python</code> ä»£ç  <code>text/python</code>ï¼Œç„¶åå°†æ‰€æœ‰ä»£ç è½¬æ¢ä¸º <code>JavaScript</code>ï¼š</p><blockquote><p><strong>è¿™ç§è½¬æ¢çš„ç»“æœæ˜¯ JavaScript ä»£ç çš„ç®€å•å­—ç¬¦ä¸²è¡¨ç¤ºã€‚è¯¥å­—ç¬¦ä¸²å¿…é¡»åœ¨æµè§ˆå™¨ä¸­ä½œä¸º JavaScript ä»£ç è¿è¡Œã€‚</strong></p></blockquote><p><code>Brython</code> ä½¿ç”¨ <code>JavaScripteval()</code>å‡½æ•°æ¥è¿è¡Œæ‰€æœ‰ç¿»è¯‘åçš„ä»£ç ã€‚æˆ–è€…ï¼Œå®ƒå¯ä»¥åˆ©ç”¨ <code>JavaScript</code> å‘½ä»¤ <code>new Function(function_name, source)(module)</code> åœ¨æŸäº›æµè§ˆå™¨ä¸Šè¿è¡Œä»£ç ã€‚</p><blockquote><p><strong>è¿™ä¸æ˜¯è¿è¡Œ JavaScript çš„é¦–é€‰æ–¹å¼ã€‚ä½¿ç”¨eval()å¯èƒ½å¾ˆå±é™©ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šå°†åº”ç”¨ç¨‹åºæš´éœ²ç»™æ½œåœ¨çš„æ¶æ„ç¬¬ä¸‰æ–¹ä»£ç ã€‚æ­¤å¤–ï¼Œeval()ä¸æ›¿ä»£å“ç›¸æ¯”ï¼Œé€Ÿåº¦ç›¸å½“æ…¢ã€‚</strong></p></blockquote><p>å¦‚æœ Python ä»£ç é€šè¿‡ åŠ è½½åˆ° HTML æ–‡æ¡£ä¸­<code>&lt;script type=&quot;text/python&quot; src=&quot;url&quot;&gt;</code>ï¼ŒBrython å°†æ‰§è¡Œ Ajax è°ƒç”¨ä»¥è·å–åŠ è½½æ–‡ä»¶çš„å†…å®¹ã€‚è¯¥ä»£ç è¢«è½¬æ¢ä¸º JavaScript å¹¶ä»¥ä¸ä¸Šè¿°ç›¸åŒçš„æ–¹å¼æ‰§è¡Œã€‚</p><h2><span id="ä½¿ç”¨-brython-ç¤ºä¾‹">ä½¿ç”¨ Brython - ç¤ºä¾‹</span></h2><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€äº›ç®€å•çš„ä¾‹å­ï¼Œä»¥ä¾¿æ‚¨äº†è§£ Brython çš„å·¥ä½œåŸç†åŠå…¶åŠŸèƒ½ï¼š</p><h2><span id="heoll-word"><strong>Heoll Word</strong></span></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script src=<span class="string">"/brython.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>head&gt;</span><br><span class="line">    &lt;body onload=<span class="string">"brython()"</span>&gt;</span><br><span class="line">        &lt;script type=<span class="string">"text/python"</span>&gt;</span><br><span class="line">            <span class="keyword">import</span> browser</span><br><span class="line">            browser.document &lt;= <span class="string">"Hello world!"</span></span><br><span class="line">        &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨<script type="text/python"></script>æ ‡ç­¾ä¹‹é—´çš„ Python ä»£ç ï¼š</p><ul><li><code>import browser</code>  å°† <code>browser</code> åŒ…åŠ è½½åˆ°è„šæœ¬ä¸­ã€‚å®ƒæ˜¯å¯¹æ‰€æœ‰ <code>Brython</code> ç‰¹å®šåç§°å’Œæ¨¡å—è¿›è¡Œåˆ†ç»„çš„åŒ…ï¼Œä¸»è¦ç”¨äºè¡¨ç¤º <code>JavaScript</code> ä¸­ä½¿ç”¨çš„ <code>DOM</code> å…ƒç´ å’Œäº‹ä»¶ã€‚</li><li><code>browser.document</code> æ˜¯è¡¨ç¤ºå½“å‰æ˜¾ç¤ºçš„ <code>HTML</code> æ–‡æ¡£çš„å¯¹è±¡ã€‚</li><li><code>browser.document &lt;= &quot;Hello world!&quot;</code> - æˆ‘ä»¬ä½¿ç”¨ <code>&lt;=</code> ç¬¦å·è€Œä¸æ˜¯ <code>=</code> . çš„ <code>document</code> â€œæ¥æ”¶â€åŒ…å«å­—ç¬¦ä¸²çš„æ–°å…ƒç´  <code>Hello world!</code>ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š<code>browser.document.attach(&quot;Hello world!&quot;)</code>.</li></ul><p>åœ¨å®¢æˆ·ç«¯ï¼Œä¸€æ—¦å‘ˆç°æ­¤ä»£ç  - å®ƒä¼šå¯¼è‡´ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script src=<span class="string">"/brython.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>head&gt;</span><br><span class="line">    &lt;body onload=<span class="string">"brython()"</span>&gt;</span><br><span class="line">        Hello world!</span><br><span class="line">    &lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><h2><span id="æ·»åŠ å…ƒç´ å’Œå±æ€§">æ·»åŠ å…ƒç´ å’Œå±æ€§</span></h2><p>è®©æˆ‘ä»¬ä¿®æ”¹å‰é¢çš„ç¤ºä¾‹å¹¶ä¸ºå…¶æ·»åŠ ä¸€äº›æ®µè½å’Œæ–‡æœ¬æ ¼å¼ã€‚è¯¥browseræ¥å£ä¸ºæˆ‘ä»¬æä¾›äº†htmlæ¨¡å—ï¼Œè¯¥æ¨¡å—å…¬å¼€äº† HTML æ ‡è®°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›æ ‡è®°ä» Python ä»£ç åŠ¨æ€åˆ›å»º HTML ç»“æ„ã€‚åˆ›å»ºå¯¹è±¡çš„è¯­æ³•æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browser.html.TAG(<span class="string">"content"</span>, [attributes])</span><br></pre></td></tr></table></figure><p>å“ªäº›è¾“å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;TAG [attributes]&gt;content&lt;<span class="regexp">/TAG&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>browser.html.H2(&quot;Hello world!&quot;)Hello world</code> ç”¨ <code>&lt;h2&gt;</code>æ ‡ç­¾åŒ…è£¹å­—ç¬¦ä¸²ã€‚</li><li><code>browser.html.A(&quot;link&quot;, href=&quot;stackabuse.com&quot;)</code> åˆ›å»ºä¸€ä¸ª <code>&lt;a href=&quot;stackabuse.com&quot;&gt;</code> æ ‡ç­¾ã€‚</li></ul><p>ä½¿ç”¨è¿™ç§è¯­æ³•ä¹Ÿå¯ä»¥åµŒå¥—ï¼Œåªéœ€ <code>html.element</code> åœ¨å¦ä¸€ä¸ªå…ƒç´ ä¸­åŒ…å«ä¸€ä¸ªã€‚è®©æˆ‘ä»¬åœ¨é¡µé¢ä¸­æ·»åŠ ä¸€äº›å…ƒç´ ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script src=<span class="string">"/brython.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>head&gt;</span><br><span class="line">    &lt;body onload=<span class="string">"brython()"</span>&gt;</span><br><span class="line">        &lt;script type=<span class="string">"text/python"</span>&gt;</span><br><span class="line">            <span class="keyword">import</span> browser</span><br><span class="line">            </span><br><span class="line">            title = browser.html.H2(<span class="string">"Hello world!"</span>)</span><br><span class="line"></span><br><span class="line">            bold = browser.html.B(<span class="string">"bold text"</span>)</span><br><span class="line">            url = browser.html.A(<span class="string">"link"</span>, href=<span class="string">"stackabuse.com"</span>)</span><br><span class="line">            paragraph = browser.html.P(<span class="string">"This is a paragraph. This is "</span> + bold + <span class="string">", and this is a "</span> + url)</span><br><span class="line"></span><br><span class="line">            browser.document &lt;= title</span><br><span class="line">            browser.document &lt;= paragraph         </span><br><span class="line">        &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œ <code>url = browser.html.A(&quot;link&quot;, href=&quot;stackabuse.com&quot;)</code>æ‚¨å¯ä»¥ä¸ä½¿ç”¨ä»»ä½•å‚æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„å¯¹è±¡å¹¶æ„å»ºå®ƒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Creating an &lt;a&gt;&lt;/a&gt; tag</span><br><span class="line">url = browser.html.A()</span><br><span class="line"></span><br><span class="line"># Adding content between created tags</span><br><span class="line"># &lt;a&gt;Url Text&lt;/a&gt;</span><br><span class="line">url &lt;= <span class="string">"Url Text"</span></span><br><span class="line"># Adding href attribute</span><br><span class="line"># &lt;a href="cl9000.github.io"&gt;Url Text&lt;/a&gt;</span><br><span class="line">url.href = <span class="string">"cl9000.github.io"</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬å®Œæˆ Python ä»£ç å¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€é¡µé¢æ—¶ - ç”Ÿæˆçš„ HTML é¡µé¢åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script src=<span class="string">"/brython.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>head&gt;</span><br><span class="line">    &lt;body onload=<span class="string">"brython()"</span>&gt;</span><br><span class="line">        &lt;h2&gt;Hello world!&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">        &lt;p&gt;</span></span><br><span class="line"><span class="regexp">            This is a paragraph. This is &lt;b&gt;bold text&lt;/</span>b&gt;, and <span class="keyword">this</span> is a </span><br><span class="line">            &lt;a href=<span class="string">"stackabuse.com"</span>&gt;link&lt;<span class="regexp">/a&gt;.</span></span><br><span class="line"><span class="regexp">        &lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>&lt;p&gt;</code> å…ƒç´ ï¼Œåœ¨å…¶ä¸­æˆ‘ä»¬ä½¿ç”¨äº†é¢„å…ˆæ„é€ çš„ <code>&lt;b&gt;and&lt;a&gt;</code> å…ƒç´ ã€‚</p><h3><span id="ä½¿ç”¨-brython-åˆ›å»ºè¡¨æ ¼">ä½¿ç”¨ Brython åˆ›å»ºè¡¨æ ¼</span></h3><p>å¯ä»¥ä½¿ç”¨ä¸æˆ‘ä»¬è¿„ä»Šä¸ºæ­¢ä¸€ç›´åº”ç”¨çš„é€»è¾‘å¤§è‡´ç›¸åŒçš„é€»è¾‘æ¥åˆ›å»ºè¡¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">table = browser.html.TABLE()</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨ä¸€äº›æ¨¡æ‹Ÿæ•°æ®åˆ›å»ºå‡ è¡Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ° <code>table</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># Creating the row</span><br><span class="line">row = browser.html.TR()</span><br><span class="line"># Adding header cells</span><br><span class="line">row &lt;= browser.html.TH(<span class="string">"Header1"</span>)</span><br><span class="line">row &lt;= browser.html.TH(<span class="string">"Header2"</span>)</span><br><span class="line"># Appending the row to the table</span><br><span class="line">table &lt;= row</span><br><span class="line"></span><br><span class="line"># Adding a first row</span><br><span class="line">row = browser.html.TR()</span><br><span class="line">row &lt;= browser.html.TD(<span class="string">"Data 1"</span>)</span><br><span class="line">row &lt;= browser.html.TD(<span class="string">"Data 2"</span>)</span><br><span class="line">table &lt;= row</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬é€‰æ‹© <code>&lt;div id=&quot;table-zone&quot;&gt;</code>åœ¨ HTML é¡µé¢ä¸Šåˆ›å»ºçš„é“¶è¡Œå…ƒç´ ä¸­æ˜¾ç¤ºè¡¨æ ¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tableZone = browser.document[<span class="string">"table-zone"</span>] </span><br><span class="line">tableZone &lt;= table</span><br></pre></td></tr></table></figure><p>è¿™ä¼šåœ¨æˆ‘ä»¬çš„é¡µé¢ä¸Šç”Ÿæˆä¸€ä¸ª HTML è¡¨æ ¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"table-zone"</span>&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">        &lt;thead&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">              &lt;th&gt;Header <span class="number">1</span>&lt;<span class="regexp">/th&gt;</span></span><br><span class="line"><span class="regexp">              &lt;th&gt;Header 2&lt;/</span>th&gt;</span><br><span class="line">            &lt;<span class="regexp">/tr&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>thead&gt;</span><br><span class="line">        &lt;tbody&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">              &lt;td&gt;Data <span class="number">1</span>&lt;<span class="regexp">/td&gt;</span></span><br><span class="line"><span class="regexp">              &lt;td&gt;Data 2&lt;/</span>td&gt;</span><br><span class="line">            &lt;<span class="regexp">/tr&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>tbody&gt;</span><br><span class="line">    &lt;<span class="regexp">/table&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure><h3><span id="å‘ç°æœ‰å…ƒç´ æ·»åŠ æ ·å¼">å‘ç°æœ‰å…ƒç´ æ·»åŠ æ ·å¼</span></h3><p>è®©æˆ‘ä»¬ä¸º <code>&lt;div id=&quot;table-zone&quot;&gt;</code> å’Œ <code>table</code> å…ƒç´ æ·»åŠ ä¸€äº›æ ·å¼ï¼š</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tableZone.style = &#123;</span><br><span class="line">            <span class="string">"background-color"</span>: <span class="string">"#dedfdd"</span>,</span><br><span class="line">            <span class="string">"width"</span>: <span class="string">"50%"</span>,</span><br><span class="line">            <span class="string">"min-height"</span>: <span class="string">"100px"</span>,</span><br><span class="line">            <span class="string">"margin"</span>: <span class="string">"auto"</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line"><span class="keyword">table</span>.style <span class="comment">= &#123;</span></span><br><span class="line">            <span class="string">"border"</span>: <span class="string">"1px solid #333"</span>,</span><br><span class="line">            <span class="string">"margin"</span>: <span class="string">"auto"</span></span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>è¿™å°†å¯¼è‡´ä¿®æ”¹åçš„ HTML æ ‡ç­¾styleæ·»åŠ å±æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"table-zone"</span> style=<span class="string">"background-color: rgb(222, 223, 221); width: 50%; min-height: 100px; margin: auto;"</span>&gt;</span><br><span class="line">    </span><br><span class="line">&lt;table style=<span class="string">"border: 1px solid rgb(51, 51, 51); margin: auto;"</span>&gt;</span><br></pre></td></tr></table></figure><h3><span id="ç»‘å®šæ“ä½œå’Œä»å…ƒç´ è¯»å–å†…å®¹">ç»‘å®šæ“ä½œå’Œä»å…ƒç´ è¯»å–å†…å®¹</span></h3><p>ç½‘é¡µä¸ä»…ç”¨äºæ˜¾ç¤ºæ•°æ® - å®ƒä»¬è¿˜ç”¨äºæ•è·æ•°æ®ã€‚è¡¨å•æ˜¯æˆ‘ä»¬æç¤ºç”¨æˆ·å‘é€æ•°æ®çš„æœ€åŸºæœ¬æ–¹å¼ä¹‹ä¸€ã€‚è®©æˆ‘ä»¬åœ¨ Brython ä¸­ä½¿ç”¨ <code>FORM()</code> å‡½æ•°ä»¥åŠå…¶ä»– HTML å…ƒç´ ï¼ˆä¾‹å¦‚ <code>INPUT()</code>å’Œ <code>LABEL()</code>ï¼‰åˆ›å»ºä¸€ä¸ªè¡¨å•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># Create a &lt;div id="form-div"&gt; element as a container for a new form</span><br><span class="line">formDiv = browser.html.DIV(id=<span class="string">"form-div"</span>)</span><br><span class="line"># Create a &lt;form&gt; element </span><br><span class="line">form = browser.html.FORM()</span><br><span class="line"></span><br><span class="line"># Create the &lt;input type="text"&gt; field wit the label and add it to the form</span><br><span class="line">input = browser.html.INPUT()</span><br><span class="line">input.type = <span class="string">"text"</span></span><br><span class="line">input.id = <span class="string">"input-name"</span></span><br><span class="line"># Add label and to the form</span><br><span class="line">form &lt;= browser.html.LABEL(<span class="string">"Enter your name: "</span>) + input</span><br><span class="line"></span><br><span class="line"># Create the submit button and add it to the form</span><br><span class="line">button = browser.html.INPUT()</span><br><span class="line">button.type = <span class="string">"button"</span></span><br><span class="line">button.value = <span class="string">"Submit"</span></span><br><span class="line">button.id = <span class="string">"submit-button"</span></span><br><span class="line">form &lt;= button</span><br><span class="line"></span><br><span class="line"># Add form to the container &lt;div&gt; element</span><br><span class="line">formDiv &lt;= form</span><br><span class="line"># Add the &lt;h4 id="form-response"&gt; to show the value from the form</span><br><span class="line">formDiv &lt;= browser.html.H4(<span class="string">"Your name is: "</span>, id=<span class="string">"form-response"</span>)</span><br><span class="line"># Display the div element containing form on the page</span><br><span class="line">browser.document &lt;= formDiv</span><br></pre></td></tr></table></figure><p>ä¸åšä»»ä½•äº‹æƒ…çš„è¡¨å•ä¸æ˜¯å¾ˆæœ‰ç”¨ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ Brython ä¸­ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>click</code>åœ¨<code>submit</code>æŒ‰é’®ä¸Šè°ƒç”¨çš„ Python å‡½æ•°ã€‚å®ƒä¼šæé†’ç”¨æˆ·æŒ‰é’®å·²è¢«ç‚¹å‡»å¹¶æ›´æ–° <code>&lt;h4 id=&quot;form-response&quot;&gt;</code>å…ƒç´ çš„å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def onSubmit(ev):</span><br><span class="line">    # Get the value of the &lt;input id="input-name"&gt; field</span><br><span class="line">    name = browser.document[<span class="string">"input-name"</span>].value</span><br><span class="line">    # Append the stored value to the content in the &lt;h4 id="form-response"&gt; tag</span><br><span class="line">    browser.document[<span class="string">"form-response"</span>] &lt;= name</span><br><span class="line">    # Alert the user that the button has been clicked</span><br><span class="line">    browser.alert(<span class="string">"The Submit Button is Clicked"</span>)</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬å°†<code>click</code>äº‹ä»¶ <code>submit-button</code> ä¸åˆ›å»ºçš„<code>onSubmit()</code>å‡½æ•°ç»‘å®šï¼Œä»¥ä¾¿æˆ‘ä»¬åœ¨æŒ‰é’®å•å‡»æ—¶è·å¾—æ‰€éœ€çš„è¡Œä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browser.document[<span class="string">"submit-button"</span>].bind(<span class="string">"click"</span>, onSubmit)</span><br></pre></td></tr></table></figure><h2><span id="ç»“è®º">ç»“è®º</span></h2><p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ JavaScript ä½œä¸º Web è„šæœ¬è¯­è¨€çš„æ›¿ä»£æ–¹æ¡ˆï¼Œå¹¶ä¸”ä¸å¤ªå…³å¿ƒæ€§èƒ½ï¼Œé‚£ä¹ˆ Brython å¯èƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>å®ƒå¹³è¡¡äº†æ‰§è¡Œé€Ÿåº¦å’ŒåŠ è½½åº“æ‰€éœ€çš„å¤šä½™å†…å­˜ä½¿ç”¨ä¹‹é—´ä¸å¯é¿å…çš„æƒè¡¡ï¼Œä½¿å…¶æˆä¸ºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œ Python çš„æœ€ä½³è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼ŒBrython æ²¡æœ‰åºå¤§çš„ç¤¾åŒºï¼Œä¹Ÿæ²¡æœ‰è¢«å¹¿æ³›æ¥å—æˆ–ä½¿ç”¨ã€‚å­¦ä¹ èµ„æºéå¸¸æœ‰é™ï¼Œæ‚¨å°†ä»…é™äºä¸»è¦æ˜¯å®˜æ–¹æ–‡æ¡£ï¼Œè€Œæ²¡æœ‰è®¸å¤šç°å®ä¸–ç•Œçš„å¤§å‹é¡¹ç›®å¯ä»¥å¯»æ±‚æŒ‡å¯¼ã€‚</p><p>æœ€ç»ˆï¼Œä¸»è¦é—®é¢˜æ˜¯æ˜¯å¦å€¼å¾—å®Œå…¨æ›¿æ¢ JavaScriptã€‚ä¸ç”¨ JavaScript ç¼–å†™çš„å®Œå…¨ç›¸åŒçš„é¡¹ç›®ç›¸æ¯”ï¼Œå³ä½¿æ˜¯å°å‹ Brython é¡¹ç›®çš„æ‰§è¡Œé€Ÿåº¦ä¹Ÿå¯èƒ½æ…¢ 2 å€ã€‚ä¸ Brython ä¸åŒï¼ŒJavaScript æ‹¥æœ‰åºå¤§çš„å¼€å‘è€…ç¤¾åŒºã€æµ·é‡èµ„æºå’Œå±•ç¤ºå…¶å…¨éƒ¨æ½œåŠ›çš„çœŸå®é¡¹ç›®ã€‚</p><p>è®©æˆ‘ä»¬ä¸è¦å¿˜è®°æ‰€æœ‰çš„ JavaScript æ¡†æ¶ï¼Œå®ƒä»¬æ˜¯ JavaScript æµè¡Œçš„æ”¯æŸ±ã€‚å¦‚æœæ²¡æœ‰ä»–ä»¬çš„å¸®åŠ©ï¼ŒJavaScript å°†åªæ˜¯å¦ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œå®ƒä¸ºæˆ‘ä»¬æä¾›äº†åŠ¨æ€æ›´æ”¹é™æ€ HTML é¡µé¢å†…å®¹çš„èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ä¸‹ç”¨çº¯ JavaScript ç¼–å†™å¤æ‚çš„æœåŠ¡å™¨ç«¯é€»è¾‘ã€‚å³ä½¿é‚£æ˜¯å¯è¡Œçš„ï¼Œè¿™è‚¯å®šä¸ä¼šæ˜¯ä¸€ä¸ªéå¸¸æ„‰å¿«çš„ç»å†ã€‚</p><p>ä¸å¹¸çš„æ˜¯ï¼ŒBrython æ²¡æœ‰ä¸ºå…¶å¼€å‘æ¡†æ¶ï¼Œå› æ­¤æ‚¨åªèƒ½ä½¿ç”¨çº¯ Python ä»£ç ï¼Œè¿™å¯¹äºé™¤ç®€å•ç”¨ä¾‹ä¹‹å¤–çš„ä»»ä½•å…¶ä»–å†…å®¹éƒ½ä¸åˆç†ã€‚æ‚¨å¯èƒ½æ— æ³•ä½¿ç”¨ Brython åˆ›å»ºä¸€äº›å¤æ‚çš„å•é¡µ Web åº”ç”¨ç¨‹åºï¼Œè€Œæ‚¨å¯ä»¥ä½¿ç”¨ JavaScript å’Œ Angularã€‚Brython æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ï¼Œå¯¹äºé‚£äº›åªæƒ³ä½¿ç”¨ Python è¿›è¡ŒæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ç¼–ç¨‹çš„å¼€å‘äººå‘˜æ¥è¯´ï¼Œä½†å®ƒå¯èƒ½ç¦»å–ä»£ JavaScript è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/an-introductory-guide-to-brython" target="_blank" rel="noopener">https://stackabuse.com/an-introductory-guide-to-brython</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åˆ›é€ åŠ›æ˜¯è‡ªå¾‹ä¸ç«¥å¿ƒçš„ç»“åˆä½“ã€‚â€”â€”&amp;lt;ç½—ä¼¯ç‰¹Â·æ ¼æ—&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨å¼€å‘ &lt;code&gt;Web&lt;/code&gt; åº”ç”¨ç¨‹åºæ—¶ - æˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¤šç§æŠ€æœ¯å’Œè¯­è¨€ã€‚åç«¯å¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ &lt;code&gt;Javaï¼ˆSp
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­å¦‚ä½•é‡å®šå‘åˆ°å¦ä¸€ä¸ªç½‘é¡µ</title>
    <link href="https://cl9000.github.io/2021/06/07/Javascript%E4%B8%AD%E5%A6%82%E4%BD%95%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%BD%91%E9%A1%B5/"/>
    <id>https://cl9000.github.io/2021/06/07/Javascript%E4%B8%AD%E5%A6%82%E4%BD%95%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%BD%91%E9%A1%B5/</id>
    <published>2021-06-07T09:25:46.000Z</published>
    <updated>2021-06-07T09:52:24.704Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ›é€ åŠ›æ˜¯æ™ºåŠ›çš„ä¹è¶£ã€‚â€”â€”&lt;é˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>é€šå¸¸ï¼Œæˆ‘ä»¬éœ€è¦é‡å®šå‘ç”¨æˆ·åˆ°å¦ä¸€ä¸ªç½‘ç«™æˆ–åŒä¸€ç½‘ç«™ä¸Šçš„å¦ä¸€ä¸ªç½‘é¡µã€‚æœ‰å‡ ç§é‡å®šå‘æ–¹æ³•ï¼ŒåŒ…æ‹¬ <code>JavaScript</code> é‡å®šå‘ã€æœåŠ¡å™¨ç«¯é‡å®šå‘å’Œ <code>HTML</code> å…ƒåˆ·æ–°é‡å®šå‘ã€‚é‡å®šå‘åŸºæœ¬ä¸Šæ˜¯ä¸€ç§å°†ç”¨æˆ·å‘é€åˆ°å¦ä¸€ä¸ª <code>URL</code> åœ°å€çš„æœºåˆ¶ã€‚</p><p>ä½¿ç”¨é‡å®šå‘çš„åŠ¨æœºå„ä¸ç›¸åŒï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ˜¯å› ä¸º:</p><ul><li>ç”±äºä»»ä½•åŸå› ï¼Œæ‚¨è½¬ç§»åˆ°äº†å¦ä¸€ä¸ªåŸŸï¼Œå› æ­¤å½“ç”¨æˆ·è®¿é—®æ—§åŸŸä¸Šçš„å†…å®¹æ—¶ï¼Œæ‚¨å¯ä»¥å°†ç”¨æˆ·é‡å®šå‘åˆ°æ–°åŸŸã€‚</li><li>æ‚¨æœ‰å¤šä¸ªé¡µé¢ï¼Œå®ƒä»¬çš„å†…å®¹ä¼šæ ¹æ®ä½ç½®ã€è¯­è¨€ã€æµè§ˆå™¨æˆ–å°†ç”¨æˆ·é‡å®šå‘åˆ°æœ€é€‚åˆçš„é¡µé¢çš„å…¶ä»–å› ç´ è€Œå˜åŒ–ã€‚</li><li>æ‚¨å°†æœªç»èº«ä»½éªŒè¯æˆ–æœªç»æˆæƒçš„ç”¨æˆ·å¯¹èµ„æºçš„è¯·æ±‚é‡å®šå‘åˆ°ç™»å½•é¡µé¢ã€‚</li><li>æ‚¨å°†ç”¨æˆ·å‘é€åˆ°ä¸å½“å‰ç«™ç‚¹å†…å®¹ç›¸å…³çš„å…¶ä»–é¡µé¢ã€‚</li></ul><p>æ‰€æœ‰è¿™äº›å®é™…ä¸Šéƒ½æ˜¯é€šè¿‡åŒ…å« <code>URL</code> ä¿¡æ¯çš„ <code>Location</code> å¯¹è±¡å®ç°çš„ã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œé€šè¿‡æ“ä½œ <code>Location</code> å¯¹è±¡çš„ä¸åŒå±æ€§ã€‚<br>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•ç”¨ <code>JavaScript</code> å°†ç”¨æˆ·é‡å®šå‘åˆ°ä¸åŒçš„ç½‘é¡µï¼Œä»¥åŠå¦‚ä½•å‡å°‘æ½œåœ¨çš„è´Ÿé¢ <code>SEO</code> å½±å“:</p><ul><li>ä½¿ç”¨ <code>location.href</code> é‡å®šå‘ç”¨æˆ· <a href="https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#redirectuserswithlocationhref" target="_blank" rel="noopener">https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#redirectuserswithlocationhref</a></li><li>ä½¿ç”¨ <code>location.assign()</code> é‡å®šå‘ç”¨æˆ· <a href="https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#redirectuserswithlocationassign" target="_blank" rel="noopener">https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#redirectuserswithlocationassign</a></li><li>ä½¿ç”¨ <code>location.replace()</code> é‡å®šå‘ç”¨æˆ· <a href="https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#redirectuserswithlocationreplace" target="_blank" rel="noopener">https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#redirectuserswithlocationreplace</a></li><li>å®‰å…¨å½±å“å’Œå‰¯ä½œç”¨ <a href="https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#securityimplicationandsideeffects" target="_blank" rel="noopener">https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#securityimplicationandsideeffects</a></li><li>å¯¹ <code>SEO</code> çš„å½±å“ <a href="https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#influenceonseo" target="_blank" rel="noopener">https://stackabuse.com/javascript-how-to-redirect-to-another-webpage#influenceonseo</a></li></ul><h2><span id="windowlocation-å±æ€§">window.location å±æ€§</span></h2><p><code>window.location</code> å¯¹è±¡è¡¨ç¤º<code>window/user</code>çš„å½“å‰ä½ç½®ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´<code>URL</code>ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒæ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™å®ƒçš„å±æ€§èµ‹æ–°å€¼(<code>DOMStrings</code>)æ¥æ“ä½œå®ƒã€‚<code>windows.location</code>å¯¹è±¡çš„ <code>windows</code>å‰ç¼€å¯ä»¥çœç•¥ï¼Œå› ä¸ºå®ƒæŒ‰å±‚æ¬¡ç»“æ„ä½äºä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</p><h2><span id="ä½¿ç”¨-locationhref-é‡å®šå‘ç”¨æˆ·">ä½¿ç”¨ location.href é‡å®šå‘ç”¨æˆ·</span></h2><p><code>location.href</code>å±æ€§è¡¨ç¤ºå½“å‰ <code>URL</code> ä¸ºå­—ç¬¦ä¸²ã€‚æ”¹å˜ <code>href</code> å±æ€§ä¹Ÿä¼šè‡ªåŠ¨å¼•å¯¼ç”¨æˆ·åˆ°æ–°çš„ <code>href</code> å€¼ã€‚æ”¹å˜ <code>href</code> å±æ€§å°±åƒç»™å®ƒèµ‹ä¸€ä¸ªæ–°å€¼ä¸€æ ·ç®€å•:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.href = <span class="string">"https://cl9000.github.io/"</span>;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåŠŸèƒ½ç­‰æ•ˆçš„ä»£ç è¡Œæ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">windows.location = <span class="string">"https://cl9000.github.io"</span>;</span><br></pre></td></tr></table></figure><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä½ å¯ä»¥å°†ç”¨æˆ·é‡å®šå‘åˆ°ä¸€ä¸ªåŸŸå…¶ä»–æ¯”ä»–ä»¬ç›®å‰æ˜¯åœ¨ä½¿ç”¨è¿™ç§æ–¹æ³•çš„é¢†åŸŸï¼Œä½†æ˜¯ï¼Œå®‰å…¨é—®é¢˜å¯ä»¥ä»è¿™ä¸ªå¼•èµ·çš„ï¼Œæ‰€ä»¥åšæ³•åº”è¯¥åº”å°½é‡é¿å…ä½¿ç”¨ã€‚</p><p>é‡å®šå‘é€šå¸¸ä¸æŸç§äº‹ä»¶ç›¸å…³ï¼Œä¾‹å¦‚æŒ‰ä¸‹å°†ç”¨æˆ·é‡å®šå‘åˆ°ä¸åŒç½‘é¡µçš„æŒ‰é’®ï¼Œæˆ–å…¶ä»–äº‹ä»¶ï¼Œä¾‹å¦‚ç”¨æˆ·åœ¨ç½‘ç«™ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œï¼ˆåœ¨ç¤¾äº¤åª’ä½“ä¸Šä¸Šä¼ å›¾åƒï¼Œç„¶åä»–ä»¬â€œä¾‹å¦‚ï¼Œé‡æ–°é‡å®šå‘åˆ°è¯¥å¸–å­ï¼‰ã€‚è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œé€šè¿‡å•å‡»æŒ‰é’®é‡å®šå‘ç”¨æˆ·ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Redirection&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type = "text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">        function Redirect() &#123;</span></span><br><span class="line"><span class="string">         window.location.href = "</span>https:<span class="comment">//stackabuse.com/";</span></span><br><span class="line">        &#125;</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"Redirect Me"</span> onclick=<span class="string">"Redirect()"</span>/&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><h2><span id="ä½¿ç”¨-locationassign-é‡å®šå‘ç”¨æˆ·">ä½¿ç”¨ location.assign() é‡å®šå‘ç”¨æˆ·</span></h2><p><code>location.assign(url)</code> æ–¹æ³•åŠ è½½æä¾›çš„èµ„æº <code>url</code> ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºåœ¨ <code>window</code>. ä¸è®¾ç½® <code>href</code>å±æ€§ç›¸æ¯”ï¼Œè¿™å®é™…ä¸Šæ˜¯é‡å®šå‘ç”¨æˆ·çš„é¦–é€‰æ–¹æ³•ï¼Œå› ä¸ºå®ƒè¿˜ä¼šæ£€æŸ¥æ‰€æä¾›çš„å®‰å…¨æ€§ï¼Œ<code>url</code>å¦‚æœå®ƒä¸æ˜¯å®‰å…¨ç›®çš„åœ°ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚<br>å¦ä¸€ä¸ªå¥½å¤„æ˜¯å®ƒåœ¨æµè§ˆå™¨çš„å†å²è®°å½•ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ–°æ¡ç›®ï¼Œå…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦ä¼˜é›…åœ°â€œè¿”å›â€ã€‚<br>è¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ <code>location.assign()</code> ä¸å…è®¸è·¨åŸŸé‡å®šå‘ã€‚æ‚¨åªèƒ½é‡å®šå‘åˆ°è¿›è¡Œçš„åŒä¸€ä¸ªåŸŸï¼Œè¿™å¯¹å®‰å…¨æ€§æœ‰ç§¯æå½±å“ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼ä¸ä¸º åˆ†é…æ–°å€¼çš„æ–¹å¼å¤§è‡´ç›¸åŒ <code>location.href</code>ã€‚è®©æˆ‘ä»¬é‡å†™æˆ‘ä»¬çš„é¡µé¢ä»¥ä½¿ç”¨è¯¥ <code>assign()</code>å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Assigning&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type = "text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">        function Assign() &#123;</span></span><br><span class="line"><span class="string">         window.location.assign("</span>https:<span class="comment">//stackabuse.com/");</span></span><br><span class="line">        &#125;</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"Redirect Me"</span> onclick=<span class="string">"Assign()"</span> /&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><h2><span id="ä½¿ç”¨-locationreplace-é‡å®šå‘ç”¨æˆ·">ä½¿ç”¨ location.replace() é‡å®šå‘ç”¨æˆ·</span></h2><p><code>replace(url)</code> æ–¹æ³•å¯ç”¨äºå°† ä¸Šçš„å½“å‰èµ„æºæ›¿æ¢ä¸º ä»<code>window</code> åŠ è½½çš„èµ„æº <code>url</code>ã€‚å®ƒä¸ä¼šçœŸæ­£é‡å®šå‘ç”¨æˆ·ï¼Œä¹Ÿä¸ä¼šå­˜å‚¨åœ¨æµè§ˆå™¨çš„å†å²è®°å½•ä¸­ã€‚å­˜åœ¨ä¸ <code>assign()</code>æ–¹æ³•ç›¸åŒçš„å®‰å…¨çº¦æŸï¼Œå¦‚æœæ‚¨æƒ³ç”¨å¦ä¸€ä¸ªé¡µé¢æ›¿æ¢å†…å®¹ï¼Œè¿™ä½¿å…¶æˆä¸ºä¸€ç§ç†æƒ³çš„æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Replacing&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type = "text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">        function Replace() &#123;</span></span><br><span class="line"><span class="string">         window.location.Replace("</span>https:<span class="comment">//stackabuse.com");</span></span><br><span class="line">        &#125;</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"Redirect Me"</span> onclick=<span class="string">"Replace()"</span> /&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><p>è¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>assign()</code>æ–¹æ³•æœ‰ä¸€ä¸ªä¸¥é‡çš„æ½œåœ¨é—®é¢˜ã€‚å¦‚æœç”¨æˆ·è¦è¿”å›åˆ°è‡ªåŠ¨è¿è¡Œ <code>assign()</code> æ–¹æ³•çš„é¡µé¢ï¼Œä»–ä»¬å°†è¢«é‡å®šå‘å›ä»–ä»¬å°è¯•ä»è¿”å›çš„é¡µé¢ã€‚ç„¶åä»–ä»¬ä¼šé€šè¿‡ <code>Back Button</code> è¿›å…¥ä¸€ä¸ªâ€œè¿”å›â€å¾ªç¯ï¼Œä½†ç”±äº <code>assign()</code> æ–¹æ³•è€Œè¢«é‡å®šå‘åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚</p><p>å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ <code>assign()</code>ï¼Œè¯·ç¡®ä¿å®ƒä¸ä¼šåœ¨é¡µé¢ä¸Šè‡ªåŠ¨è°ƒç”¨ï¼Œå¹¶ä¸”å®ƒçš„è°ƒç”¨éœ€è¦ç”¨æˆ·çš„æ“ä½œï¼Œä¾‹å¦‚åœ¨æŒ‰ä¸‹æŒ‰é’®æ—¶è°ƒç”¨å®ƒã€‚å¦‚æœæ²¡æœ‰ - ä½¿ç”¨ <code>location.replace()</code>ã€‚</p><p>æ­¤å¤–ï¼Œ<code>location.replace()</code> æœ€æ¥è¿‘ <code>HTTP</code> é‡å®šå‘ï¼Œå› ä¸ºåŸå§‹é“¾æ¥ä¸ä¼šæ·»åŠ åˆ°æµè§ˆå™¨çš„å†å²è®°å½•ä¸­ã€‚</p><h2><span id="å®‰å…¨å½±å“å’Œå‰¯ä½œç”¨">å®‰å…¨å½±å“å’Œå‰¯ä½œç”¨</span></h2><p>æåˆ°çš„å®‰å…¨æ€§é€‚ç”¨äºä¸Šè¿°æ‰€æœ‰æ–¹æ³•ï¼Œå®ƒæŒ‡çš„æ˜¯ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li>å¦‚æœè¿™æ˜¯è°ƒç”¨æ­¤æ–¹æ³•çš„è„šæœ¬çš„æ¥æºæ˜¯ä¸ä¸€æ ·çš„å½“å‰é¡µé¢çš„èµ·æº-è¿™å°†è¢«è§†ä¸ºä¸€ä¸ªå®‰å…¨è¿è§„ï¼ŒæŠ›å‡ºï¼š<code>DOMException</code> çš„ <code>SECURITY_ERROR</code> ç±»å‹å°†è¢«æŠ›å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåµŒå…¥åˆ°æ‚¨è‡ªå·±é¡µé¢ä¸­çš„å¤–éƒ¨åº“å’ŒæœåŠ¡å°†æ— æ³•é‡å®šå‘ç”¨æˆ·ã€‚</li><li>å¦‚æœå­˜å‚¨çš„ <code>URL</code> æ— æ•ˆï¼Œ<code>DOMException</code>åˆ™ä¼šæŠ›å‡º <code>a</code>ã€‚</li><li>å¦‚æœæ‚¨å°†ç”¨æˆ·é‡å®šå‘åˆ°ä»–ä»¬æ‰€åœ¨åŸŸä»¥å¤–çš„åŸŸï¼Œ<code>CORS</code>å¯èƒ½ä¼šå¯åŠ¨å¹¶é˜»æ­¢å®ƒã€‚</li></ul><p>ç”±äºäººä¸ºè®¾è®¡é—®é¢˜è€Œå¯èƒ½å‘ç”Ÿçš„ä¸€äº›å¯èƒ½çš„å‰¯ä½œç”¨æ˜¯ï¼š</p><ul><li>å½“é‡å®šå‘ï¼ˆé™¤äº†<code>replace()</code>ï¼‰å‘ç”Ÿå¾—å¤ªå¿«ï¼ˆå³ä¸åˆ° 3 ç§’ï¼‰æ—¶ï¼Œå®ƒå¯èƒ½ä¼šç ´åæµè§ˆå™¨ä¸Šçš„åé€€æŒ‰é’®ã€‚è¿™æ„å‘³ç€æ¯æ¬¡æ‚¨å°è¯•è¿”å›ä¸Šä¸€é¡µæ—¶ï¼Œé‡å®šå‘å‡ ä¹ä¼šç«‹å³å†æ¬¡å‘ç”Ÿï¼Œä»è€Œé€ æˆæ— é™å¾ªç¯ã€‚</li><li>å®ƒå¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸æ¨èçš„ <code>Doorway Page</code>ï¼ˆå³ä¸º <code>SEO</code> ç´¢å¼•æ“ä½œåˆ›å»ºçš„é¡µé¢ï¼‰</li><li>è®¡åˆ’å’Œä½¿ç”¨ä¸å½“çš„é‡å®šå‘ä¼šå¯¼è‡´é“¾å¼é‡å®šå‘ï¼Œå³åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé¡µé¢ä¹‹é—´é‡å®šå‘ã€‚</li></ul><h2><span id="å¯¹-seo-çš„å½±å“">å¯¹ SEO çš„å½±å“</span></h2><p>å¯¹ SEO çš„å½±å“<br>æœ‰è®¸å¤šå½±å“å› ç´ SEOï¼Œå¾ˆå¤šäººå®é™…ä¸Šå¹¶æ²¡æœ‰å…¬å¼€çš„ï¼Œä»¥å…ä»–ä»¬æ»¥ç”¨ã€‚ä¸è¿‡ï¼Œå¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œä¼˜åŒ–ä¸å½“çš„ä»£ç ä¼šå¯¹ SEO äº§ç”Ÿè´Ÿé¢å½±å“ã€‚å®ƒå¯èƒ½å¯¼è‡´åŠ è½½æ—¶é—´è¿‡é•¿ã€é‡å®šå‘é“¾ç”šè‡³å¾ªç¯ã€‚è®¸å¤šç½‘ç»œçˆ¬è™«ä¸ä¼šæ‰§è¡Œä¼šå¯¹é¡µé¢æ’åäº§ç”Ÿè´Ÿé¢å½±å“çš„ JavaScript ä»£ç ã€‚</p><p>å…‹æœè¿™äº›é—®é¢˜çš„æœ€ä½³æ–¹æ³•å¯èƒ½æ˜¯ï¼š</p><ul><li><p>åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨ä»»ä½•é‡å®šå‘çŠ¶æ€ç (<code>301..308</code>)æ­£ç¡®åœ°å‘å‡ºä¸€ä¸ª <code>HTTP</code> é‡å®šå‘ï¼Œæˆ–è€…å¯¹ä½ ä¸å†æƒ³æ‰˜ç®¡æˆ–é‡å®šå‘åˆ°çš„é¡µé¢å‘å‡º <code>404</code>ã€‚</p></li><li><p>é€šè¿‡åœ¨<code>&lt;head&gt;&lt;/head&gt;</code>éƒ¨åˆ†æ·»åŠ  <code>&lt;link rel=&quot;canonical&quot; href=&quot;https://original_link&quot;/&gt;</code> æ¥é€šçŸ¥æœç´¢å¼•æ“æœ‰é‡å¤çš„é¡µé¢ã€‚è¿™æ¯”åœ¨æœåŠ¡å™¨ç«¯åšä»»ä½•é¢å¤–çš„å·¥ä½œæ›´å®¹æ˜“å®ç°ï¼Œä½†è¯·è®°ä½ï¼Œä¸æ˜¯æ‰€æœ‰çš„ <code>web</code>çˆ¬è™«éƒ½ä¼šå–œæ¬¢å®ƒã€‚</p></li></ul><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/javascript-how-to-redirect-to-another-webpage" target="_blank" rel="noopener">https://stackabuse.com/javascript-how-to-redirect-to-another-webpage</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åˆ›é€ åŠ›æ˜¯æ™ºåŠ›çš„ä¹è¶£ã€‚â€”â€”&amp;lt;é˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;é€šå¸¸ï¼Œæˆ‘ä»¬éœ€è¦é‡å®šå‘ç”¨æˆ·åˆ°å¦ä¸€ä¸ªç½‘ç«™æˆ–åŒä¸€ç½‘ç«™ä¸Šçš„å¦ä¸€ä¸ªç½‘é¡µã€‚æœ‰å‡ ç§é‡å®šå‘æ–¹æ³•ï¼ŒåŒ…æ‹¬ &lt;code&gt;JavaScript&lt;/code&gt; 
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­ Date &amp; æ—¥æœŸå¸¸ç”¨ä»£ç ç‰‡æ®µ</title>
    <link href="https://cl9000.github.io/2021/06/03/Javascript%E4%B8%AD%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
    <id>https://cl9000.github.io/2021/06/03/Javascript%E4%B8%AD%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/</id>
    <published>2021-06-03T09:03:35.000Z</published>
    <updated>2021-06-07T09:20:33.399Z</updated>
    
    <content type="html"><![CDATA[<p>To the one with a hammer, everything looks like a nail. ï¼ˆæ‰‹ä¸­æœ‰é”¤ï¼Œçœ‹ä»€ä¹ˆéƒ½åƒé’‰ï¼‰â€”â€”&lt;èŠ’æ ¼&gt;</p><h2><span id="date">Date</span></h2><p>åœ¨ <code>Web</code>å¼€å‘ä¸­ï¼Œä¼šæœ‰å¾ˆå¤šæˆ‘ä»¬éœ€è¦ä¸æ—¥æœŸ/æ—¶é—´å€¼è¿›è¡Œäº¤äº’çš„å®ä¾‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹æ—¥æœŸå’Œæ—¶é—´å€¼è¿›è¡Œå„ç§æ“ä½œï¼Œä¾‹å¦‚å¸–å­å‘å¸ƒåç»è¿‡çš„æ—¶é—´ï¼Œæ¶ˆæ¯å‘å¸ƒçš„æ—¶é—´äº¤ä»˜ç­‰ã€‚<br>æˆ‘ä»¬ä¸èƒ½åƒå‘å˜é‡æä¾›å€¼é‚£æ ·ä¸æ–­åœ°å‘ç¨‹åºæä¾›æ—¶é—´/æ—¥æœŸçš„å€¼ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æœºåˆ¶æ¥è·Ÿè¸ªæ—¶é—´/æ—¥æœŸçš„å˜åŒ–ã€‚<br><code>JavaScript</code> æœ‰ <code>Date</code> å¯¹è±¡ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬è·Ÿè¸ªæ—¶é—´/æ—¥æœŸä»¥åŠä¸æ—¥æœŸå’Œæ—¶é—´å€¼äº¤äº’çš„æ–¹æ³•ã€‚<br>æ—¥æœŸå¯¹è±¡åŸºäºè‡ª <strong>1970 å¹´ 1 æœˆ 1 æ—¥ UTC</strong> ä»¥æ¥ç»è¿‡çš„æ¯«ç§’æ•°ã€‚</p><p>åœ¨ JavaScript ä¸­æ—¥æœŸ/æ—¶é—´ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºä¸º <code>Date</code> å¯¹è±¡ï¼Œæ—¶é—´å’Œæ—¥æœŸæ²¡æœ‰å•ç‹¬çš„æ•°æ®ç±»å‹ï¼Œæ—¶é—´å’Œæ—¥æœŸéƒ½ä½¿ç”¨ <code>Date</code> å¯¹è±¡è¡¨ç¤ºã€‚<br><code>Date</code> å¯¹è±¡æœ‰ä¸€äº›å†…ç½®æ–¹æ³•å¯ä»¥å¸®åŠ©ä» <code>Date</code> å¯¹è±¡ä¸­æå–æ—¶é—´å’Œæ—¥æœŸéƒ¨åˆ†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(dateString);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> time1 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(time1); <span class="comment">// Thu Jan 01 1970 05:30:00 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><p>æ‚¨å¯ä»¥ä½¿ç”¨ <code>Date.now()</code> è·å–ä» <strong>1970 å¹´ 1 æœˆ 1 æ—¥</strong> åˆ°è°ƒç”¨ <code>now()</code>æ–¹æ³•çš„æ—¶é—´ä¹‹é—´çš„æ¯«ç§’æ•°ã€‚</p><p>åœ¨ä¸‹é¢æ‰¾å‡º <code>Date()</code> å’Œ <code>new Date()</code> ä¹‹é—´çš„åŒºåˆ«ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(now);                 </span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530 (India Standard Time)   </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> now);           <span class="comment">// object </span></span><br><span class="line"><span class="built_in">console</span>.log(now.getMonth());       <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> strnow = <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(strnow);</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530 (India Standard Time) </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> strnow);        <span class="comment">//string</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(strnow.getMonth());</span><br><span class="line"><span class="comment">//Uncaught TypeError: strnow.getMonth is not a function</span></span><br></pre></td></tr></table></figure><p><code>Date</code> å¯¹è±¡æä¾›äº†è·å–æ—¥æœŸ/æ—¶é—´å€¼å’Œè®¾ç½®æ—¥æœŸ/æ—¶é—´å€¼çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•è§£é‡Šå¦‚ä¸‹ã€‚</p><h3><span id="dateçš„-getteræ–¹æ³•">Date()çš„ getteræ–¹æ³•</span></h3><ol><li><code>getTimezoneOffset()</code>: è¿”å›å½“å‰æœ¬åœ°æ—¶åŒºï¼Œæœ¬åœ°æ—¶åŒºä»¥åˆ†é’Ÿä¸ºå•ä½çš„ <code>+/-</code> å˜åŒ–è¡¨ç¤ºã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getTimezoneOffset());   <span class="comment">// -330</span></span><br></pre></td></tr></table></figure><ol start="2"><li><code>getDate()</code>: è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ—¥æœŸçš„æ•´æ•°ï¼ˆ1 åˆ° 31ï¼‰ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getDate());             <span class="comment">// 14</span></span><br></pre></td></tr></table></figure><ol start="3"><li><code>getDay()</code>: è¿”å›æœ¬åœ°æ—¶é—´çš„æ˜ŸæœŸå‡ ï¼ˆ0 åˆ° 6ï¼‰ï¼Œ0 ä»£è¡¨æ˜ŸæœŸæ—¥ï¼Œä¸å¯æ›´æ”¹</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getDay());</span><br></pre></td></tr></table></figure><ol start="4"><li><code>getMonth()</code>: è¿”å›è¡¨ç¤ºæœ¬åœ°æ—¶é—´æœˆä»½çš„æ•´æ•°ï¼Œæœˆä»½ä»0åˆ°11ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getMonth());            <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><ol start="5"><li><code>getFullYear()</code>ï¼šè¿”å›æœ¬åœ°æ—¥æœŸçš„å¹´ä»½ï¼Œå¹´ä»½ç”¨4ä½æ•°å­—è¡¨ç¤ºã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getFullYear());         <span class="comment">// 2021</span></span><br></pre></td></tr></table></figure><ol start="6"><li><code>getHours()</code>ï¼šè¿”å›å½“åœ°æ—¶é—´çš„å½“å‰å°æ—¶ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getHours());            <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><ol start="7"><li><code>getMinutes()</code>ï¼šè¿”å›å½“åœ°æ—¶é—´çš„å½“å‰åˆ†é’Ÿæ•°ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getMinutes());          <span class="comment">// 29</span></span><br></pre></td></tr></table></figure><ol start="8"><li><code>getSeconds()</code>: è¿”å›æœ¬åœ°æ—¶é—´çš„å½“å‰ç§’æ•°ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getSeconds());          <span class="comment">// 44</span></span><br><span class="line"><span class="number">9.</span> getMilliseconds()ï¼šè¿”å›æœ¬åœ°æ—¶é—´çš„æ¯«ç§’æ•°ã€‚</span><br><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getMilliseconds());     <span class="comment">// 251</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Current Time: Fri May 14 2021 20:29:55 GMT+0530</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getFullYear());         <span class="comment">// 2021</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getMonth());            <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getDate());             <span class="comment">// 14</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getHours());            <span class="comment">// 20</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getMinutes());          <span class="comment">// 29</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getSeconds());          <span class="comment">// 44</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getMilliseconds());     <span class="comment">// 251</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getDay());              <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(now.getTimezoneOffset());   <span class="comment">// -330</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ‰€æœ‰æ–¹æ³•éƒ½åŸºäºæœ¬åœ°æ—¶é—´ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•çš„ <code>UTC</code> å˜ä½“æ¥å¤„ç†åŸºäº <code>UTC</code> çš„æ—¶é—´ã€‚åªéœ€åœ¨ <code>get</code> åæ·»åŠ  <code>UTC</code>ï¼Œå¦‚ <code>getUTCDate()</code>ã€<code>getUTCDay()</code> ç­‰ã€‚</p><h3><span id="date-çš„-setter-æ–¹æ³•">Date() çš„ Setter æ–¹æ³•</span></h3><ol><li><code>setDate()</code>: è®¾ç½®æœˆä»½ä¸­çš„æ—¥æœŸã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Current Time:  Fri May 14 2021 21:28:29 GMT+0530 (India Standard Time)</span></span><br><span class="line">now.setDate(<span class="number">20</span>)</span><br><span class="line"><span class="built_in">console</span>.log(now);</span><br><span class="line"><span class="comment">// Thu May 20 2021 21:28:29 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><ol start="2"><li><code>setMonth()</code>ï¼šè®¾ç½®æœˆä»½ã€‚æ‚¨å¯ä»¥æŒ‡å®šæœˆä»½å’Œæ—¥æœŸã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setMonth(month, [date])</span><br><span class="line"><span class="comment">//Current Time:  Fri May 14 2021 21:28:29 GMT+0530 (India Standard Time)       </span></span><br><span class="line">now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">now.setMonth(<span class="number">11</span>);</span><br><span class="line"><span class="built_in">console</span>.log(now);</span><br><span class="line"><span class="comment">// Tue Dec 14 2021 21:29:51 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><ol start="3"><li><code>setFullYear()</code>ï¼šè®¾ç½®å¹´ä»½ã€‚æ‚¨å¯ä»¥æŒ‡å®šæ—¥æœŸã€æœˆä»½å’Œå¹´ä»½ï¼Œæ—¥æœŸå’Œæœˆä»½æ˜¯å¯é€‰çš„ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setFullYear(year, [month], [date])</span><br><span class="line"><span class="comment">//Current Time:  Fri May 14 2021 21:28:29 GMT+0530 (India Standard Time)</span></span><br><span class="line">now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">now.setFullYear(<span class="number">2025</span>);</span><br><span class="line"><span class="built_in">console</span>.log(now);</span><br><span class="line"><span class="comment">// Wed May 14 2025 21:30:20 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><ol start="4"><li><code>setHours()</code>ï¼šè®¾ç½®å°æ—¶ã€‚æ‚¨å¯ä»¥æŒ‡å®šå¯é€‰çš„åˆ†é’Ÿã€ç§’å’Œæ¯«ç§’ä»¥åŠå°æ—¶ã€‚<code>setHours(hour, [min], [sec], [ms])</code></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Current Time:  Fri May 14 2021 21:28:29 GMT+0530 (India Standard Time)</span></span><br><span class="line">now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">now.setHours(<span class="number">23</span>);</span><br><span class="line"><span class="built_in">console</span>.log(now);</span><br><span class="line"><span class="comment">// Fri May 14 2021 23:31:59 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><ol start="5"><li><code>setMinutes()</code>ï¼šè®¾ç½®åˆ†é’Ÿã€‚æ‚¨å¯ä»¥æŒ‡å®šç§’å’Œæ¯«ç§’ä½œä¸ºå¯é€‰å‚æ•°ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setMinutes(min, [sec], [ms])</span><br><span class="line"><span class="comment">//Current Time:  Fri May 14 2021 21:28:29 GMT+0530 (India Standard Time)</span></span><br><span class="line">now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">now.setMinutes(<span class="number">00</span>);</span><br><span class="line"><span class="built_in">console</span>.log(now);</span><br><span class="line"><span class="comment">// Fri May 14 2021 21:00:58 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><ol start="6"><li><code>setSeconds()</code>ï¼šè®¾ç½®ç§’æ•°ã€‚æ‚¨è¿˜å¯ä»¥æŒ‡å®šæ¯«ç§’ä½œä¸ºå¯é€‰å‚æ•°ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Current Time:  Fri May 14 2021 21:28:29 GMT+0530 (India Standard Time)</span></span><br><span class="line">now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">now.setSeconds(<span class="number">00</span>);</span><br><span class="line"><span class="built_in">console</span>.log(now);</span><br><span class="line"><span class="comment">// Fri May 14 2021 21:33:00 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><ol start="7"><li><code>setMilliseconds()</code>: è®¾ç½®æ¯«ç§’ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Current Time:  Fri May 14 2021 21:28:29 GMT+0530 (India Standard Time)</span></span><br><span class="line">now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">now.setMilliseconds(<span class="number">00</span>);</span><br><span class="line"><span class="built_in">console</span>.log(now);</span><br><span class="line"><span class="comment">// Fri May 14 2021 21:34:32 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><p>æ‚¨å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º <code>Date</code> å¯¹è±¡ï¼Œ<code>Date</code> å¯¹è±¡çš„æ„é€ å‡½æ•°é‡‡ç”¨ä¸åŒæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚ä¸‹é¢ç»™å‡ºäº†ä¸€äº›ä¾‹å­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> date1 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"Fri, May 14 2021 21:00:00"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date1);</span><br><span class="line"><span class="comment">//Fri May 14 2021 21:00:00 GMT+0530 (India Standard Time)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> date2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"Fri, May 14 2021 21:00:00 UTC"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date2);</span><br><span class="line"><span class="comment">// Sat May 15 2021 02:30:00 GMT+0530 (India Standard Time)</span></span><br><span class="line"><span class="comment">// the output is in Indian standard time not in UTC, </span></span><br><span class="line"><span class="comment">// i.e. 5:30 is added to 21:00</span></span><br><span class="line"><span class="comment">// so we get 02:30</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> date3 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"14 May 2021 21:00:00 UTC+05:30"</span>); </span><br><span class="line"><span class="built_in">console</span>.log(date3);</span><br><span class="line"><span class="comment">// Fri May 14 2021 21:00:00 GMT+0530 (India Standard Time)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> date4 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2021</span>, <span class="number">4</span>, <span class="number">14</span>, <span class="number">21</span>, <span class="number">00</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date4);</span><br><span class="line"><span class="comment">// Fri May 14 2021 21:00:00 GMT+0530 (India Standard Time)</span></span><br><span class="line"><span class="comment">// Rememnber month starts from zero</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> date5 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2021-05-14T21:00:00Z"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date5)</span><br><span class="line"><span class="comment">// Sat May 15 2021 02:30:00 GMT+0530 (India Standard Time)</span></span><br></pre></td></tr></table></figure><p><code>Date</code> å¯¹è±¡çš„è¾“å‡ºæ˜¯ <code>object</code>ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼ï¼Œ<code>Date</code> å¯¹è±¡æœ‰å†…ç½®çš„æ–¹æ³•ã€‚</p><ul><li><code>toString()</code> ï¼šè¿”å› <code>Date</code> å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚</li><li><code>toLocalString()</code> ï¼šä»¥æœ¬åœ°æ ¼å¼è¿”å› <code>Date</code> å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚</li><li><code>toTimeString()</code>ï¼šè¿”å› <code>Date</code> å¯¹è±¡çš„æ—¶é—´éƒ¨åˆ†ã€‚</li><li><code>toLocalTimeString()</code> ï¼šä»¥æœ¬åœ°æ ¼å¼è¿”å› <code>Date</code> å¯¹è±¡çš„æ—¶é—´éƒ¨åˆ†ã€‚</li><li><code>toDateString()</code> ï¼šè¿”å› <code>Date</code> å¯¹è±¡çš„æ—¥æœŸéƒ¨åˆ†ã€‚</li><li><code>toLocalDateString()</code> ï¼šä»¥æœ¬åœ°æ ¼å¼è¿”å› <code>Date</code> å¯¹è±¡çš„æ—¥æœŸéƒ¨åˆ†ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> now.toString(), now.toString());</span><br><span class="line"><span class="comment">// string Fri May 14 2021 21:48:19 GMT+0530 (India Standard Time)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(now.toLocaleString());</span><br><span class="line"><span class="comment">// 5/14/2021, 9:48:19 PM</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(now.toDateString());</span><br><span class="line"><span class="comment">// Fri May 14 2021</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(now.toLocaleDateString());</span><br><span class="line"><span class="comment">// 5/14/2021</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(now.toTimeString());</span><br><span class="line"><span class="comment">// 21:48:19 GMT+0530 (India Standard Time)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(now.toLocaleTimeString());</span><br><span class="line"><span class="comment">// 9:48:19 PM</span></span><br></pre></td></tr></table></figure><h2><span id="æ—¥æœŸå’Œæ—¶é—´ä»£ç ç‰‡æ®µ">æ—¥æœŸå’Œæ—¶é—´ä»£ç ç‰‡æ®µ</span></h2><h3><span id="1-æ˜¨å¤©æ—¥æœŸ">1. æ˜¨å¤©æ—¥æœŸï¼š</span></h3><p>æ–¹æ³•ä¸€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Find Yesterday Method 1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getYesterday</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">let</span> yesterday = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    yesterday.setDate(yesterday.getDate() - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Today: <span class="subst">$&#123;today.toDateString()&#125;</span> Yesterday: <span class="subst">$&#123;yesterday.toDateString()&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">getYesterday();</span><br><span class="line"><span class="comment">//Today: Tue May 18 2021 Yesterday: Mon May 17 2021</span></span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Find Yesterday Method 2 </span></span><br><span class="line"><span class="keyword">const</span> yesterday1 = (<span class="function"><span class="params">today1</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Date</span>(today1.setDate(today1.getDate() - <span class="number">1</span>)))(<span class="keyword">new</span> <span class="built_in">Date</span>);</span><br><span class="line"><span class="built_in">console</span>.log(yesterday1);</span><br></pre></td></tr></table></figure><h3><span id="2-æ˜å¤©æ—¥æœŸ">2. æ˜å¤©æ—¥æœŸï¼š</span></h3><p>æ–¹æ³•ä¸€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Find Tomorrow</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTomorrow</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">let</span> tomorrow = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    tomorrow.setDate(tomorrow.getDate() + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Today: <span class="subst">$&#123;today.toDateString()&#125;</span> Tomorrow: <span class="subst">$&#123;tomorrow.toDateString()&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">getTomorrow();</span><br><span class="line"><span class="comment">//Today: Tue May 18 2021 Tomorrow: Wed May 19 2021</span></span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tomm1 = (<span class="function"><span class="params">today1</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Date</span>(today1.setDate(today1.getDate() + <span class="number">1</span>)))(<span class="keyword">new</span> <span class="built_in">Date</span>);</span><br><span class="line"><span class="built_in">console</span>.log(tomm1);</span><br></pre></td></tr></table></figure><h3><span id="3-å½“å‰æ—¥-å‘¨å‡ ">3. å½“å‰æ—¥ (å‘¨å‡ )</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Print Day</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printWeekday</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> names = [<span class="string">'Sunday'</span>, <span class="string">'Monday'</span>, <span class="string">'Tuesday'</span>, <span class="string">'Wednesday'</span>, <span class="string">'Thursday'</span>, <span class="string">'Friday'</span>, <span class="string">'Saturday'</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Today is <span class="subst">$&#123;names[<span class="keyword">new</span> <span class="built_in">Date</span>().getDay()]&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">printWeekday();</span><br><span class="line"><span class="comment">//Today is Tuesday</span></span><br></pre></td></tr></table></figure><h3><span id="4-å½“å‰æœˆä»½">4. å½“å‰æœˆä»½</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Print Month</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printMonthName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> names = [<span class="string">'January'</span>, <span class="string">'February'</span>, <span class="string">'March'</span>, <span class="string">'April'</span>, <span class="string">'May'</span>, <span class="string">'June'</span>,<span class="string">'July'</span>, <span class="string">'August'</span>, <span class="string">'September'</span>, <span class="string">'October'</span>,<span class="string">' November'</span>, <span class="string">'December'</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`The month is <span class="subst">$&#123;names[<span class="keyword">new</span> <span class="built_in">Date</span>().getMonth()]&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">printMonthName();</span><br><span class="line"><span class="comment">//The month is May</span></span><br></pre></td></tr></table></figure><h3><span id="5-æ¯æœˆç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©">5. æ¯æœˆç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Get first and last day of month</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">firstLastDay</span>(<span class="params">year,month</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> dateFirst = <span class="keyword">new</span> <span class="built_in">Date</span>(year,month<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">let</span> dateLast = <span class="keyword">new</span> <span class="built_in">Date</span>(year,month,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(dateFirst.toLocaleDateString(), dateLast.toLocaleDateString());</span><br><span class="line">&#125;</span><br><span class="line">firstLastDay(<span class="number">2021</span>, <span class="number">1</span>);   <span class="comment">// 1/1/2021 1/31/2021</span></span><br><span class="line">firstLastDay(<span class="number">2021</span>, <span class="number">2</span>);   <span class="comment">// 2/1/2021 2/28/2021</span></span><br><span class="line">firstLastDay(<span class="number">2021</span>, <span class="number">5</span>);   <span class="comment">// 5/1/2021 5/31/2021</span></span><br></pre></td></tr></table></figure><h3><span id="6-ä¸€ä¸ªæœˆçš„å¤©æ•°">6. ä¸€ä¸ªæœˆçš„å¤©æ•°</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Print Number of days in a month             </span></span><br><span class="line"><span class="comment">// Month starts from 0, so (year,month, 0) gives last day of month-1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDaysInMonth</span>(<span class="params">year,month</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> days = <span class="keyword">new</span> <span class="built_in">Date</span>(year, month,<span class="number">0</span>).getDate();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Number of days in <span class="subst">$&#123;month&#125;</span>/<span class="subst">$&#123;year&#125;</span>: <span class="subst">$&#123;days&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">getDaysInMonth(<span class="number">2021</span>, <span class="number">1</span>);  <span class="comment">// Number of days in 1/2021: 31</span></span><br><span class="line">getDaysInMonth(<span class="number">2021</span>, <span class="number">2</span>);  <span class="comment">// Number of days in 2/2021: 28</span></span><br><span class="line">getDaysInMonth(<span class="number">2021</span>, <span class="number">5</span>);  <span class="comment">// Number of days in 5/2021: 31</span></span><br></pre></td></tr></table></figure><h3><span id="7ä»¥ampmæ ¼å¼æ‰“å°æ—¶é—´">7.ä»¥AM/PMæ ¼å¼æ‰“å°æ—¶é—´</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Find AM or PM time in hh:mm:ss format</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">amOrpm</span>(<span class="params">t</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> time = t.split(<span class="string">" "</span>)[<span class="number">0</span>].split(<span class="string">':'</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">parseInt</span>(time[<span class="number">0</span>]) &gt;= <span class="number">12</span>)&#123;</span><br><span class="line">         <span class="built_in">parseInt</span>(time[<span class="number">0</span>]) === <span class="number">12</span> ? <span class="number">12</span> : <span class="built_in">parseInt</span>(time[<span class="number">0</span>] % <span class="number">12</span>);</span><br><span class="line">         time.push(<span class="string">"PM"</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         time.push(<span class="string">"AM"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;time[<span class="number">0</span>]&#125;</span>:<span class="subst">$&#123;time[<span class="number">1</span>]&#125;</span>:<span class="subst">$&#123;time[<span class="number">2</span>]&#125;</span> <span class="subst">$&#123;time[<span class="number">3</span>]&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">amOrpm(<span class="keyword">new</span> <span class="built_in">Date</span>().toTimeString()); <span class="comment">// 17:31:07 PM</span></span><br></pre></td></tr></table></figure><h3><span id="8-è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°">8. è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Calculate number of days between two dates</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">noDates</span>(<span class="params">first, last</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> difference = <span class="built_in">Math</span>.ceil((last - first) / (<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>));</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`The number of days between <span class="subst">$&#123;first.toLocaleDateString()&#125;</span> and <span class="subst">$&#123;last.toLocaleDateString()&#125;</span> is <span class="subst">$&#123;<span class="built_in">Math</span>.abs(difference)&#125;</span> days`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">noDates(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2018-1-1'</span>), <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2021-05-15'</span>))</span><br><span class="line"><span class="comment">//The number of days between 1/1/2018 and 5/15/2021 is 1231 days</span></span><br></pre></td></tr></table></figure><h3><span id="9-è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æœˆæ•°">9. è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æœˆæ•°</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Calculate number of months between two dates</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">numMonths</span>(<span class="params">first, last</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> yearToMonths = [last.getFullYear() - first.getFullYear()] * <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">let</span> months  = [yearToMonths + (last.getMonth() + <span class="number">1</span>)] - (first.getMonth() + <span class="number">1</span>); </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Number of months between <span class="subst">$&#123;first.toLocaleDateString&#125;</span> and </span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;last.toLocaleDateString&#125;</span> is <span class="subst">$&#123;months&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">numMonths(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2018-05-21'</span>), <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2020-05-21'</span>));</span><br><span class="line"><span class="comment">// Number of months between 5/21/2018 and 5/21/2021 is 36</span></span><br></pre></td></tr></table></figure><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://dev.to/kiranrajvjd/javascript-useful-code-snippets-part1-date-and-time-25al" target="_blank" rel="noopener">https://dev.to/kiranrajvjd/javascript-useful-code-snippets-part1-date-and-time-25al</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;To the one with a hammer, everything looks like a nail. ï¼ˆæ‰‹ä¸­æœ‰é”¤ï¼Œçœ‹ä»€ä¹ˆéƒ½åƒé’‰ï¼‰â€”â€”&amp;lt;èŠ’æ ¼&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;date&quot;&gt;Date&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨ &lt;code&gt;Web
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>EPELæº-æ˜¯ä»€ä¹ˆ?</title>
    <link href="https://cl9000.github.io/2021/06/02/EPEL%E6%BA%90-%E6%98%AF%E4%BB%80%E4%B9%88/"/>
    <id>https://cl9000.github.io/2021/06/02/EPEL%E6%BA%90-%E6%98%AF%E4%BB%80%E4%B9%88/</id>
    <published>2021-06-02T08:36:12.000Z</published>
    <updated>2021-06-02T08:37:11.404Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/u011341352/article/details/82943871" target="_blank" rel="noopener">https://blog.csdn.net/u011341352/article/details/82943871</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">EPELæº-æ˜¯ä»€ä¹ˆ?ä¸ºä»€ä¹ˆå®‰è£…ï¼Ÿ</span><br><span class="line"> </span><br><span class="line"> EPEL (Extra Packages <span class="keyword">for</span> Enterprise Linux)æ˜¯åŸºäºFedoraçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä¸ºâ€œçº¢å¸½ç³»â€çš„æ“ä½œç³»ç»Ÿæä¾›é¢å¤–çš„è½¯ä»¶åŒ…ï¼Œé€‚ç”¨äºRHELã€CentOSå’ŒScientific Linux.</span><br><span class="line"> </span><br><span class="line">ä½¿ç”¨å¾ˆç®€å•ï¼š</span><br><span class="line"><span class="number">1.</span> é¦–å…ˆéœ€è¦å®‰è£…ä¸€ä¸ªå«â€epel-releaseâ€çš„è½¯ä»¶åŒ…ï¼Œè¿™ä¸ªè½¯ä»¶åŒ…ä¼šè‡ªåŠ¨é…ç½®yumçš„è½¯ä»¶ä»“åº“ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸å®‰è£…è¿™ä¸ªåŒ…ï¼Œè‡ªå·±é…ç½®è½¯ä»¶ä»“åº“ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</span><br><span class="line">#ç”¨äºRHEL5ç³»åˆ—</span><br><span class="line">wget http:<span class="comment">//download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm</span></span><br><span class="line">rpm -ivh epel-release<span class="number">-5</span><span class="number">-4.n</span>oarch.rpm</span><br><span class="line">#ç”¨äºRHEL6ç³»åˆ—</span><br><span class="line">wget http:<span class="comment">//download.fedoraproject.org/pub/epel/6/i386/epel-release-6-5.noarch.rpm</span></span><br><span class="line">rpm -ivh epel-release<span class="number">-6</span><span class="number">-5.n</span>oarch.rpm</span><br><span class="line"> </span><br><span class="line"><span class="number">2.</span> å®‰è£…å®Œæˆä¹‹åä½ å°±å¯ä»¥ç›´æ¥ä½¿ç”¨yumæ¥å®‰è£…é¢å¤–çš„è½¯ä»¶åŒ…äº†</span><br><span class="line">yum clean all</span><br><span class="line"> </span><br><span class="line">yum makecache</span><br><span class="line">yum install nginx pure-ftpd</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="number">3.</span>ç›´æ¥è‡ªå·±æ‰‹å·¥æ·»åŠ è½¯ä»¶ä»“åº“é…ç½®æ–‡ä»¶</span><br><span class="line">vi /etc/yum.repos.d/epel.repo</span><br><span class="line"> </span><br><span class="line">[epel]</span><br><span class="line">name=epel</span><br><span class="line">mirrorlist=http:<span class="comment">//mirrors.fedoraproject.org/mirrorlist?repo=epel-releasever&amp;arch=releasever&amp;arch=basearch</span></span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">gpgcheck=<span class="number">0</span></span><br><span class="line"> </span><br><span class="line">CentOS6<span class="number">.5</span>æ·»åŠ é˜¿é‡Œäº‘çš„EPELæº</span><br><span class="line">yum localinstall --nogpgcheck http:<span class="comment">//mirrors.aliyun.com/epel/6/x86_64/epel-release-6-8.noarch.rpm</span></span><br><span class="line"> </span><br><span class="line">å®‰è£…é˜¿é‡Œäº‘EPELæº</span><br><span class="line"><span class="number">1</span>ã€é¦–å…ˆå¸è½½ä»¥å‰è£…çš„epelä»¥å…å½±å“</span><br><span class="line">rpm -e epel-release</span><br><span class="line"><span class="number">2</span>ã€ ä¸‹è½½é˜¿é‡Œæä¾›çš„epel</span><br><span class="line">wget -P /etc/yum.repos.d/ http:<span class="comment">//mirrors.aliyun.com/repo/epel-6.repo</span></span><br><span class="line"><span class="number">3</span>ã€yum clean all</span><br><span class="line"><span class="number">4</span>ã€yum makecache</span><br><span class="line"> </span><br><span class="line">é˜¿é‡Œäº‘æºå®‰è£…ç¤ºä¾‹ï¼š</span><br><span class="line"><span class="number">1</span>ã€å¤‡ä»½(å¦‚æœ‰é…ç½®å…¶ä»–epelæº)</span><br><span class="line">mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup</span><br><span class="line">mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup</span><br><span class="line"> </span><br><span class="line"><span class="number">2</span>ã€ä¸‹è½½æ–°repo åˆ°/etc/yum.repos.d/</span><br><span class="line">epel(RHEL <span class="number">7</span>)</span><br><span class="line">wget -O /etc/yum.repos.d/epel.repo http:<span class="comment">//mirrors.aliyun.com/repo/epel-7.repo</span></span><br><span class="line"> </span><br><span class="line">epel(RHEL <span class="number">6</span>)</span><br><span class="line">wget -O /etc/yum.repos.d/epel.repo http:<span class="comment">//mirrors.aliyun.com/repo/epel-6.repo</span></span><br><span class="line"> </span><br><span class="line">epel(RHEL <span class="number">5</span>)</span><br><span class="line">wget -O /etc/yum.repos.d/epel.repo http:<span class="comment">//mirrors.aliyun.com/repo/epel-5.repo</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">æ¥æºï¼šhttps:<span class="comment">//www.cnblogs.com/fps2tao/p/7580188.html</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥ï¼š&lt;a href=&quot;https://blog.csdn.net/u011341352/article/details/82943871&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.ne
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://cl9000.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://cl9000.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Docker æ­å»º JavaWeb è¿è¡Œç¯å¢ƒé•œåƒ(JDK7-Tomcat7)</title>
    <link href="https://cl9000.github.io/2021/05/28/Docker%E6%90%AD%E5%BB%BAJavaWeb%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83-JDK7-Tomcat7/"/>
    <id>https://cl9000.github.io/2021/05/28/Docker%E6%90%AD%E5%BB%BAJavaWeb%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83-JDK7-Tomcat7/</id>
    <published>2021-05-28T02:28:35.000Z</published>
    <updated>2021-05-28T09:09:01.120Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯å¤©åšä¸€ä»¶è‡ªå·±å®³æ€•çš„äº‹ã€‚â€”â€”&lt;åŸƒè‰è¯ºÂ·ç½—æ–¯ç¦&gt;</p><p>Docker æ‰‹åŠ¨æ–¹å¼ æ­å»º JavaWeb è¿è¡Œç¯å¢ƒé•œåƒ(JDK7-Tomcat7)</p><h2><span id="å‰ææ¡ä»¶">å‰ææ¡ä»¶</span></h2><p>å®‰è£…Dockerã€‚<br>ä¸‹é¢ç¤ºä¾‹ä»¥åœ¨ Mac ä¸Šçš„ Docker æ¼”ç¤ºï¼Œä»¥ <strong>CentOS</strong> ä¸ºä¾‹</p><h2><span id="æ‰‹åŠ¨æ„å»º-docker-é•œåƒæ–¹å¼">æ‰‹åŠ¨æ„å»º Docker é•œåƒæ–¹å¼</span></h2><h3><span id="ä¸‹è½½é•œåƒ">ä¸‹è½½é•œåƒ</span></h3><p>ä¸‹è½½å®˜æ–¹ CentOS é•œåƒ <a href="https://hub.docker.com/_/centos" target="_blank" rel="noopener">å®˜æ–¹ CentOS é•œåƒ hub.docker</a>ï¼Œ<br>æ‰¾åˆ° <strong>Tag</strong>ï¼Œå®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼Œå¤åˆ¶å®‰è£…é•œåƒå‘½ä»¤ï¼Œä¾‹å¦‚ <code>$ docker pull centos:7</code><br>æ‰§è¡Œå®Œæ¯•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰çš„é•œåƒï¼š<br><code>$ docker images</code><br>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">centos              centos7             <span class="number">8652</span>b9f0cb4c        <span class="number">6</span> months ago        <span class="number">204</span>MB</span><br></pre></td></tr></table></figure><p>å¦‚æœè¾“å‡ºä»¥ä¸Šï¼Œå³ä»£è¡¨ä¸‹è½½æˆåŠŸï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¯¥é•œåƒäº†ã€‚ä¸‹é¢æˆ‘ä»¬å¯åŠ¨å®¹å™¨</p><h3><span id="è½¯ä»¶ä¸‹è½½åœ°å€">è½¯ä»¶ä¸‹è½½åœ°å€</span></h3><p>ï¼ˆæ¨èå®˜ç½‘ï¼Œä¸‹é¢ä¹Ÿæ˜¯å®˜ç½‘ä¸‹è½½è½¬å­˜å¯ç›´æ¥ä½¿ç”¨ï¼‰</p><blockquote><p>ã€apache-tomcat-7.0.109.tar.gzã€‘é“¾æ¥: <a href="https://pan.baidu.com/s/1zbQFvCjdCj6af8E3PQEhFg" target="_blank" rel="noopener">https://pan.baidu.com/s/1zbQFvCjdCj6af8E3PQEhFg</a> å¯†ç :uw1d<br>ã€jdk7u79linuxx64.tar.gzã€‘é“¾æ¥:<a href="https://pan.baidu.com/s/1QjXLbtx-eWKYPylkd7aSbQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1QjXLbtx-eWKYPylkd7aSbQ</a> å¯†ç :xp49</p></blockquote><p>å¹¶åœ¨æœ¬æœºåˆ›å»º <code>~/Desktop/docker/software/</code> ç›®å½•ï¼Œå°†ä¸‹è½½JDK + Tomcat å‹ç¼©åŒ…æ–‡ä»¶æ”¾å…¥ç›®å½•ï¼Œä»¥ä¾¿åé¢æŒ‚è½½</p><h3><span id="å¯åŠ¨å®¹å™¨">å¯åŠ¨å®¹å™¨</span></h3><p>å®¹å™¨æ˜¯åœ¨é•œåƒçš„åŸºç¡€ä¸Šæ¥è¿è¡Œçš„ï¼Œå®¹å™¨å¯åŠ¨äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç™»å½•åˆ°å®¹å™¨ä¸­ï¼Œå®‰è£…è‡ªå·±æ‰€éœ€çš„è½¯ä»¶æˆ–åº”ç”¨ç¨‹åºã€‚<br>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯å¯åŠ¨å®¹å™¨ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run -i -t -v ~/Desktop<span class="meta-keyword">/docker/</span>software/:<span class="meta-keyword">/mnt/</span>software/ <span class="number">8652</span>b9f0cb4cï¼ˆçº¯å‡€centoså®¹å™¨IDï¼‰ <span class="meta-keyword">/bin/</span>bash</span><br><span class="line"></span><br><span class="line">å‘½ä»¤åˆ†è§£</span><br><span class="line">docker run <span class="params">&lt;ç›¸å…³å‚æ•°&gt;</span> <span class="params">&lt;é•œåƒ ID&gt;</span> <span class="params">&lt;åˆå§‹å‘½ä»¤&gt;</span></span><br><span class="line">ç›¸å…³å‚æ•°åŒ…æ‹¬ï¼š</span><br><span class="line">-iï¼šè¡¨ç¤ºä»¥â€œäº¤äº’æ¨¡å¼â€è¿è¡Œå®¹å™¨</span><br><span class="line">-tï¼šè¡¨ç¤ºå®¹å™¨å¯åŠ¨åä¼šè¿›å…¥å…¶å‘½ä»¤è¡Œ</span><br><span class="line">-vï¼šè¡¨ç¤ºéœ€è¦å°†æœ¬åœ°å“ªä¸ªç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œæ ¼å¼ï¼š-v <span class="params">&lt;å®¿ä¸»æœºç›®å½•&gt;</span>:<span class="params">&lt;å®¹å™¨ç›®å½•&gt;</span></span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬çš„æ‰€æœ‰å®‰è£…ç¨‹åºéƒ½æ”¾åœ¨äº†å®¿ä¸»æœºçš„<code>/docker/software/</code>ç›®å½•ä¸‹ï¼Œç°åœ¨éœ€è¦å°†å…¶æŒ‚è½½åˆ°å®¹å™¨çš„<code>/mnt/software/</code>ç›®å½•ä¸‹ã€‚</p><p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œä¸ä¸€å®šè¦ä½¿ç”¨ <strong>é•œåƒ ID</strong>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>ä»“åº“å:æ ‡ç­¾å</strong>ï¼Œä¾‹å¦‚ï¼š<code>centos:centos7</code>ã€‚</p><p>åˆå§‹å‘½ä»¤è¡¨ç¤ºä¸€æ—¦å®¹å™¨å¯åŠ¨ï¼Œéœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œæ­¤æ—¶ä½¿ç”¨ <code>/bin/bash</code>ï¼Œè¡¨ç¤ºä»€ä¹ˆä¹Ÿä¸åšï¼Œåªéœ€è¿›å…¥å‘½ä»¤è¡Œå³å¯ã€‚<br>è¿›å…¥å‘½ä»¤è¡ŒæŸ¥çœ‹ï¼š<code>$ ls -ll</code></p><h3><span id="å®‰è£…è½¯ä»¶-jdk-tomcat">å®‰è£…è½¯ä»¶ JDK + Tomcat</span></h3><p>ä¸ºäº†æ­å»º <code>Java Web</code> è¿è¡Œç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… <code>JDK</code> ä¸ <code>Tomcat</code>ã€‚</p><h4><span id="è½¯ä»¶ä¸‹è½½åœ°å€æ¨èå®˜ç½‘ä¸‹é¢ä¹Ÿæ˜¯å®˜ç½‘ä¸‹è½½è½¬å­˜å¯ç›´æ¥ä½¿ç”¨å‚è€ƒä¸Šé¢è½¯ä»¶ç°åœ¨åœ°å€å¹¶å­˜è‡³æœ¬æœºæŒ‡å®šç›®å½•">è½¯ä»¶ä¸‹è½½åœ°å€ï¼ˆæ¨èå®˜ç½‘ï¼Œä¸‹é¢ä¹Ÿæ˜¯å®˜ç½‘ä¸‹è½½è½¬å­˜å¯ç›´æ¥ä½¿ç”¨ï¼Œå‚è€ƒä¸Šé¢è½¯ä»¶ç°åœ¨åœ°å€ï¼Œå¹¶å­˜è‡³æœ¬æœºæŒ‡å®šç›®å½•ï¼‰</span></h4><p>ä¸‹é¢çš„ï¼ˆ<code>exit</code>å‘½ä»¤å‰ï¼‰è¿‡ç¨‹å‡åœ¨ <strong>å®¹å™¨å†…éƒ¨</strong> è¿›è¡Œã€‚æˆ‘ä»¬ä¸å¦¨é€‰æ‹© <code>/opt/</code> ç›®å½•ä½œä¸ºå®‰è£…ç›®å½•ï¼Œé¦–å…ˆéœ€è¦é€šè¿‡ <code>$ cd /opt/</code> å‘½ä»¤è¿›å…¥è¯¥ç›®å½•ã€‚</p><h4><span id="jdk">JDK</span></h4><p>ä½¿ç”¨å‘½ä»¤ è§£å‹ JDK ç¨‹åºåŒ… å¹¶é‡å‘½å JDK ç›®å½•ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /mnt/software/jdk7u79linuxx64.tar.gz -C . &amp;&amp; mv jdk1<span class="number">.7</span><span class="number">.0</span>_79/ jdk/</span><br></pre></td></tr></table></figure><h4><span id="tomcat">Tomcat</span></h4><p>ä½¿ç”¨å‘½ä»¤ è§£å‹ Tomcat ç¨‹åºåŒ… å¹¶é‡å‘½å Tomcat ç›®å½•ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /mnt/software/apache-tomcat<span class="number">-7.0</span><span class="number">.109</span>.tar.gz -C . &amp;&amp; mv apache-tomcat<span class="number">-7.0</span><span class="number">.109</span>/ tomcat/</span><br></pre></td></tr></table></figure><h4><span id="è®¾ç½®ç¯å¢ƒå˜é‡">è®¾ç½®ç¯å¢ƒå˜é‡</span></h4><p>ç¼–è¾‘ <code>.bashrc</code> æ–‡ä»¶</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~<span class="string">/.bashrc</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">JAVA_HOME</span>=/opt/jdk</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$PATH</span>:$JAVA_HOME</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>source</code> å‘½ä»¤ï¼Œè®©ç¯å¢ƒå˜é‡ç«‹é©¬ç”Ÿæ•ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h4><span id="ç¼–å†™è¿è¡Œè„šæœ¬">ç¼–å†™è¿è¡Œè„šæœ¬</span></h4><p>æˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªè¿è¡Œè„šæœ¬ï¼Œå½“å¯åŠ¨å®¹å™¨æ—¶ï¼Œè¿è¡Œè¯¥è„šæœ¬ï¼Œå¯åŠ¨ Tomcatï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>åˆ›å»ºè¿è¡Œè„šæœ¬å‘½ä»¤ï¼š <strong>&lt;è¿™é‡Œå®¹æ˜“å‡ºé”™äº†ï¼ï¼ï¼åœ¨ ~ç›®å½•ä¸‹æ‰§è¡Œ&gt;</strong></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /root/<span class="keyword">run</span>.<span class="bash">sh</span></span><br></pre></td></tr></table></figure><p>è„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line">sh /opt/tomcat/bin/catalina.sh run</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„ï¼š</strong> è¿™é‡Œå¿…é¡»å…ˆåŠ è½½ç¯å¢ƒå˜é‡ï¼Œç„¶åä½¿ç”¨ Tomcat çš„è¿è¡Œè„šæœ¬æ¥å¯åŠ¨ Tomcat æœåŠ¡ã€‚<br>ä¸ºè¿è¡Œè„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls -ll</span><br><span class="line">chmod u+x /root/run.sh</span><br><span class="line">ls -ll</span><br></pre></td></tr></table></figure><h4><span id="é€€å‡ºå®¹å™¨-exit">é€€å‡ºå®¹å™¨ exit</span></h4><p>å½“ä»¥ä¸Šæ­¥éª¤å…¨éƒ¨å®Œæˆåï¼Œå¯ä½¿ç”¨ <code>exit</code> å‘½ä»¤ï¼Œé€€å‡ºå®¹å™¨ã€‚</p><p>éšåï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼š</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker ps</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œæ‚¨åº”è¯¥çœ‹ä¸åˆ°ä»»ä½•æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œå› ä¸ºåˆšæ‰å·²ç»ä½¿ç”¨ <code>exit</code> å‘½ä»¤é€€å‡ºçš„å®¹å™¨ï¼Œæ­¤æ—¶å®¹å™¨å¤„äºåœæ­¢çŠ¶æ€ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼š</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker ps -a</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                        PORTS               NAMES</span><br><span class="line"><span class="number">2</span>abcd201f871        <span class="number">8652</span>b9f0cb4c        <span class="string">"/bin/bash"</span>         <span class="number">9</span> minutes ago       Exited (<span class="number">127</span>) <span class="number">13</span> seconds ago                       adoring_ellis</span><br></pre></td></tr></table></figure><p>è®°ä½ä»¥ä¸Š <code>CONTAINER IDï¼ˆå®¹å™¨ IDï¼‰</code>ï¼Œéšåæˆ‘ä»¬å°†é€šè¿‡è¯¥å®¹å™¨ï¼Œåˆ›å»ºä¸€ä¸ªå¯è¿è¡Œ Java Web çš„é•œåƒã€‚</p><h3><span id="åˆ›å»º-java-web-é•œåƒ">åˆ›å»º Java Web é•œåƒ</span></h3><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œæ ¹æ®æŸä¸ª<code>â€œå®¹å™¨ IDâ€</code>æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„â€œé•œåƒâ€ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit <span class="number">8652</span>b9f0cb4c cl9000/javaweb:v1</span><br></pre></td></tr></table></figure><p>è¯¥å®¹å™¨çš„ ID æ˜¯ <code>57c312bbaad1</code>ï¼Œæ‰€åˆ›å»ºçš„é•œåƒåæ˜¯ <code>cl9000/javaweb:v1</code>ï¼Œéšåå¯ä½¿ç”¨é•œåƒæ¥å¯åŠ¨ Java Web å®¹å™¨ã€‚</p><h3><span id="å¯åŠ¨-java-web-å®¹å™¨">å¯åŠ¨ Java Web å®¹å™¨</span></h3><p>é¦–å…ˆä½¿ç”¨ <code>$ docker images</code>å‘½ä»¤ï¼ŒæŸ¥çœ‹å½“å‰æ‰€æœ‰çš„é•œåƒï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">cl9000/javaweb      v1                  <span class="number">1</span>c8483e68cf9        <span class="number">9</span> seconds ago       <span class="number">525</span>MB</span><br><span class="line">centos              centos7             <span class="number">8652</span>b9f0cb4c        <span class="number">6</span> months ago        <span class="number">204</span>MB</span><br></pre></td></tr></table></figure><p>å¯è§ï¼Œæ­¤æ—¶å·²ç»çœ‹åˆ°äº†æœ€æ–°åˆ›å»ºçš„é•œåƒ <code>cl9000/javaweb:v1</code>ï¼Œå…¶é•œåƒ ID æ˜¯ <code>1c8483e68cf9</code>ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡â€œé•œåƒåâ€æˆ–â€œé•œåƒ IDâ€æ¥å¯åŠ¨å®¹å™¨ï¼Œä¸ä¸Šæ¬¡å¯åŠ¨å®¹å™¨ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨ä¸å†è¿›å…¥å®¹å™¨çš„å‘½ä»¤è¡Œï¼Œè€Œæ˜¯ç›´æ¥å¯åŠ¨å®¹å™¨å†…éƒ¨çš„ Tomcat æœåŠ¡ã€‚æ­¤æ—¶ï¼Œéœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p <span class="number">58080</span>:<span class="number">8080</span> --name javaweb cl9000/javaweb:v1 /root/run.sh</span><br><span class="line">ç¨ä½œè§£é‡Šï¼š</span><br><span class="line"></span><br><span class="line">-dï¼šè¡¨ç¤ºä»¥â€œå®ˆæŠ¤æ¨¡å¼â€æ‰§è¡Œ /root/run.sh è„šæœ¬ï¼Œæ­¤æ—¶ Tomcat æ§åˆ¶å°ä¸ä¼šå‡ºç°åœ¨è¾“å‡ºç»ˆç«¯ä¸Šã€‚</span><br><span class="line">-pï¼šè¡¨ç¤ºå®¿ä¸»æœºä¸å®¹å™¨çš„ç«¯å£æ˜ å°„ï¼Œæ­¤æ—¶å°†å®¹å™¨å†…éƒ¨çš„ <span class="number">8080</span> ç«¯å£æ˜ å°„ä¸ºå®¿ä¸»æœºçš„ <span class="number">58080</span> ç«¯å£ï¼Œè¿™æ ·å°±å‘å¤–ç•Œæš´éœ²äº† <span class="number">58080</span> ç«¯å£ï¼Œå¯é€šè¿‡ Docker ç½‘æ¡¥æ¥è®¿é—®å®¹å™¨å†…éƒ¨çš„ <span class="number">8080</span> ç«¯å£äº†ã€‚</span><br><span class="line">--nameï¼šè¡¨ç¤ºæ–°å®¹å™¨åç§°ï¼Œç”¨ä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§°å‘½åå³å¯ã€‚</span><br></pre></td></tr></table></figure><blockquote><p>å…³äº Docker ç½‘æ¡¥çš„å†…å®¹ï¼Œéœ€è¦è¡¥å……è¯´æ˜ä¸€ä¸‹ã€‚<br>å®é™…ä¸Š Docker åœ¨å®¿ä¸»æœºä¸å®¹å™¨ä¹‹é—´ï¼Œæ­å»ºäº†ä¸€åº§ç½‘ç»œé€šä¿¡çš„æ¡¥æ¢ï¼Œæˆ‘ä»¬å¯é€šè¿‡å®¿ä¸»æœº IP åœ°å€ä¸ç«¯å£å·æ¥æ˜ å°„å®¹å™¨å†…éƒ¨çš„ IP åœ°å€ä¸ç«¯å£å·</p></blockquote><p>å½“è¿è¡Œä»¥ä¸Šå‘½ä»¤åï¼Œä¼šç«‹å³è¾“å‡ºä¸€é•¿ä¸² <strong>å®¹å™¨ ID</strong>ï¼Œæˆ‘ä»¬å¯é€šè¿‡ <code>$ docker ps</code> å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES</span><br><span class="line"><span class="number">51</span>b562e7833b        cl9000/javaweb:v1   <span class="string">"/root/run.sh"</span>      <span class="number">13</span> seconds ago      Up <span class="number">12</span> seconds       <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">58080</span>-&gt;<span class="number">8080</span>/tcp   javaweb</span><br></pre></td></tr></table></figure><h3><span id="éªŒè¯">éªŒè¯</span></h3><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹åœ°å€ï¼Œå³å¯è®¿é—® Tomcat é¦–é¡µï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//localhost:58080/</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„ï¼š</strong> è¿™é‡Œä½¿ç”¨çš„æ˜¯<strong>å®¿ä¸»æœºçš„ IP</strong> åœ°å€ï¼Œä¸å¯¹å¤–æš´éœ²çš„ç«¯å£å· 58080ï¼Œå®ƒæ˜ å°„å®¹å™¨å†…éƒ¨çš„ç«¯å£å· 8080ã€‚</p></blockquote><h2><span id="ä½¿ç”¨-dockerfile-æ„å»ºé•œåƒ-æ–¹å¼">ä½¿ç”¨ Dockerfile æ„å»ºé•œåƒ æ–¹å¼</span></h2><p>æˆ‘ä»¬åœ¨Macæœ¬æœºæ¡Œé¢æ–°å»º <code>/docker/Docker/</code>ç›®å½•ï¼Œç¼–å†™ä¸€ä¸ª <strong>Dockerfile</strong> æ–‡ä»¶ï¼Œéšåä½¿ç”¨ <code>$ docker build</code> å‘½ä»¤ä¹Ÿå¯å®Œæˆä»¥ä¸Šæ‰€æœ‰çš„æ‰‹å·¥æ„å»ºæ“ä½œã€‚<br>å°†ä¸‹è½½çš„ <code>jdk+tomcat</code>å‹ç¼©åŒ…ï¼Œ ä¹Ÿå¤åˆ¶è‡³äº <code>Dockerfile</code> åŒçº§ç›®å½•</p><h3><span id="dockerfile-æ–‡ä»¶è„šæœ¬">Dockerfile æ–‡ä»¶è„šæœ¬</span></h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#################################################################################</span><br><span class="line"># æŒ‡å®šåŸºç¡€é•œåƒï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ç¬¬ä¸€æ¡æŒ‡ä»¤</span><br><span class="line">FROM centos:centos7</span><br><span class="line"></span><br><span class="line"># æŒ‡æ˜è¯¥é•œåƒçš„ä½œè€…å’Œå…¶ç”µå­é‚®ä»¶</span><br><span class="line">MAINTAINER cl9000 <span class="string">"cl9000@126.com"</span></span><br><span class="line"></span><br><span class="line"># åœ¨æ„å»ºé•œåƒæ—¶ï¼ŒæŒ‡å®šé•œåƒçš„å·¥ä½œç›®å½•ï¼Œä¹‹åçš„å‘½ä»¤éƒ½æ˜¯åŸºäºæ­¤å·¥ä½œç›®å½•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºç›®å½•</span><br><span class="line">#WORKDIR /opt/docker</span><br><span class="line"></span><br><span class="line"># å®‰è£… wget</span><br><span class="line">#RUN yum install -y wget</span><br><span class="line"></span><br><span class="line"># ä¸€ä¸ªå¤åˆ¶å‘½ä»¤ï¼ŒæŠŠjdkå®‰è£…æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒä¸­ï¼Œè¯­æ³•ï¼šADD &lt;src&gt;... &lt;dest&gt;,æ³¨æ„ï¼šjdk*.tar.gzä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„</span><br><span class="line"># å®‰è£… JDK</span><br><span class="line"># ç¬¬ä¸€ç§å†™æ³• jdkå’ŒDockerfileåŒçº§ç›®å½•å°±ä½¿ç”¨ä¸‹è·¯å¾„ï¼Œå¦è€…ä½¿ç”¨ç›¸å¯¹è·¯å¾„</span><br><span class="line">ADD jdk7u79linuxx64.tar.gz /opt/docker/</span><br><span class="line">RUN mv /opt/docker/jdk1<span class="number">.7</span><span class="number">.0</span>_79/ /opt/docker/jdk1<span class="number">.7</span>/</span><br><span class="line">#ç¬¬äºŒç§å†™æ³•</span><br><span class="line">#RUN tar xzf jdk7u79linuxx64.tar.gz -C /opt/docker/jdk1<span class="number">.7</span>/</span><br><span class="line"># &amp;&amp; rm -rf jdk7u79linuxx64.tar.gz</span><br><span class="line"></span><br><span class="line"># å®‰è£… tomcat </span><br><span class="line">ADD apache-tomcat<span class="number">-7.0</span><span class="number">.109</span>.tar.gz /opt/docker/</span><br><span class="line">RUN mv /opt/docker/apache-tomcat<span class="number">-7.0</span><span class="number">.109</span>/ /opt/docker/tomcat7/</span><br><span class="line"></span><br><span class="line"># é…ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">ENV JAVA_HOME=/opt/docker/jdk1<span class="number">.7</span></span><br><span class="line">ENV CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line">ENV PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line"></span><br><span class="line"># å¼€å¯å†…éƒ¨æœåŠ¡ç«¯å£</span><br><span class="line">#EXPOSE <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"># å¯åŠ¨tomcatæœåŠ¡å™¨</span><br><span class="line">CMD [<span class="string">"./opt/docker/tomcat7/bin/catalina.sh"</span>,<span class="string">"run"</span>] </span><br><span class="line">#&amp;&amp; tail -f /opt/docker/tomcat7/logs/catalina.out</span><br><span class="line"></span><br><span class="line"># å®¹å™¨å¯åŠ¨æ—¶éœ€è¦æ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line">#CMD [<span class="string">"java"</span>,<span class="string">"-version"</span>]</span><br><span class="line"></span><br><span class="line">#################################################################################</span><br></pre></td></tr></table></figure><h3><span id="ä½¿ç”¨-dockerfile-æ„å»º-ç›¸å…³å‘½ä»¤">ä½¿ç”¨ Dockerfile æ„å»º - ç›¸å…³å‘½ä»¤</span></h3><h4><span id="æ„å»º">æ„å»º</span></h4><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">docker</span> <span class="keyword">build </span>-t cl9000/javaweb2:<span class="built_in">v1</span> .</span><br></pre></td></tr></table></figure><p><code>.</code> è¡¨ç¤º <code>Dockerfile</code> åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹ï¼Œä¹Ÿå¯ä½¿ç”¨ç»å¯¹è·¯å¾„<code>ï¼ˆ/path/Dockerfileï¼‰</code>æ¥è¡¨ç¤º</p><h4><span id="è¿è¡Œå®¹å™¨">è¿è¡Œå®¹å™¨</span></h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span> -it  -p 58081:8080 <span class="attribute">--name</span>=javaweb-test cl9000/javaweb2:v1</span><br></pre></td></tr></table></figure><h4><span id="æµè§ˆå™¨éªŒè¯">æµè§ˆå™¨éªŒè¯</span></h4><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//localhost:58081/   æ­£å¸¸è®¿é—® Tomcat å³å¯</span></span><br></pre></td></tr></table></figure><h2><span id="æ‰‹åŠ¨æ„å»ºé•œåƒ-ç›¸å…³å‘½ä»¤æ±‡æ€»">æ‰‹åŠ¨æ„å»ºé•œåƒ - ç›¸å…³å‘½ä»¤æ±‡æ€»</span></h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#################################################################################</span><br><span class="line">docker ps</span><br><span class="line">docker ps -a</span><br><span class="line">docker images</span><br><span class="line">docker run -i -t -v ~/Desktop/docker/software/:/mnt/software/ <span class="number">8652</span>b9f0cb4cï¼ˆçº¯å‡€centoså®¹å™¨IDï¼‰ /bin/bash</span><br><span class="line">ls -ll</span><br><span class="line">cd opt/</span><br><span class="line">tar -zxf /mnt/software/jdk7u79linuxx64.tar.gz -C .</span><br><span class="line">mv jdk1<span class="number">.7</span><span class="number">.0</span>_79/ jdk/</span><br><span class="line">tar -zxf /mnt/software/apache-tomcat<span class="number">-7.0</span><span class="number">.109</span>.tar.gz -C .</span><br><span class="line">mv apache-tomcat<span class="number">-7.0</span><span class="number">.109</span>/ tomcat/</span><br><span class="line">vi ~/.bashrc</span><br><span class="line"> <span class="keyword">export</span> JAVA_HOME=/opt/jdk</span><br><span class="line"> <span class="keyword">export</span> PATH=$PATH:$JAVA_HOME</span><br><span class="line">source ~/.bashrc</span><br><span class="line">vi /root/run.sh  &lt;è¿™é‡Œå®¹æ˜“å‡ºé”™äº†ï¼ï¼ï¼åœ¨ ~ç›®å½•ä¸‹æ‰§è¡Œ&gt;</span><br><span class="line">  #!/bin/bash</span><br><span class="line">  source ~/.bashrc</span><br><span class="line">  sh /opt/tomcat/bin/catalina.sh run</span><br><span class="line">chmod u+x /root/run.sh</span><br><span class="line">exit</span><br><span class="line">docker ps</span><br><span class="line">docker ps -a</span><br><span class="line">docker commit <span class="number">8652</span>b9f0cb4c cl9000/javaweb:v1</span><br><span class="line">docker images</span><br><span class="line">docker run -d -p <span class="number">58080</span>:<span class="number">8080</span> --name javaweb cl9000/javaweb:v1 /root/run.sh</span><br><span class="line">docker ps</span><br><span class="line">#################################################################################</span><br></pre></td></tr></table></figure><h2><span id="ç›¸å…³èµ„æº">ç›¸å…³èµ„æº</span></h2><p>ã€apache-tomcat-7.0.109.tar.gzã€‘é“¾æ¥: <a href="https://pan.baidu.com/s/1zbQFvCjdCj6af8E3PQEhFg" target="_blank" rel="noopener">https://pan.baidu.com/s/1zbQFvCjdCj6af8E3PQEhFg</a> å¯†ç :uw1d<br>ã€jdk7u79linuxx64.tar.gzã€‘é“¾æ¥:<a href="https://pan.baidu.com/s/1QjXLbtx-eWKYPylkd7aSbQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1QjXLbtx-eWKYPylkd7aSbQ</a> å¯†ç :xp49</p><h2><span id="ç›¸å…³å‘½ä»¤è¡Œå›¾">ç›¸å…³å‘½ä»¤è¡Œå›¾</span></h2><h4><span id="æ‰‹åŠ¨æ„å»ºå›¾">æ‰‹åŠ¨æ„å»ºå›¾</span></h4><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/docker_jdk7_tomcat7_1.png" alt="docker_jdk7_tomcat7_1"><br><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/docker_jdk7_tomcat7_2.png" alt="docker_jdk7_tomcat7_2"></p><h4><span id="dockerfileæ„å»ºå›¾">Dockerfileæ„å»ºå›¾</span></h4><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/docker_Dockerfile_1.png" alt="docker_Dockerfile_1"></p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://blog.csdn.net/weixin_48182198/article/details/106645330" target="_blank" rel="noopener">æ‰‹åŠ¨æ„å»º https://blog.csdn.net/weixin_48182198/article/details/106645330</a></li><li><a href="https://blog.csdn.net/yjk13703623757/article/details/68944549?utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control" target="_blank" rel="noopener">Dockerfileæ„å»º - https://blog.csdn.net/yjk13703623757/article/details/68944549?utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control</a></li><li><a href="https://www.oracle.com/java/technologies/javase-downloads.html" target="_blank" rel="noopener">Oracle - https://www.oracle.com/java/technologies/javase-downloads.html</a></li><li><a href="https://hub.docker.com" target="_blank" rel="noopener">DockerHub - https://hub.docker.com</a></li></ul><h2><span id="dockerèµ„æº">Dockerèµ„æº</span></h2><h4><span id="dockerå®˜æ–¹è‹±æ–‡èµ„æº">Dockerå®˜æ–¹è‹±æ–‡èµ„æºï¼š</span></h4><p>docker å®˜ç½‘ï¼š<a href="http://www.docker.com" target="_blank" rel="noopener">http://www.docker.com</a><br>Docker windowså…¥é—¨ï¼š<a href="https://docs.docker.com/windows/" target="_blank" rel="noopener">https://docs.docker.com/windows/</a><br>Docker Linux å…¥é—¨ï¼š<a href="https://docs.docker.com/linux/" target="_blank" rel="noopener">https://docs.docker.com/linux/</a><br>Docker mac å…¥é—¨ï¼š<a href="https://docs.docker.com/mac/" target="_blank" rel="noopener">https://docs.docker.com/mac/</a><br>Docker ç”¨æˆ·æŒ‡å¼•ï¼š<a href="https://docs.docker.com/engine/userguide/" target="_blank" rel="noopener">https://docs.docker.com/engine/userguide/</a><br>Docker å®˜æ–¹åšå®¢ï¼š<a href="http://blog.docker.com/" target="_blank" rel="noopener">http://blog.docker.com/</a><br>Docker Hub: <a href="https://hub.docker.com/" target="_blank" rel="noopener">https://hub.docker.com/</a><br>Dockerå¼€æºï¼š <a href="https://www.docker.com/open-source" target="_blank" rel="noopener">https://www.docker.com/open-source</a></p><h4><span id="dockerä¸­æ–‡èµ„æº">Dockerä¸­æ–‡èµ„æºï¼š</span></h4><p>Dockerä¸­æ–‡ç½‘ç«™ï¼š<a href="http://www.docker.org.cn" target="_blank" rel="noopener">http://www.docker.org.cn</a><br>Dockerå…¥é—¨æ•™ç¨‹: <a href="http://www.docker.org.cn/book/docker.html" target="_blank" rel="noopener">http://www.docker.org.cn/book/docker.html</a><br>Dockerå®‰è£…æ‰‹å†Œï¼š<a href="http://www.docker.org.cn/book/install.html" target="_blank" rel="noopener">http://www.docker.org.cn/book/install.html</a><br>ä¸€å°æ—¶Dockeræ•™ç¨‹ ï¼š<a href="https://blog.csphere.cn/archives/22" target="_blank" rel="noopener">https://blog.csphere.cn/archives/22</a><br>Dockerçº¸è´¨ä¹¦ï¼š<a href="http://www.docker.org.cn/dockershuji.html" target="_blank" rel="noopener">http://www.docker.org.cn/dockershuji.html</a><br>DockerPPTï¼š<a href="http://www.docker.org.cn/dockerppt.html" target="_blank" rel="noopener">http://www.docker.org.cn/dockerppt.html</a></p><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ¯å¤©åšä¸€ä»¶è‡ªå·±å®³æ€•çš„äº‹ã€‚â€”â€”&amp;lt;åŸƒè‰è¯ºÂ·ç½—æ–¯ç¦&amp;gt;&lt;/p&gt;
&lt;p&gt;Docker æ‰‹åŠ¨æ–¹å¼ æ­å»º JavaWeb è¿è¡Œç¯å¢ƒé•œåƒ(JDK7-Tomcat7)&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;å‰ææ¡ä»¶&quot;&gt;å‰ææ¡ä»¶&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;å®‰è£…Dockerã€‚&lt;br
      
    
    </summary>
    
    
      <category term="Docker" scheme="https://cl9000.github.io/categories/Docker/"/>
    
    
      <category term="Docker" scheme="https://cl9000.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­æ‹†åˆ†å­—ç¬¦ä¸²</title>
    <link href="https://cl9000.github.io/2021/04/04/Javascript%E4%B8%AD%E6%8B%86%E5%88%86%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <id>https://cl9000.github.io/2021/04/04/Javascript%E4%B8%AD%E6%8B%86%E5%88%86%E5%AD%97%E7%AC%A6%E4%B8%B2/</id>
    <published>2021-04-04T09:42:09.000Z</published>
    <updated>2021-06-09T09:47:32.060Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ›é€ æ€§å°±æ˜¯å‘æ˜ã€å®éªŒã€æˆé•¿ã€å†’é™©ã€çŠ¯è§„ã€çŠ¯é”™å’Œäº«å—ä¹è¶£ã€‚ â€”â€”&lt;ç›ä¸½Â·å¢Â·åº“å…‹&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>JavaScript æœ‰å¾ˆå¤šæœ‰ç”¨çš„å†…ç½®å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯<code>split()</code>æ–¹æ³•ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»”ç»†ç ”ç©¶ <code>split()</code> æ–¹æ³•ä»¥åŠå¦‚ä½•å°†å…¶ä¸æ­£åˆ™è¡¨è¾¾å¼ç»“åˆä½¿ç”¨ä»¥æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼æ‹†åˆ†é•¿å­—ç¬¦ä¸²ã€‚</p><h2><span id="javascript-çš„splitæ–¹æ³•">JavaScript çš„split()æ–¹æ³•</span></h2><p>å½“ <code>split(delimiter, limit)</code>æ–¹æ³•ç”¨äºå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒè¿”å›ä¸€ä¸ªå­å­—ç¬¦ä¸²æ•°ç»„ï¼Œå¹¶ä½¿ç”¨ <code>delimiter</code> å‚æ•°çš„å€¼ä½œä¸ºåˆ†éš”ç¬¦ã€‚<code>delimiter</code>å‚æ•°è¿˜å¯ä»¥æŒ‡å®šä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œç„¶åå°†é€šè¿‡ä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²æœç´¢æ‰¾åˆ°åŒ¹é…æŒ‡å®šè¡¨è¾¾å¼çš„åˆ†éš”ç¬¦ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå¯é€‰å‚æ•° <code>limit</code>ï¼Œå®ƒæŒ‡å®šæˆ‘ä»¬æƒ³è¦çš„ç»“æœå­å­—ç¬¦ä¸²æ•°ç»„ä¸­æœ‰å¤šå°‘å…ƒç´ ã€‚<code>limit=2</code> ä¾‹å¦‚ï¼Œè®¾ç½®å°†äº§ç”Ÿä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«åŸå§‹å­—ç¬¦ä¸²ä¸­ç”±åˆ†éš”ç¬¦åˆ†éš”çš„å‰ä¸¤ä¸ªå­å­—ç¬¦ä¸²ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">"JavaScript is the best programming language!"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> words = str.split(<span class="string">" "</span>);</span><br><span class="line"><span class="built_in">console</span>.log(words);</span><br><span class="line"><span class="comment">// è¿™é‡Œï¼Œå­—ç¬¦ä¸²å°†è¢«åˆ†è§£ä¸ºæ¯ä¸ªæ–°å•è¯ï¼š</span></span><br><span class="line"><span class="comment">// ["JavaScript", "is", "the", "best", "programming", "language!" ]</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬å°†åˆ†éš”ç¬¦è®¾ç½®ä¸ºå…¶ä»–å†…å®¹ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chars = str.split(<span class="string">""</span>);</span><br><span class="line"><span class="built_in">console</span>.log(chars);</span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²å°†åœ¨æ¯ä¸ªå­—ç¬¦ä¸Šåˆ†è§£ï¼š</span></span><br><span class="line"><span class="comment">// ["J", "a", "v", "a", "S", "c", "r", "i", "p", "t", " ", "i", "s", " ", "t", "h", "e", " ", "b", "e", "s", "t", " ", "p", "r", "o", "g", "r", "a", "m", "m", "i", "n", "g", " ", "l", "a", "n", "g", "u", "a", "g", "e", "!"]</span></span><br></pre></td></tr></table></figure><h2><span id="ä½¿ç”¨-split-æ–¹æ³•çš„æ­£åˆ™è¡¨è¾¾å¼">ä½¿ç”¨ split() æ–¹æ³•çš„æ­£åˆ™è¡¨è¾¾å¼</span></h2><p>ç°åœ¨æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº† <code>split()</code> æ–¹æ³•çš„ä½¿ç”¨ï¼Œè®©æˆ‘ä»¬æ›´ä¸Šä¸€å±‚æ¥¼ï¼Œå¹¶åœ¨ç»„åˆä¸­å¼•å…¥æ­£åˆ™è¡¨è¾¾å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> paragraph = <span class="string">`The Answer to the Ultimate Question of Life, the Universe, and Everything is 42. Forty two. That's all there is.`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Split by words</span></span><br><span class="line"><span class="keyword">const</span> words = paragraph.split(<span class="string">" "</span>);</span><br><span class="line"><span class="built_in">console</span>.log(words[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Split by sentences</span></span><br><span class="line"><span class="keyword">const</span> sentences = paragraph.split(<span class="regexp">/[!?.]/</span>);</span><br><span class="line"><span class="built_in">console</span>.log(sentences[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Split all characters, with a limit of 2</span></span><br><span class="line"><span class="keyword">const</span> firstTwoChars = paragraph.split(<span class="string">""</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(firstTwoChars);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Split and reverse</span></span><br><span class="line"><span class="keyword">const</span> reverse = paragraph.split(<span class="string">""</span>).reverse().join(<span class="string">""</span>);</span><br><span class="line"><span class="built_in">console</span>.log(reverse);</span><br></pre></td></tr></table></figure><p><strong>ç»“æœ :</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">to</span><br><span class="line"> Forty two</span><br><span class="line">[<span class="string">"T"</span>, <span class="string">"h"</span> ]</span><br><span class="line"><span class="number">.24</span> si gnihtyrevE dna ,esrevinU eht ,efiL fo noitseuQ etamitlU eht ot rewsnA ehT</span><br></pre></td></tr></table></figure><p>åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¼ é€’ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä½œä¸º <code>split()</code> æ–¹æ³•çš„å‚æ•°ã€‚</p><ul><li><code>/[!?.]/</code> ä»£è¡¨ä¸€ä¸ªå­—ç¬¦é›† -  <code>!</code> æˆ– <code>?</code>æˆ– <code>.</code></li></ul><p>ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬åœ¨ä»»ä½•æŒ‡å®šçš„å­—ç¬¦å¤„æ‹†åˆ†å­—ç¬¦ä¸²ã€‚</p><p>åœ¨ç¬¬ä¸‰ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°† <code>2</code> ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ï¼Œå°†ç»“æœå­å­—ç¬¦ä¸²æ•°ç»„é™åˆ¶ä¸ºä¸¤ä¸ªå…ƒç´ ã€‚</p><p>åœ¨æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å†…ç½® <code>reverse()</code>æ–¹æ³•åè½¬å­—ç¬¦ä¸²ã€‚å› ä¸º<code>reverse()</code>æ˜¯æ•°ç»„æ–¹æ³•ï¼Œæˆ‘ä»¬å…ˆå°†åŸå§‹å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºå•ä¸ªå­—ç¬¦çš„æ•°ç»„ï¼Œé€šè¿‡ä½¿ç”¨è¯¥ <code>split(&quot;&quot;)</code>æ–¹æ³•ï¼Œç„¶åå†ä½¿ç”¨<code>reverse()</code>ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥ <code>join()</code>å°†ç»“æœä»å­—ç¬¦æ•°ç»„ä¸­åˆ›å»ºä¸€ä¸ªåå‘å­—ç¬¦ä¸²ã€‚</p><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¿«é€Ÿäº†è§£äº†å¦‚ä½•åœ¨ vanilla JavaScript ä¸­æ‹†åˆ†å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å·²ç»è®¨è®ºäº†å†…ç½® <code>split()</code> æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•å°†å®ƒä¸æ­£åˆ™è¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ã€‚</p><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åˆ›é€ æ€§å°±æ˜¯å‘æ˜ã€å®éªŒã€æˆé•¿ã€å†’é™©ã€çŠ¯è§„ã€çŠ¯é”™å’Œäº«å—ä¹è¶£ã€‚ â€”â€”&amp;lt;ç›ä¸½Â·å¢Â·åº“å…‹&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;JavaScript æœ‰å¾ˆå¤šæœ‰ç”¨çš„å†…ç½®å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯&lt;code&gt;split()&lt;/co
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥å­å­—ç¬¦ä¸²å¼€å¤´</title>
    <link href="https://cl9000.github.io/2021/04/04/Javascript%E4%B8%AD%E6%A3%80%E6%9F%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E4%BB%A5%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BC%80%E5%A4%B4/"/>
    <id>https://cl9000.github.io/2021/04/04/Javascript%E4%B8%AD%E6%A3%80%E6%9F%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E4%BB%A5%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BC%80%E5%A4%B4/</id>
    <published>2021-04-04T09:34:54.000Z</published>
    <updated>2021-06-09T09:41:30.043Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨äº‹æƒ…æˆåŠŸä¹‹å‰ï¼Œä¸€åˆ‡æ€»çœ‹ä¼¼ä¸å¯èƒ½ã€‚â€”â€”&lt;çº³å°”é€ŠÂ·æ›¼å¾·æ‹‰&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•åœ¨ JavaScript ä¸­æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥å­å­—ç¬¦ä¸²å¼€å¤´ã€‚</p><p>è¿™å¯ä»¥é€šè¿‡ <code>startsWith()</code> æ–¹æ³•æˆ–æ­£åˆ™è¡¨è¾¾å¼è½»æ¾å®ç°ã€‚</p><h2><span id="ä½¿ç”¨startswithæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¼€å¤´">ä½¿ç”¨startsWith()æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¼€å¤´</span></h2><p><code>startsWith(searchString[, position])</code> æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­—ç¬¦å¼€å¤´ <code>searchString</code>ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨ <code>position</code> å‚æ•°æ¥æŒ‡å®šå¼€å§‹æœç´¢çš„å­—ç¬¦ä¸²ä½ç½®ã€‚</p><p>æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">"This is an example for startsWith() method"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.startsWith(<span class="string">"This"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(str.startsWith(<span class="string">"is"</span>, <span class="number">2</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨æ£€æŸ¥<code>str</code>å­—ç¬¦ä¸²æ˜¯å¦ä»¥<code>&quot;This&quot;</code>å¼€å¤´.</p><p>åœ¨ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ£€æŸ¥<code>str</code>æ˜¯å¦ä»¥ <code>&quot;is&quot;</code> å¼€å¤´ï¼Œæ˜¯å¦ä»ç´¢å¼• <code>2</code>ï¼ˆå³ç¬¬ <code>3</code>ä¸ªå­—ç¬¦ï¼‰å¼€å§‹æœç´¢ã€‚</p><h2><span id="ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¼€å¤´">ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¼€å¤´</span></h2><p>æ­£åˆ™è¡¨è¾¾å¼çœŸçš„å¾ˆå¼ºå¤§ï¼Œå¯ä»¥è®©æˆ‘ä»¬åŒ¹é…å„ç§æ¨¡å¼ã€‚è¿™å¯¹ä»–ä»¬æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç”¨ä¾‹ï¼Œå› ä¸ºæˆ‘ä»¬æœ¬è´¨ä¸Šæ˜¯åœ¨æ£€æŸ¥æ¨¡å¼ - å¦‚æœå­—ç¬¦ä¸²ä»¥å­å­—ç¬¦ä¸²å¼€å¤´ã€‚</p><p><code>regexObj.test(reg)</code>æ–¹æ³•å°è¯•å°†æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼<code>reg</code>ä¸åŸå§‹å­—ç¬¦ä¸²åŒ¹é…å¹¶è¿”å›ä¸€ä¸ª<code>boolean</code>å€¼ï¼Œè¯¥å€¼æŒ‡ç¤ºæ˜¯å¦æ‰¾åˆ°åŒ¹é…é¡¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">"hello world"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> regEx = <span class="regexp">/^he/</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(regEx.test(str)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬æ£€æŸ¥<code>regEx</code>æ˜¯å¦å‡ºç°åœ¨ <code>str</code> string ä¸­ã€‚<code>^</code>å…ƒå­—ç¬¦è¡¨ç¤ºæ‰€æŒ‡å®šçš„æ¨¡å¼ <code>he</code> å¿…é¡»æ˜¯ä½äºè¡Œçš„å¼€å¤´ã€‚å› æ­¤ï¼Œæ­£åˆ™è¡¨è¾¾å¼ - <code>/^he/</code> æ£€æŸ¥æŒ‡å®šçš„è¡Œæ˜¯å¦ä»¥ <code>he</code> substring å¼€å¤´ã€‚</p><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶äº†å¦‚ä½•ä½¿ç”¨ <code>startsWith()</code>æ–¹æ³•ä»¥åŠæ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ vanilla JavaScript ä¸­çš„å­å­—ç¬¦ä¸²å¼€å¤´</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/javascript-check-if-string-starts-with-substring" target="_blank" rel="noopener">https://stackabuse.com/javascript-check-if-string-starts-with-substring</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨äº‹æƒ…æˆåŠŸä¹‹å‰ï¼Œä¸€åˆ‡æ€»çœ‹ä¼¼ä¸å¯èƒ½ã€‚â€”â€”&amp;lt;çº³å°”é€ŠÂ·æ›¼å¾·æ‹‰&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•åœ¨ JavaScript ä¸­æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥å­å­—ç¬¦ä¸²å¼€å¤´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å¯ä»¥é€šè¿‡ &lt;code&gt;
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­å°†æ•°ç»„æ‹†åˆ†ä¸ºå¶æ•°å—</title>
    <link href="https://cl9000.github.io/2021/03/26/Javascript%E4%B8%AD%E5%B0%86%E6%95%B0%E7%BB%84%E6%8B%86%E5%88%86%E4%B8%BA%E5%81%B6%E6%95%B0%E5%9D%97/"/>
    <id>https://cl9000.github.io/2021/03/26/Javascript%E4%B8%AD%E5%B0%86%E6%95%B0%E7%BB%84%E6%8B%86%E5%88%86%E4%B8%BA%E5%81%B6%E6%95%B0%E5%9D%97/</id>
    <published>2021-03-26T12:23:20.000Z</published>
    <updated>2021-06-10T14:32:54.491Z</updated>
    
    <content type="html"><![CDATA[<p>è¾¾åˆ°å®Œç¾å¢ƒç•Œå¹¶ä¸æ˜¯æ— ä»¥å¤åŠ ï¼Œè€Œæ˜¯æ— å¯å»é™¤ã€‚â€”â€”&lt;å®‰æ‰˜ä¸‡Â·å¾·Â·åœ£Â·åŸƒå…‹è‹ä½©é‡Œ&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>æ•°ç»„æ˜¯ <code>JavaScript</code> ç¼–ç¨‹ä¸­æœ€å¸¸ç”¨çš„ç»“æ„ä¹‹ä¸€ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆäº†è§£å®ƒçš„å†…ç½®æ–¹æ³•ï¼ˆä¾‹å¦‚å£è¢‹çš„èƒŒé¢ï¼‰å¾ˆé‡è¦çš„åŸå› ã€‚</p><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹åœ¨ <code>JavaScript</code> ä¸­å¦‚ä½•å°†æ•°ç»„æ‹†åˆ†ä¸º <code>n</code> ä¸åŒå¤§å°çš„å—ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>ä½¿ç”¨ <code>slice()</code> æ–¹æ³•å’Œ <code>for</code> å¾ªç¯</li><li>ä½¿ç”¨ <code>splice()</code> æ–¹æ³•å’Œ <code>while</code> å¾ªç¯</li></ul><h2><span id="ä½¿ç”¨-slice-æ–¹æ³•å°†æ•°ç»„æ‹†åˆ†ä¸ºå¶æ•°å—">ä½¿ç”¨ slice() æ–¹æ³•å°†æ•°ç»„æ‹†åˆ†ä¸ºå¶æ•°å—</span></h2><p>æå–æ•°ç»„å—çš„æœ€ç®€å•æ–¹æ³•ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼Œå°†å…¶åˆ‡ç‰‡ï¼Œæ˜¯ä»¥ä¸‹ <code>slice()</code> æ–¹æ³•ï¼š</p><blockquote><p><code>slice(start, end)</code> - è¿”å›è¢«è°ƒç”¨æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨ <code>start</code> å’Œ <code>end</code> ç´¢å¼•ä¹‹é—´ã€‚</p></blockquote><p>æ³¨ï¼šè¿™ä¸¤ä¸ª <code>start</code> å’Œ <code>end</code> å¯è´Ÿæ•´æ•°ï¼Œè¿™åªæ˜¯è¡¨ç¤ºï¼Œä»–ä»¬æ­£åœ¨ä»æ•°ç»„çš„æœ«å°¾åˆ—ä¸¾ã€‚<code>-1</code> æ˜¯æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ<code>-2</code> å€’æ•°ç¬¬äºŒä¸ªç­‰ç­‰â€¦</p><p>è¿”å›çš„æ•°ç»„ <code>slice()</code> è¿”å›ä¸€ä¸ªæµ…æ‹·è´ï¼Œè¿™æ„å‘³ç€åŸå§‹æ•°ç»„ä¸­çš„ä»»ä½•å¼•ç”¨éƒ½å°†æŒ‰åŸæ ·å¤åˆ¶ï¼Œå¹¶ä¸”ä¸ä¼šä¸ºå…¨æ–°çš„å¯¹è±¡åˆ†é…å†…å­˜ã€‚</p><p>å› æ­¤ï¼Œè¦å°†åˆ—è¡¨æˆ–æ•°ç»„åˆ‡æˆå¶æ•°å—ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹ <code>slice()</code> æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sliceIntoChunks</span>(<span class="params">arr, chunkSize</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> res = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i += chunkSize) &#123;</span><br><span class="line">        <span class="keyword">const</span> chunk = arr.slice(i, i + chunkSize);</span><br><span class="line">        res.push(chunk);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>];</span><br><span class="line"><span class="built_in">console</span>.log(sliceIntoChunks(arr, <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿è¡Œä¸Šé¢çš„ä»£ç ä¼šäº§ç”Ÿä»¥ä¸‹è¾“å‡ºï¼š</span></span><br><span class="line">[[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ], [ <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> ], [ <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> ], [ <span class="number">10</span> ]]</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°† <code>arr</code> åˆ†è§£ä¸ºå¤§å°ä¸º <code>3</code> çš„æ›´å°çš„å—ï¼Œæ–¹æ³•æ˜¯éå†æ•°ç»„å¹¶å°†å…¶åˆ‡ç‰‡ä¸ºæ¯ä¸ª <code>chunkSize</code> ã€‚åœ¨æœ€åä¸€æ¬¡è¿­ä»£ä¸­ï¼Œåªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ <code>(10)</code>ï¼Œå®ƒå¿…é¡»ç»„æˆè‡ªå·±çš„å—ã€‚</p><h2><span id="ä½¿ç”¨-splice-æ–¹æ³•å°†æ•°ç»„åˆ†å‰²æˆå¶æ•°å—">ä½¿ç”¨ splice() æ–¹æ³•å°†æ•°ç»„åˆ†å‰²æˆå¶æ•°å—</span></h2><p>å°½ç®¡ <code>splice()</code> æ–¹æ³•çœ‹èµ·æ¥ä¸ <code>slice()</code> æ–¹æ³•ç±»ä¼¼ï¼Œä½†å®ƒçš„ä½¿ç”¨å’Œå‰¯ä½œç”¨æ˜¯éå¸¸ä¸åŒçš„ã€‚è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Splice does the following two things:</span></span><br><span class="line"><span class="comment">// 1. Removes deleteCount elements starting from startIdx (in-place)</span></span><br><span class="line"><span class="comment">// 2. Inserts the provided new elements (newElem1, newElem2...) into myArray starting with index startIdx (also in-place)</span></span><br><span class="line"><span class="comment">// The return value of this method is an array that contains all the deleted elements</span></span><br><span class="line">myArray.splice(startIdx, deleteCount, newElem1, newElem2...)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arrTest = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> chunk = arrTest.splice(<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(chunk) <span class="comment">// [2, 3]</span></span><br><span class="line"><span class="built_in">console</span>.log(arrTest) <span class="comment">// [1, 4]</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä»£ç ç¤ºä¾‹æ¥çœ‹çœ‹å®ƒçš„å®é™…æ•ˆæœï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">spliceIntoChunks</span>(<span class="params">arr, chunkSize</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> res = [];</span><br><span class="line">    <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> chunk = arr.splice(<span class="number">0</span>, chunkSize);</span><br><span class="line">        res.push(chunk);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>];</span><br><span class="line"><span class="built_in">console</span>.log(spliceIntoChunks(arr, <span class="number">2</span>));</span><br><span class="line"><span class="comment">// è¿è¡Œæ­¤ä»£ç äº§ç”Ÿï¼š</span></span><br><span class="line"><span class="comment">// [ [ 1, 2 ], [ 3, 4 ], [ 5, 6 ], [ 7, 8 ] ]</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>while</code> å¾ªç¯æ¥éå†æ•°ç»„ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬æ‰§è¡Œæ‹¼æ¥æ“ä½œå¹¶å°†æ¯ä¸ªå—æ¨é€åˆ°ç»“æœæ•°ç»„ä¸­ï¼Œç›´åˆ°åŸå§‹æ•°ç»„ä¸­æ²¡æœ‰æ›´å¤šå…ƒç´  <code>( arr.length &gt; 0)</code>ã€‚</p><p>éœ€è¦æ³¨æ„çš„ä¸€ä¸ªéå¸¸é‡è¦çš„äº‹æƒ…æ˜¯ <code>splice()</code> æ›´æ”¹äº†åŸå§‹æ•°ç»„ã€‚å…¶ä¸­ <code>asslice()</code> åˆ›å»ºäº†åŸå§‹æ•°ç»„çš„å‰¯æœ¬ï¼Œå› æ­¤åŸå§‹æ•°ç»„ä¸ä¼šæœ‰ä»»ä½•æ›´æ”¹ã€‚</p><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†å‡ ç§åœ¨ <code>JavaScript</code> ä¸­å°†åˆ—è¡¨æ‹†åˆ†ä¸ºå¶æ•°å—çš„ç®€å•æ–¹æ³•ã€‚å°½ç®¡è¿™æ ·ï¼Œæˆ‘ä»¬å­¦ä¼šäº†å¦‚ä½•ä¸å‡ ä¸ªåƒå†…ç½®é˜µåˆ—æ–¹æ³•çš„å·¥ä½œ <code>slice()</code> å’Œ <code>splice()</code></p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/how-to-split-an-array-into-even-chunks-in-javascript" target="_blank" rel="noopener">https://stackabuse.com/how-to-split-an-array-into-even-chunks-in-javascript</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¾¾åˆ°å®Œç¾å¢ƒç•Œå¹¶ä¸æ˜¯æ— ä»¥å¤åŠ ï¼Œè€Œæ˜¯æ— å¯å»é™¤ã€‚â€”â€”&amp;lt;å®‰æ‰˜ä¸‡Â·å¾·Â·åœ£Â·åŸƒå…‹è‹ä½©é‡Œ&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;æ•°ç»„æ˜¯ &lt;code&gt;JavaScript&lt;/code&gt; ç¼–ç¨‹ä¸­æœ€å¸¸ç”¨çš„ç»“æ„ä¹‹ä¸€ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆäº†è§£å®ƒçš„å†…ç½®
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ä¸­å¸¸è§æ³¨æ„äº‹é¡¹</title>
    <link href="https://cl9000.github.io/2021/03/12/JavaScript%E4%B8%AD%E5%B8%B8%E8%A7%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
    <id>https://cl9000.github.io/2021/03/12/JavaScript%E4%B8%AD%E5%B8%B8%E8%A7%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</id>
    <published>2021-03-12T08:43:17.000Z</published>
    <updated>2021-06-01T12:11:14.794Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="windowheightè·å–åˆ°çš„é«˜åº¦ä¸å¯¹">$(window).height()è·å–åˆ°çš„é«˜åº¦ä¸å¯¹</span></h2><p><code>$(window).height()</code> æˆ– <code>document.documentElement.clientHeight</code><br>åªéœ€è¦å°† <code>html5</code> çš„å£°æ˜æ•´æˆæ ‡å‡†çš„å¸¦æœ‰ <code>&lt;!doctype&gt;</code> æˆ– <code>&lt;!DOCTYPE&gt;</code> çš„å£°æ˜çš„å°±å¯ä»¥äº†ã€‚</p><p><a href="https://cl9000.gitee.io/web-code/18_%E9%A1%B5%E9%9D%A2%E9%98%85%E8%AF%BB%E8%BF%9B%E5%BA%A6%E6%9D%A1/" target="_blank" rel="noopener">ç¤ºä¾‹Demo web-code 18</a></p><h2><span id="javascriptå±•å¹³å¤šç»´æ•°ç»„">JavaScriptå±•å¹³å¤šç»´æ•°ç»„</span></h2><p>å°†å¤šç»´æ•°ç»„åˆå¹¶ä¸ºå•ä¸ªæ•°ç»„çš„å‡ ç§å·²çŸ¥æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»™å®šæ­¤æ•°ç»„ï¼š</span></span><br><span class="line"><span class="keyword">var</span> myArray = [[<span class="number">1</span>, <span class="number">2</span>],[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]];</span><br><span class="line"><span class="comment">// æƒ³è¦è¿™æ ·çš„ç»“æœï¼š[1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨concat()å’Œapply()</span></span><br><span class="line"><span class="keyword">var</span> myNewArray = [].concat.apply([], myArray); <span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨ reduce()</span></span><br><span class="line"><span class="keyword">var</span> myNewArray = myArray.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, curr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> prev.concat(curr);</span><br><span class="line">&#125;); <span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ¡ˆ3ï¼šå¾ªç¯éå†</span></span><br><span class="line"><span class="keyword">var</span> myNewArray3 = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; myArray.length; ++i) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; myArray[i].length; ++j)</span><br><span class="line">    myNewArray3.push(myArray[i][j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(myNewArray3); <span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ¡ˆ4ï¼šåœ¨ES6ä¸­ ä½¿ç”¨ æ‰©å±•è¿ç®—ç¬¦...</span></span><br><span class="line"><span class="keyword">var</span> myNewArray4 = [].concat(...myArray);</span><br><span class="line"><span class="built_in">console</span>.log(myNewArray4); <span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ¡ˆ5ï¼šåœ¨ES10ä¸­ ä½¿ç”¨ flat() </span></span><br><span class="line"><span class="keyword">var</span> myNewArray5 = myArray.flat();</span><br><span class="line"><span class="built_in">console</span>.log(myNewArray5);</span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br></pre></td></tr></table></figure><p>å¯¹äºæ— é™åµŒå¥—çš„æ•°ç»„ï¼Œè¯·å°è¯•ä½¿ç”¨ Lodash çš„ <code>flattenDeep()</code>ã€‚<br><a href="https://lodash.com/docs#flattenDeep" target="_blank" rel="noopener">flattenDeep - https://lodash.com/docs#flattenDeep</a></p><p>å¦‚æœæ‚¨å¯¹æ€§èƒ½æ„Ÿåˆ°å¥½å¥‡ï¼Œè¯·åœ¨æ­¤å¤„è¿›è¡Œæµ‹è¯•ä»¥æ£€æŸ¥å…¶å·¥ä½œæ–¹å¼ã€‚<br><a href="https://jsperf.com/flatten-an-array-loop-vs-reduce/6" target="_blank" rel="noopener">https://jsperf.com/flatten-an-array-loop-vs-reduce/6</a></p><h2><span id="javascriptä»£ç æ®µ">JavaScriptä»£ç æ®µ</span></h2><p><code>setTimeout()</code> å¹¶ <code>setInterval()</code> æ¥å—å‚æ•°ï¼Œè¿™äº›å‚æ•°å°†ä¼ é€’ç»™å›è°ƒå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anArray = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = anArray.length; i &lt; l; i++) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item); <span class="comment">// logs: one two three</span></span><br><span class="line">  &#125;, <span class="number">1</span>, anArray[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿æ¥æ•°ç»„è€Œä¸åˆ›å»ºæ–°å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(a, b);</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h2><span id="é¡µé¢å¸è½½">é¡µé¢å¸è½½</span></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// ###### ç›‘å¬é¡µé¢ éšè—/æ˜¾ç¤º Start ##### ##### ##### ##### </span></span><br><span class="line">    <span class="comment">// query current page visibility state: prerender, visible, hidden</span></span><br><span class="line">    <span class="keyword">var</span> pageVisibility = <span class="built_in">document</span>.visibilityState;</span><br><span class="line">    <span class="comment">// subscribe to visibility change events</span></span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">'visibilitychange'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// fires when user switches tabs, apps, goes to homescreen, etc.</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.visibilityState == <span class="string">'hidden'</span>) &#123; </span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">'hidden...'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// fires when app transitions from prerender, user returns to the app / tab.</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.visibilityState == <span class="string">'visible'</span>) &#123; </span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'visible...'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="comment">/// ###### ç›‘å¬é¡µé¢ éšè—/æ˜¾ç¤º End ##### ##### ##### #####</span></span><br></pre></td></tr></table></figure><h2><span id="æ¢è¡Œé—®é¢˜">æ¢è¡Œé—®é¢˜</span></h2><p>åœ¨æ˜¾ç¤ºå†…å®¹çš„å…ƒç´ æ ‡ç­¾æ·»åŠ å¦‚ä¸‹æ ·å¼ï¼Œï¼ˆä½¿ç”¨<code>v-html</code>ç»‘å®šæ•°æ®ï¼ŒåŒæ—¶æ”¯æŒ <code>\n å’Œ &lt;br/&gt;</code>ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"white-space: pre-line;"</span> <span class="attr">v-html</span>=<span class="string">"htmlTxt"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·<code>\nï¼ˆ&lt;br/&gt;ï¼‰</code>å°±èƒ½è¢«è¯†åˆ«ï¼Œè‡ªåŠ¨æ¢è¡Œã€‚(æœ€ä½å…¼å®¹åˆ°IE8)ã€‚<a href="https://caniuse.com/" target="_blank" rel="noopener">caniuse å…¼å®¹æ€§æŸ¥çœ‹</a></p><blockquote><p>**æ³¨æ„ï¼š**è‹¥ç»è¿‡JSONå¤„ç†ï¼Œåå°ä¼ å…¥çš„ \n ä¼šè¢«è§£æä¸ºå­—ç¬¦ä¸²\ å’Œ nï¼Œ éœ€è¦åœ¨å¤„ç†ä¸€ä¸‹ <code>str.replace(/\\n/g, '\n')</code></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;windowheightè·å–åˆ°çš„é«˜åº¦ä¸å¯¹&quot;&gt;$(window).height()è·å–åˆ°çš„é«˜åº¦ä¸å¯¹&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;$(window).height()&lt;/code&gt; æˆ– &lt;code&gt;document.documentEleme
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Javascript ä¸­åŠ¨æ€åˆå¹¶ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§</title>
    <link href="https://cl9000.github.io/2021/03/04/Javascript%E4%B8%AD%E5%8A%A8%E6%80%81%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7/"/>
    <id>https://cl9000.github.io/2021/03/04/Javascript%E4%B8%AD%E5%8A%A8%E6%80%81%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7/</id>
    <published>2021-03-04T14:32:12.000Z</published>
    <updated>2021-06-10T14:40:14.523Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ç•æƒ§å¤±è´¥æ˜¯åˆ›é€ åŠ›çš„ä¸€ä¸ªåŸºæœ¬è¦ç´ ã€‚â€”â€”&lt;è‰¾å°”æ–‡Â·å…°å¾·åšå£«&gt;</p><h2><span id="ä»‹ç»">ä»‹ç»</span></h2><p>åœ¨ <code>JavaScript</code> ä¸­ï¼Œå¯¹è±¡è¢«å®šä¹‰ä¸ºé”®å€¼å¯¹çš„é›†åˆã€‚å¯¹è±¡ä¹Ÿæ˜¯ä¸€ç§éåŸå§‹æ•°æ®ç±»å‹ã€‚</p><p>æ‚¨ç»å¸¸éœ€è¦å°†å¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªï¼Œå…¶ä¸­åŒ…å«å…¶ç»„æˆéƒ¨åˆ†çš„æ‰€æœ‰å•ç‹¬å±æ€§ã€‚æ­¤æ“ä½œç§°ä¸ºåˆå¹¶ã€‚æ‰§è¡Œæ­¤æ“ä½œçš„ä¸¤ç§æœ€å¸¸è§æ–¹æ³•æ˜¯ï¼š</p><ul><li>ä½¿ç”¨ <strong>æ‰©å±•è¿ç®—ç¬¦(â€¦)</strong></li><li>ä½¿ç”¨ <code>Object.assign()</code>æ–¹æ³•</li></ul><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•åœ¨ <code>JavaScript</code> ä¸­åŠ¨æ€åˆå¹¶ä¸¤ä¸ªå¯¹è±¡ã€‚</p><p>ä¹‹åï¼Œæˆ‘ä»¬å°†ä»‹ç»æµ…åˆå¹¶å’Œæ·±åˆå¹¶ä¹‹é—´çš„åŒºåˆ«ï¼Œå› ä¸ºè¿™å¯¹äºå®Œå…¨ç†è§£å¯¹è±¡åˆå¹¶è‡³å…³é‡è¦ã€‚</p><h2><span id="ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦åˆå¹¶-javascript-å¯¹è±¡">ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦åˆå¹¶ JavaScript å¯¹è±¡</span></h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>æ‰©å±•è¿ç®—ç¬¦(...)</code> å°†ä¸åŒçš„å¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªã€‚è¿™ä¹Ÿæ˜¯åˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„æœ€å¸¸ç”¨æ–¹æ³•ã€‚</p><p>è¿™æ˜¯åˆå¹¶ä¸¤ä¸ªå¯¹è±¡çš„ä¸å¯å˜æ–¹æ³•ï¼Œå³ç”¨äºåˆå¹¶å¯¹è±¡çš„èµ·å§‹ä¸¤ä¸ªå¯¹è±¡ä¸ä¼šå› å‰¯ä½œç”¨è€Œä»¥ä»»ä½•æ–¹å¼æ”¹å˜ã€‚æœ€åï¼Œæ‚¨å¾—åˆ°äº†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œç”±ä¸¤è€…æ„å»ºè€Œæˆï¼Œè€Œå®ƒä»¬ä»ç„¶å®Œå¥½æ— æŸã€‚</p><p>è®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªå¯¹è±¡å¹¶åˆå¹¶å®ƒä»¬</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">onst person = &#123;</span><br><span class="line">    name: <span class="string">"John Doe"</span>,</span><br><span class="line">    age: <span class="number">24</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> job = &#123;</span><br><span class="line">    title: <span class="string">"Full stack developer"</span>,</span><br><span class="line">    location: <span class="string">"Remote"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> employee = &#123;...person, ...job&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(employee);</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     name: "John Doe", </span></span><br><span class="line"><span class="comment">//     age: 24, </span></span><br><span class="line"><span class="comment">//     title: "Full stack developer", </span></span><br><span class="line"><span class="comment">//     location: "Remote"</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¦‚æœè¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å­˜åœ¨å…±åŒçš„å±æ€§ï¼Œä¾‹å¦‚å®ƒä»¬éƒ½æœ‰ä¸€ä¸ª <code>location</code> ï¼Œåˆ™ç¬¬äºŒä¸ªå¯¹è±¡ (job) çš„å±æ€§å°†è¦†ç›–ç¬¬ä¸€ä¸ªå¯¹è±¡ ( person)çš„å±æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">"John Doe"</span>,</span><br><span class="line">    location: <span class="string">"Remote"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> job = &#123;</span><br><span class="line">    title: <span class="string">"Full stack developer"</span>,</span><br><span class="line">    location: <span class="string">"Office"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> employee = &#123;...person, ...job&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(employee);</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   name: 'John Doe',</span></span><br><span class="line"><span class="comment">//   location: 'Office',</span></span><br><span class="line"><span class="comment">//   title: 'Full stack developer'</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦åˆå¹¶ä¸¤ä¸ªä»¥ä¸Šçš„å¯¹è±¡ï¼Œåˆ™æœ€å³ä¾§çš„å¯¹è±¡ä¼šè¦†ç›–å·¦ä¾§çš„å¯¹è±¡ã€‚</p><h2><span id="ä½¿ç”¨-objectassign-åˆå¹¶-javascript-å¯¹è±¡">ä½¿ç”¨ Object.assign() åˆå¹¶ JavaScript å¯¹è±¡</span></h2><p>åˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„å¦ä¸€ç§å¸¸ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨å†…ç½®Object.assign()æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(target, source1, source2, ...);</span><br></pre></td></tr></table></figure><p>æ­¤æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡çš„æ‰€æœ‰å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ã€‚å°±åƒæ‰©å±•è¿ç®—ç¬¦ä¸€æ ·ï¼Œåœ¨è¦†ç›–æ—¶ï¼Œä½¿ç”¨æœ€å³è¾¹çš„å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">"John Doe"</span>, </span><br><span class="line">    age: <span class="number">24</span>,</span><br><span class="line">    location: <span class="string">"U.S.A"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> job = &#123;</span><br><span class="line">    title: <span class="string">"Full stack developer"</span>,</span><br><span class="line">    location: <span class="string">"Remote"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> employee = <span class="built_in">Object</span>.assign(person, job);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(employee);</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     name: "John Doe", </span></span><br><span class="line"><span class="comment">//     age: 24,</span></span><br><span class="line"><span class="comment">//     location: "Remote",</span></span><br><span class="line"><span class="comment">//     title: "Full stack developer"</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><p>åŒæ ·ï¼Œè¯·è®°ä½ï¼Œ<code>employee</code> å¼•ç”¨çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œå¹¶ä¸”ä¸èƒ½ä¸ <code>person</code> æˆ– <code>job</code> å¼•ç”¨çš„å¯¹è±¡ç›¸é“¾æ¥ã€‚</p><h2><span id="æµ…åˆå¹¶ä¸æ·±åˆå¹¶">æµ…åˆå¹¶ä¸æ·±åˆå¹¶</span></h2><p>åœ¨æµ…åˆå¹¶çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæºå¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§æ˜¯å¦ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ç›®æ ‡å¯¹è±¡åŒ…å«å¯¹æºå¯¹è±¡ä¸­å­˜åœ¨çš„åŒä¸€å¯¹è±¡çš„å¼•ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä¸ä¼šåˆ›å»ºæ–°å¯¹è±¡ã€‚</p><p>è®©æˆ‘ä»¬è°ƒæ•´å‰ä¸€ä¸ª <code>person</code> å¯¹è±¡ï¼Œå¹¶ <code>location</code> ä¸ºè‡ªå·±åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">"John Doe"</span>,</span><br><span class="line">    location: &#123;</span><br><span class="line">        city: <span class="string">"London"</span>, </span><br><span class="line">        country: <span class="string">"England"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> job = &#123;</span><br><span class="line">    title: <span class="string">"Full stack developer"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> employee = &#123;...person, ...job&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(employee.location === person.location); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>person</code> å’Œ <code>employee</code> å¯¹è±¡ä¸­å¯¹ <code>location</code> å¯¹è±¡çš„å¼•ç”¨æ˜¯ç›¸åŒçš„ã€‚å®é™…ä¸Šï¼Œ<code>æ‰©å±•æ“ä½œç¬¦(...)</code> å’Œ <code>Object.assign()</code> éƒ½æ‰§è¡Œæµ…åˆå¹¶ã€‚</p><p><code>JavaScript</code> æ²¡æœ‰ç°æˆçš„æ·±åº¦åˆå¹¶æ”¯æŒã€‚ç„¶è€Œï¼Œæœ‰ç¬¬ä¸‰æ–¹æ¨¡å—å’Œåº“æ”¯æŒå®ƒï¼Œæ¯”å¦‚ <code>Lodash</code> çš„ <code>_.merge</code>ã€‚<br><a href="https://www.npmjs.com/package/lodash.merge" target="_blank" rel="noopener">https://www.npmjs.com/package/lodash.merge</a></p><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•åœ¨JavaScriptä¸­åˆå¹¶ä¸¤ä¸ªå¯¹è±¡ã€‚æˆ‘ä»¬å·²ç»ç ”ç©¶äº† <code>æ‰©å±•æ“ä½œç¬¦(...)</code>å’Œ <code>Object.assign()</code> æ–¹æ³•ï¼Œå®ƒä»¬éƒ½æ‰§è¡Œä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„æµ…åˆå¹¶ã€‚</p><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://stackabuse.com/merge-properties-of-two-objects-dynamically-in-javascript" target="_blank" rel="noopener">https://stackabuse.com/merge-properties-of-two-objects-dynamically-in-javascript</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸ç•æƒ§å¤±è´¥æ˜¯åˆ›é€ åŠ›çš„ä¸€ä¸ªåŸºæœ¬è¦ç´ ã€‚â€”â€”&amp;lt;è‰¾å°”æ–‡Â·å…°å¾·åšå£«&amp;gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨ &lt;code&gt;JavaScript&lt;/code&gt; ä¸­ï¼Œå¯¹è±¡è¢«å®šä¹‰ä¸ºé”®å€¼å¯¹çš„é›†åˆã€‚å¯¹è±¡ä¹Ÿæ˜¯ä¸€ç§éåŸå§‹æ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://cl9000.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ä¸­çš„ é“¾åˆ¤æ–­è¿ç®—ç¬¦ã€?.ã€‘</title>
    <link href="https://cl9000.github.io/2021/01/28/JavaScript%E4%B8%AD%E7%9A%84%E9%93%BE%E5%88%A4%E6%96%AD%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <id>https://cl9000.github.io/2021/01/28/JavaScript%E4%B8%AD%E7%9A%84%E9%93%BE%E5%88%A4%E6%96%AD%E8%BF%90%E7%AE%97%E7%AC%A6/</id>
    <published>2021-01-28T09:12:40.000Z</published>
    <updated>2021-05-25T02:25:54.561Z</updated>
    
    <content type="html"><![CDATA[<p>äººç”Ÿä¸æ˜¯ä¸€ç§äº«ä¹ï¼Œè€Œæ˜¯ä¸€æ¡©ååˆ†æ²‰é‡çš„å·¥ä½œã€‚ â€”-&lt;åˆ—å¤«Â·æ‰˜å°”æ–¯æ³°&gt;</p><blockquote><p>ä½œè€…ï¼šAshish Lahoti<br>è¯‘è€…ï¼šcl9000<br>æ¥æºï¼š<a href="https://codingnconcepts.com/javascript/optional-chaining-operator-javascript/" target="_blank" rel="noopener">https://codingnconcepts.com/javascript/optional-chaining-operator-javascript/</a></p></blockquote><p>é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code> ç”¨äºé€šè¿‡éšå¼ç©ºæ£€æŸ¥è®¿é—®åµŒå¥—çš„å¯¹è±¡å±æ€§ã€‚</p><h2><span id="æ¦‚è¿°">æ¦‚è¿°</span></h2><p>å¦‚ä½•ä½¿ç”¨æ— æ•ˆ<code>ï¼ˆnullå’Œundefinedï¼‰</code>æ£€æŸ¥è®¿é—®å¯¹è±¡çš„åµŒå¥—å±æ€§ï¼Ÿå‡è®¾æˆ‘ä»¬å¿…é¡»é€šè¿‡ç½‘ç»œapiçš„å“åº”è®¿é—®ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ï¼Ÿ</p><p>æ‚¨å¯ä»¥<code>? ... :</code>åƒè¿™æ ·ä½¿ç”¨åµŒå¥—çš„ä¸‰å…ƒè¿ç®—ç¬¦ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userName = response ? (response.data ? (response.data.user ? response.data.user.name : <span class="literal">null</span>) : <span class="literal">null</span>) : <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>æˆ–è€…æ‚¨å¯ä»¥åœ¨<code>if</code>è¿™ç§æƒ…å†µä¸‹è¿›è¡Œç©ºå€¼æ£€æŸ¥ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span>(response &amp;&amp; response.data &amp;&amp; response.data.user)&#123;</span><br><span class="line">  userName = response.data.user.name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”šè‡³æ›´å¥½çš„æ–¹æ³•å¯ä»¥ä½¿å…¶&amp;&amp;åƒè¿™æ ·çš„å•è¡¬æ¿é“¾æ¡çŠ¶æ€ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userName = response &amp;&amp; response.data &amp;&amp; response.data.user &amp;&amp; response.data.user.name;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç çš„å…±åŒç‚¹æ˜¯ï¼Œé“¾æ¥æœ‰æ—¶å¯èƒ½çœŸçš„å¾ˆé•¿ï¼Œå¹¶ä¸”å˜å¾—æ›´åŠ éš¾ä»¥æ ¼å¼åŒ–å’Œè¯»å–ã€‚è¿™æ˜¯å¯é€‰çš„é“¾æ¥?.è¿ç®—ç¬¦æä¾›å¸®åŠ©çš„åœ°æ–¹ï¼Œè¯¥è¿ç®—ç¬¦æä¾›äº†éšå¼çš„æ— æ•ˆæ£€æŸ¥ï¼Œå¹¶ä½¿æˆ‘ä»¬çš„ä»£ç æ›´å°ï¼Œæ›´å¥½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userName = response?.data?.user?.name;</span><br></pre></td></tr></table></figure><h2><span id="å¥æ³•">å¥æ³•</span></h2><p>é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code> åœ¨<code>Javascript ES2020</code>ä¸­å¼•å…¥ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj.val?.prop       returns obj.val.prop <span class="keyword">if</span> val exists, otherwise <span class="literal">undefined</span>.</span><br><span class="line">obj.func?.(args)    returns obj.func(args) <span class="keyword">if</span> func exists, otherwise <span class="literal">undefined</span>.</span><br><span class="line">obj.arr?.[index]    returns obj.array[index] <span class="keyword">if</span> array exists, otherwise <span class="literal">undefined</span>.</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code> è¿ç®—ç¬¦</p><p>è®©æˆ‘ä»¬çœ‹çœ‹<code>?.</code>æ“ä½œç¬¦ä¸<code>user</code>å¯¹è±¡çš„ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  name: <span class="string">"John"</span>,</span><br><span class="line">  age: <span class="number">21</span>,</span><br><span class="line">  homeaddress: &#123;</span><br><span class="line">    country: <span class="string">"USA"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  hobbies: [&#123;<span class="attr">name</span>: <span class="string">"Coding"</span>&#125;, &#123;<span class="attr">name</span>: <span class="string">"Cooking"</span>&#125;],</span><br><span class="line">  getFirstName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2><span id="å…·æœ‰å±æ€§">å…·æœ‰å±æ€§</span></h2><p>è®¿é—®å­˜åœ¨çš„å±æ€§è¿”å›å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.homeaddress.country); </span><br><span class="line"><span class="comment">// prints "USA";</span></span><br></pre></td></tr></table></figure><p>è®¿é—®ä¸å­˜åœ¨çš„å±æ€§ä¼šå¼•å‘é”™è¯¯ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.officeaddress.country); </span><br><span class="line"><span class="comment">// throws error "Uncaught TypeError: Cannot read property 'country' of undefined"</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code>ä¸å­˜åœ¨çš„é“¾åˆ¤æ–­è¿ç®—ç¬¦è¿ç®—ç¬¦è®¿é—®å±æ€§å°†è¿”å›<code>undefined</code>ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.officeaddress?.country); </span><br><span class="line"><span class="comment">// prints "undefined"</span></span><br></pre></td></tr></table></figure><h2><span id="å…·æœ‰åŠŸèƒ½">å…·æœ‰åŠŸèƒ½</span></h2><p>è°ƒç”¨å­˜åœ¨çš„å‡½æ•°è¿”å›å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.getFirstName()); </span><br><span class="line"><span class="comment">// prints "John";</span></span><br></pre></td></tr></table></figure><p>è°ƒç”¨ä¸å­˜åœ¨çš„å‡½æ•°ä¼šå¼•å‘é”™è¯¯ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.getLastName()); </span><br><span class="line"><span class="comment">// throws error "Uncaught TypeError: user.getLastName is not a function";</span></span><br></pre></td></tr></table></figure><p>ç”¨é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code>ä¸å­˜åœ¨çš„<code>Optional chaining operator</code>è°ƒç”¨ä¸€ä¸ªå‡½æ•°å°†è¿”å›<code>undefinedï¼š-</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.getLastName?.()); </span><br><span class="line"><span class="comment">// prints "undefined"</span></span><br></pre></td></tr></table></figure><h2><span id="ä¸æ•°ç»„">ä¸æ•°ç»„</span></h2><p>è®¿é—®æ•°ç»„çš„ç°æœ‰ç´¢å¼•è¿”å›å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.hobbies[<span class="number">0</span>].name); </span><br><span class="line"><span class="comment">// prints "Coding";</span></span><br></pre></td></tr></table></figure><p>è®¿é—®æ•°ç»„çš„ä¸å­˜åœ¨çš„ç´¢å¼•ä¼šå¼•å‘é”™è¯¯ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.hobbies[<span class="number">3</span>].name); </span><br><span class="line"><span class="comment">// throws error "Uncaught TypeError: Cannot read property 'name' of undefined"</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code>è®¿é—®æ•°ç»„çš„ä¸å­˜åœ¨çš„ç´¢å¼•ï¼Œå°†è¿”å›undefinedï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.hobbies[<span class="number">3</span>]?.name); </span><br><span class="line"><span class="comment">// prints "undefined"</span></span><br></pre></td></tr></table></figure><p>è®¿é—®ä¸å­˜åœ¨çš„æ•°ç»„ä¼šå¼•å‘é”™è¯¯ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.dislikes[<span class="number">0</span>].name); </span><br><span class="line"><span class="comment">// throws error "Uncaught TypeError: Cannot read property '0' of undefined"</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code>ä¸å­˜åœ¨çš„è®¿é—®æ•°ç»„å°†è¿”å›<code>undefined</code>ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(user.dislikes?.[<span class="number">0</span>]?.name); </span><br><span class="line"><span class="comment">// prints "undefined"</span></span><br></pre></td></tr></table></figure><h2><span id="ä¸ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦">ä¸ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ ??</span></h2><p>ç°åœ¨ï¼Œæ‚¨çŸ¥é“å¦‚æœå¯¹è±¡ä¸å­˜åœ¨ï¼Œåˆ™é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code>å°†è¿”å›<code>undefined</code>ã€‚æœ‰æ—¶æ‚¨æƒ³è¿”å›ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯<code>undefined</code>ï¼Œé€šè¿‡ä½¿ç”¨ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦<code>??</code> å’Œé“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code>æ¥è¿”å›ä¸€ä¸ªå€¼ã€‚</p><p>å¦‚æœæ²¡æœ‰ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦<code>??</code>ï¼Œåˆ™è¿”å›<code>undefined</code>ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> country = user.officeaddress?.country;</span><br><span class="line"><span class="built_in">console</span>.log(country);</span><br><span class="line"><span class="comment">// prints "undefined"</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦<code>??</code>ï¼Œè¿”å›é»˜è®¤å€¼ï¼š-</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> country = user.officeaddress?.country ?? <span class="string">"USA"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(country);</span><br><span class="line"><span class="comment">// prints "USA"</span></span><br></pre></td></tr></table></figure><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><ul><li><a href="https://codingnconcepts.com/javascript/optional-chaining-operator-javascript/" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥ https://seifi.org/javascript/optional-chaining-in-javascript.html</a></li><li><a href="https://seifi.org/javascript/optional-chaining-in-javascript.html" target="_blank" rel="noopener">https://seifi.org/javascript/optional-chaining-in-javascript.html</a></li></ul><p><strong>å…³æ³¨ã€å…¬ä¼—å·ã€‘ï¼Œäº†è§£æ›´å¤šã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/cl9000/wel-imgs/blogImgs/a_weicl.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;äººç”Ÿä¸æ˜¯ä¸€ç§äº«ä¹ï¼Œè€Œæ˜¯ä¸€æ¡©ååˆ†æ²‰é‡çš„å·¥ä½œã€‚ â€”-&amp;lt;åˆ—å¤«Â·æ‰˜å°”æ–¯æ³°&amp;gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½œè€…ï¼šAshish Lahoti&lt;br&gt;
è¯‘è€…ï¼šcl9000&lt;br&gt;
æ¥æºï¼š&lt;a href=&quot;https://codingnconcepts.com/ja
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://cl9000.github.io/tags/JavaScript/"/>
    
  </entry>
  
</feed>
